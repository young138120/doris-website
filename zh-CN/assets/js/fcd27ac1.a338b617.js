"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["514301"],{660190:function(n,e,l){l.r(e),l.d(e,{metadata:()=>s,contentTitle:()=>d,default:()=>o,assets:()=>h,toc:()=>t,frontMatter:()=>c});var s=JSON.parse('{"id":"install/source-install/compilation-arm","title":"\u5728ARM\u5E73\u53F0\u4E0A\u7F16\u8BD1","description":"\x3c!--","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/version-1.2/install/source-install/compilation-arm.md","sourceDirName":"install/source-install","slug":"/install/source-install/compilation-arm","permalink":"/zh-CN/docs/1.2/install/source-install/compilation-arm","draft":false,"unlisted":false,"tags":[],"version":"1.2","frontMatter":{"title":"\u5728ARM\u5E73\u53F0\u4E0A\u7F16\u8BD1","language":"zh-CN"},"sidebar":"docs","previous":{"title":"\u4F7F\u7528 LDB toolchain \u7F16\u8BD1","permalink":"/zh-CN/docs/1.2/install/source-install/compilation-with-ldb-toolchain"},"next":{"title":"\u5728Windows\u5E73\u53F0\u4E0A\u7F16\u8BD1","permalink":"/zh-CN/docs/1.2/install/source-install/compilation-win"}}'),i=l("785893"),r=l("250065");let c={title:"\u5728ARM\u5E73\u53F0\u4E0A\u7F16\u8BD1",language:"zh-CN"},d="Apache Doris ARM \u67B6\u6784\u7F16\u8BD1",h={},t=[{value:"KylinOS",id:"kylinos",level:2},{value:"\u8F6F\u786C\u4EF6\u73AF\u5883",id:"\u8F6F\u786C\u4EF6\u73AF\u5883",level:3},{value:"\u4F7F\u7528 ldb-toolchain \u7F16\u8BD1",id:"\u4F7F\u7528-ldb-toolchain-\u7F16\u8BD1",level:3},{value:"CentOS &amp; Ubuntu",id:"centos--ubuntu",level:2},{value:"\u786C\u4EF6\u73AF\u5883",id:"\u786C\u4EF6\u73AF\u5883",level:3},{value:"\u8F6F\u4EF6\u73AF\u5883",id:"\u8F6F\u4EF6\u73AF\u5883",level:3},{value:"\u8F6F\u4EF6\u73AF\u5883\u5BF9\u7167\u8868",id:"\u8F6F\u4EF6\u73AF\u5883\u5BF9\u7167\u8868",level:4},{value:"\u8F6F\u4EF6\u73AF\u5883\u5B89\u88C5\u547D\u4EE4",id:"\u8F6F\u4EF6\u73AF\u5883\u5B89\u88C5\u547D\u4EE4",level:4},{value:"CentOS 8.4",id:"centos-84",level:5},{value:"Ubuntu 20.04",id:"ubuntu-2004",level:5},{value:"\u4E0B\u8F7D\u6E90\u7801",id:"\u4E0B\u8F7D\u6E90\u7801",level:4},{value:"\u5B89\u88C5\u90E8\u7F72",id:"\u5B89\u88C5\u90E8\u7F72",level:4},{value:"\u67E5\u770B\u662F\u5426\u652F\u6301 AVX2 \u6307\u4EE4\u96C6",id:"\u67E5\u770B\u662F\u5426\u652F\u6301-avx2-\u6307\u4EE4\u96C6",level:5},{value:"\u6267\u884C\u7F16\u8BD1",id:"\u6267\u884C\u7F16\u8BD1",level:5},{value:"\u5E38\u89C1\u95EE\u9898",id:"\u5E38\u89C1\u95EE\u9898",level:3}];function a(n){let e={a:"a",blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"apache-doris-arm-\u67B6\u6784\u7F16\u8BD1",children:"Apache Doris ARM \u67B6\u6784\u7F16\u8BD1"})}),"\n",(0,i.jsx)(e.p,{children:"\u672C\u6587\u6863\u4ECB\u7ECD\u5982\u4F55\u5728 ARM64 \u5E73\u53F0\u4E0A\u7F16\u8BD1 Doris\u3002"}),"\n",(0,i.jsx)(e.p,{children:"\u6CE8\u610F\uFF0C\u8BE5\u6587\u6863\u4EC5\u4F5C\u4E3A\u6307\u5BFC\u6027\u6587\u6863\u3002\u5728\u4E0D\u540C\u73AF\u5883\u4E2D\u7F16\u8BD1\u53EF\u80FD\u51FA\u73B0\u5176\u4ED6\u9519\u8BEF\u3002"}),"\n",(0,i.jsx)(e.h2,{id:"kylinos",children:"KylinOS"}),"\n",(0,i.jsx)(e.h3,{id:"\u8F6F\u786C\u4EF6\u73AF\u5883",children:"\u8F6F\u786C\u4EF6\u73AF\u5883"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"KylinOS \u7248\u672C\uFF1A"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"$> cat /etc/.kyinfo\nname=Kylin-Server\nmilestone=10-SP1-Release-Build04-20200711\narch=arm64\nbeta=False\ntime=2020-07-11 17:16:54\ndist_id=Kylin-Server-10-SP1-Release-Build04-20200711-arm64-2020-07-11 17:16:54\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"CPU\u578B\u53F7\uFF1A"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"$> cat /proc/cpuinfo\nmodel name  : Phytium,FT-2000+/64\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"\u4F7F\u7528-ldb-toolchain-\u7F16\u8BD1",children:"\u4F7F\u7528 ldb-toolchain \u7F16\u8BD1"}),"\n",(0,i.jsxs)(e.p,{children:["\u8BE5\u65B9\u6CD5\u9002\u7528\u4E8E ",(0,i.jsx)(e.a,{href:"https://github.com/apache/doris/commit/7f3564cca62de49c9f2ea67fcf735921dbebb4d1",children:"commit 7f3564"})," \u4E4B\u540E\u7684 Doris \u7248\u672C\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:["\u4E0B\u8F7D ",(0,i.jsx)(e.a,{href:"https://github.com/amosbird/ldb_toolchain_gen/releases/download/v0.9.1/ldb_toolchain_gen.aarch64.sh",children:"ldb_toolchain_gen.aarch64.sh"})]}),"\n",(0,i.jsxs)(e.p,{children:["\u4E4B\u540E\u7684\u7F16\u8BD1\u65B9\u5F0F\u53C2\u9605 ",(0,i.jsx)(e.a,{href:"/zh-CN/docs/1.2/install/source-install/compilation-with-ldb-toolchain",children:"\u4F7F\u7528 LDB toolchain \u7F16\u8BD1"})]}),"\n",(0,i.jsx)(e.p,{children:"\u6CE8\u610F\u5176\u4E2D jdk \u548C nodejs \u90FD\u9700\u8981\u4E0B\u8F7D\u5BF9\u5E94\u7684 aarch64 \u7248\u672C\uFF1A"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://doris-thirdparty-repo.bj.bcebos.com/thirdparty/jdk-8u291-linux-aarch64.tar.gz",children:"Java8-aarch64"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://doris-thirdparty-repo.bj.bcebos.com/thirdparty/node-v16.3.0-linux-arm64.tar.xz",children:"Node v12.13.0-aarch64"})}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"centos--ubuntu",children:"CentOS & Ubuntu"}),"\n",(0,i.jsx)(e.h3,{id:"\u786C\u4EF6\u73AF\u5883",children:"\u786C\u4EF6\u73AF\u5883"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"\u7CFB\u7EDF\u7248\u672C\uFF1ACentOS 8.4\u3001Ubuntu 20.04"}),"\n",(0,i.jsx)(e.li,{children:"\u7CFB\u7EDF\u67B6\u6784\uFF1AARM X64"}),"\n",(0,i.jsx)(e.li,{children:"CPU\uFF1A4 C"}),"\n",(0,i.jsx)(e.li,{children:"\u5185\u5B58\uFF1A16 GB"}),"\n",(0,i.jsx)(e.li,{children:"\u786C\u76D8\uFF1A40GB\uFF08SSD\uFF09\u3001100GB\uFF08SSD\uFF09"}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"\u8F6F\u4EF6\u73AF\u5883",children:"\u8F6F\u4EF6\u73AF\u5883"}),"\n",(0,i.jsx)(e.h4,{id:"\u8F6F\u4EF6\u73AF\u5883\u5BF9\u7167\u8868",children:"\u8F6F\u4EF6\u73AF\u5883\u5BF9\u7167\u8868"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u7EC4\u4EF6\u540D\u79F0"}),(0,i.jsx)(e.th,{children:"\u7EC4\u4EF6\u7248\u672C"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"Git"}),(0,i.jsx)(e.td,{children:"2.0+"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"JDK"}),(0,i.jsx)(e.td,{children:"1.8.0"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"Maven"}),(0,i.jsx)(e.td,{children:"3.6.3"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"NodeJS"}),(0,i.jsx)(e.td,{children:"16.3.0"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"LDB-Toolchain"}),(0,i.jsx)(e.td,{children:"0.9.1"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsxs)(e.td,{children:["\u5E38\u5907\u73AF\u5883\uFF1A",(0,i.jsx)(e.br,{}),"byacc",(0,i.jsx)(e.br,{}),"patch",(0,i.jsx)(e.br,{}),"automake",(0,i.jsx)(e.br,{}),"libtool",(0,i.jsx)(e.br,{}),"make",(0,i.jsx)(e.br,{}),"which",(0,i.jsx)(e.br,{}),"file",(0,i.jsx)(e.br,{}),"ncurses-devel",(0,i.jsx)(e.br,{}),"gettext-devel",(0,i.jsx)(e.br,{}),"unzip",(0,i.jsx)(e.br,{}),"bzip2",(0,i.jsx)(e.br,{}),"zip",(0,i.jsx)(e.br,{}),"util-linux",(0,i.jsx)(e.br,{}),"wget",(0,i.jsx)(e.br,{}),"git",(0,i.jsx)(e.br,{}),"python2"]}),(0,i.jsx)(e.td,{children:"yum\u6216apt\u81EA\u52A8\u5B89\u88C5\u5373\u53EF"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"autoconf"}),(0,i.jsx)(e.td,{children:"2.69"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"bison"}),(0,i.jsx)(e.td,{children:"3.0.4"})]})]})]}),"\n",(0,i.jsx)(e.h4,{id:"\u8F6F\u4EF6\u73AF\u5883\u5B89\u88C5\u547D\u4EE4",children:"\u8F6F\u4EF6\u73AF\u5883\u5B89\u88C5\u547D\u4EE4"}),"\n",(0,i.jsx)(e.h5,{id:"centos-84",children:"CentOS 8.4"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u521B\u5EFA\u8F6F\u4EF6\u4E0B\u8F7D\u5B89\u88C5\u5305\u6839\u76EE\u5F55\u548C\u8F6F\u4EF6\u5B89\u88C5\u6839\u76EE\u5F55"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"# \u521B\u5EFA\u8F6F\u4EF6\u4E0B\u8F7D\u5B89\u88C5\u5305\u6839\u76EE\u5F55\nmkdir /opt/tools\n# \u521B\u5EFA\u8F6F\u4EF6\u5B89\u88C5\u6839\u76EE\u5F55\nmkdir /opt/software\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Git"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"# \u7701\u53BB\u7F16\u8BD1\u9EBB\u70E6\uFF0C\u76F4\u63A5\u4F7F\u7528 yum \u5B89\u88C5\nyum install -y git\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"JDK8"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"# \u4E24\u79CD\u65B9\u5F0F\uFF0C\u7B2C\u4E00\u79CD\u662F\u7701\u53BB\u989D\u5916\u4E0B\u8F7D\u548C\u914D\u7F6E\uFF0C\u76F4\u63A5\u4F7F\u7528 yum \u5B89\u88C5\uFF0C\u5B89\u88C5 devel \u5305\u662F\u4E3A\u4E86\u83B7\u53D6\u4E00\u4E9B\u5DE5\u5177\uFF0C\u5982 jps \u547D\u4EE4\nyum install -y java-1.8.0-openjdk java-1.8.0-openjdk-devel\n\n# \u7B2C\u4E8C\u79CD\u662F\u4E0B\u8F7D arm64 \u67B6\u6784\u7684\u5B89\u88C5\u5305\uFF0C\u89E3\u538B\u914D\u7F6E\u73AF\u5883\u53D8\u91CF\u540E\u4F7F\u7528\ncd /opt/tools\nwget https://doris-thirdparty-repo.bj.bcebos.com/thirdparty/jdk-8u291-linux-aarch64.tar.gz && \\\n	tar -zxvf jdk-8u291-linux-aarch64.tar.gz && \\\n	mv jdk1.8.0_291 /opt/software/jdk8\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Maven"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"cd /opt/tools\n# wget \u5DE5\u5177\u4E0B\u8F7D\u540E\uFF0C\u76F4\u63A5\u89E3\u538B\u7F29\u914D\u7F6E\u73AF\u5883\u53D8\u91CF\u4F7F\u7528\nwget https://archive.apache.org/dist/maven/maven-3/3.6.3/binaries/apache-maven-3.6.3-bin.tar.gz && \\\n	tar -zxvf apache-maven-3.6.3-bin.tar.gz && \\\n	mv apache-maven-3.6.3 /opt/software/maven\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"NodeJS"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"cd /opt/tools\n# \u4E0B\u8F7D arm64 \u67B6\u6784\u7684\u5B89\u88C5\u5305\nwget https://doris-thirdparty-repo.bj.bcebos.com/thirdparty/node-v16.3.0-linux-arm64.tar.xz && \\\n	tar -xvf node-v16.3.0-linux-arm64.tar.xz && \\\n	mv node-v16.3.0-linux-arm64 /opt/software/nodejs\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"LDB-Toolchain"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"cd /opt/tools\n# \u4E0B\u8F7D LDB-Toolchain ARM \u7248\u672C\nwget https://github.com/amosbird/ldb_toolchain_gen/releases/download/v0.9.1/ldb_toolchain_gen.aarch64.sh && \\\n	sh ldb_toolchain_gen.aarch64.sh /opt/software/ldb_toolchain/\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u914D\u7F6E\u73AF\u5883\u53D8\u91CF"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:'# \u914D\u7F6E\u73AF\u5883\u53D8\u91CF\nvim /etc/profile.d/doris.sh\nexport JAVA_HOME=/opt/software/jdk8\nexport MAVEN_HOME=/opt/software/maven\nexport NODE_JS_HOME=/opt/software/nodejs\nexport LDB_HOME=/opt/software/ldb_toolchain\nexport PATH=$JAVA_HOME/bin:$MAVEN_HOME/bin:$NODE_JS_HOME/bin:$LDB_HOME/bin:$PATH\n\n# \u4FDD\u5B58\u9000\u51FA\u5E76\u5237\u65B0\u73AF\u5883\u53D8\u91CF\nsource /etc/profile.d/doris.sh\n\n# \u6D4B\u8BD5\u662F\u5426\u6210\u529F\njava -version\n> java version "1.8.0_291"\nmvn -version\n> Apache Maven 3.6.3\nnode --version\n> v16.3.0\ngcc --version\n> gcc-11\n'})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u5B89\u88C5\u5176\u4ED6\u989D\u5916\u73AF\u5883\u548C\u7EC4\u4EF6"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"# install required system packages\nsudo yum install -y byacc patch automake libtool make which file ncurses-devel gettext-devel unzip bzip2 bison zip util-linux wget git python2\n\n# install autoconf-2.69\ncd /opt/tools\nwget http://ftp.gnu.org/gnu/autoconf/autoconf-2.69.tar.gz && \\\n    tar zxf autoconf-2.69.tar.gz && \\\n    mv autoconf-2.69 /opt/software/autoconf && \\\n    cd /opt/software/autoconf && \\\n    ./configure && \\\n    make && \\\n    make install\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h5,{id:"ubuntu-2004",children:"Ubuntu 20.04"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u66F4\u65B0 apt-get \u8F6F\u4EF6\u5E93"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"apt-get update\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u68C0\u67E5 shell \u547D\u4EE4\u96C6"}),"\n",(0,i.jsx)(e.p,{children:"ubuntu \u7684 shell \u9ED8\u8BA4\u5B89\u88C5\u7684\u662F dash\uFF0C\u800C\u4E0D\u662F bash\uFF0C\u8981\u5207\u6362\u6210 bash \u624D\u80FD\u6267\u884C\uFF0C\u8FD0\u884C\u4EE5\u4E0B\u547D\u4EE4\u67E5\u770B sh \u7684\u8BE6\u7EC6\u4FE1\u606F\uFF0C\u786E\u8BA4 shell \u5BF9\u5E94\u7684\u7A0B\u5E8F\u662F\u54EA\u4E2A\uFF1A"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"ls -al /bin/sh\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u901A\u8FC7\u4EE5\u4E0B\u65B9\u5F0F\u53EF\u4EE5\u4F7F shell \u5207\u6362\u56DE bash\uFF1A"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"sudo dpkg-reconfigure dash\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u7136\u540E\u9009\u62E9 no \u6216\u8005 \u5426 \uFF0C\u5E76\u786E\u8BA4"}),"\n",(0,i.jsx)(e.p,{children:"\u8FD9\u6837\u505A\u5C06\u91CD\u65B0\u914D\u7F6E dash\uFF0C\u5E76\u4F7F\u5176\u4E0D\u4F5C\u4E3A\u9ED8\u8BA4\u7684 shell \u5DE5\u5177"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u521B\u5EFA\u8F6F\u4EF6\u4E0B\u8F7D\u5B89\u88C5\u5305\u6839\u76EE\u5F55\u548C\u8F6F\u4EF6\u5B89\u88C5\u6839\u76EE\u5F55"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"# \u521B\u5EFA\u8F6F\u4EF6\u4E0B\u8F7D\u5B89\u88C5\u5305\u6839\u76EE\u5F55\nmkdir /opt/tools\n# \u521B\u5EFA\u8F6F\u4EF6\u5B89\u88C5\u6839\u76EE\u5F55\nmkdir /opt/software\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Git"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"# \u7701\u53BB\u7F16\u8BD1\u9EBB\u70E6\uFF0C\u76F4\u63A5\u4F7F\u7528 apt-get \u5B89\u88C5\napt-get -y install git\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"JDK8"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"# \u4E0B\u8F7D arm64 \u67B6\u6784\u7684\u5B89\u88C5\u5305\uFF0C\u89E3\u538B\u914D\u7F6E\u73AF\u5883\u53D8\u91CF\u540E\u4F7F\u7528\ncd /opt/tools\nwget https://doris-thirdparty-repo.bj.bcebos.com/thirdparty/jdk-8u291-linux-aarch64.tar.gz && \\\n	tar -zxvf jdk-8u291-linux-aarch64.tar.gz && \\\n	mv jdk1.8.0_291 /opt/software/jdk8\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Maven"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"cd /opt/tools\n# wget \u5DE5\u5177\u4E0B\u8F7D\u540E\uFF0C\u76F4\u63A5\u89E3\u538B\u7F29\u914D\u7F6E\u73AF\u5883\u53D8\u91CF\u4F7F\u7528\nwget https://dlcdn.apache.org/maven/maven-3/3.6.3/binaries/apache-maven-3.6.3-bin.tar.gz && \\\n	tar -zxvf apache-maven-3.6.3-bin.tar.gz && \\\n	mv apache-maven-3.6.3 /opt/software/maven\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"NodeJS"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"cd /opt/tools\n# \u4E0B\u8F7D arm64 \u67B6\u6784\u7684\u5B89\u88C5\u5305\nwget https://doris-thirdparty-repo.bj.bcebos.com/thirdparty/node-v16.3.0-linux-arm64.tar.xz && \\\n	tar -xvf node-v16.3.0-linux-arm64.tar.xz && \\\n	mv node-v16.3.0-linux-arm64 /opt/software/nodejs\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"LDB-Toolchain"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"cd /opt/tools\n# \u4E0B\u8F7D LDB-Toolchain ARM \u7248\u672C\nwget https://github.com/amosbird/ldb_toolchain_gen/releases/download/v0.9.1/ldb_toolchain_gen.aarch64.sh && \\\nsh ldb_toolchain_gen.aarch64.sh /opt/software/ldb_toolchain/\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u914D\u7F6E\u73AF\u5883\u53D8\u91CF"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:'# \u914D\u7F6E\u73AF\u5883\u53D8\u91CF\nvim /etc/profile.d/doris.sh\nexport JAVA_HOME=/opt/software/jdk8\nexport MAVEN_HOME=/opt/software/maven\nexport NODE_JS_HOME=/opt/software/nodejs\nexport LDB_HOME=/opt/software/ldb_toolchain\nexport PATH=$JAVA_HOME/bin:$MAVEN_HOME/bin:$NODE_JS_HOME/bin:$LDB_HOME/bin:$PATH\n\n# \u4FDD\u5B58\u9000\u51FA\u5E76\u5237\u65B0\u73AF\u5883\u53D8\u91CF\nsource /etc/profile.d/doris.sh\n\n# \u6D4B\u8BD5\u662F\u5426\u6210\u529F\njava -version\n> java version "1.8.0_291"\nmvn -version\n> Apache Maven 3.6.3\nnode --version\n> v16.3.0\ngcc --version\n> gcc-11\n'})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u5B89\u88C5\u5176\u4ED6\u989D\u5916\u73AF\u5883\u548C\u7EC4\u4EF6"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"# install required system packages\nsudo apt install -y build-essential cmake flex automake bison binutils-dev libiberty-dev zip libncurses5-dev curl ninja-build\nsudo apt-get install -y make\nsudo apt-get install -y unzip\nsudo apt-get install -y python2\nsudo apt-get install -y byacc\nsudo apt-get install -y automake\nsudo apt-get install -y libtool\nsudo apt-get install -y bzip2\nsudo add-apt-repository ppa:ubuntu-toolchain-r/ppa \nsudo apt update\nsudo apt install gcc-11 g++-11 \nsudo apt-get -y install autoconf autopoint\n\n# install autoconf-2.69\ncd /opt/tools\nwget http://ftp.gnu.org/gnu/autoconf/autoconf-2.69.tar.gz && \\\n    tar zxf autoconf-2.69.tar.gz && \\\n    mv autoconf-2.69 /opt/software/autoconf && \\\n    cd /opt/software/autoconf && \\\n    ./configure && \\\n    make && \\\n    make install\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h4,{id:"\u4E0B\u8F7D\u6E90\u7801",children:"\u4E0B\u8F7D\u6E90\u7801"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"cd /opt\ngit clone https://github.com/apache/doris.git\n"})}),"\n",(0,i.jsx)(e.h4,{id:"\u5B89\u88C5\u90E8\u7F72",children:"\u5B89\u88C5\u90E8\u7F72"}),"\n",(0,i.jsx)(e.h5,{id:"\u67E5\u770B\u662F\u5426\u652F\u6301-avx2-\u6307\u4EE4\u96C6",children:"\u67E5\u770B\u662F\u5426\u652F\u6301 AVX2 \u6307\u4EE4\u96C6"}),"\n",(0,i.jsx)(e.p,{children:"\u82E5\u6709\u6570\u636E\u8FD4\u56DE\uFF0C\u5219\u4EE3\u8868\u652F\u6301\uFF0C\u82E5\u65E0\u6570\u636E\u8FD4\u56DE\uFF0C\u5219\u4EE3\u8868\u4E0D\u652F\u6301"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"cat /proc/cpuinfo | grep avx2\n"})}),"\n",(0,i.jsx)(e.h5,{id:"\u6267\u884C\u7F16\u8BD1",children:"\u6267\u884C\u7F16\u8BD1"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"# \u652F\u6301 AVX2 \u6307\u4EE4\u96C6\u7684\u673A\u5668\uFF0C\u76F4\u63A5\u7F16\u8BD1\u5373\u53EF\nsh build.sh\n# \u4E0D\u652F\u6301 AVX2 \u6307\u4EE4\u96C6\u7684\u673A\u5668\uFF0C\u4F7F\u7528\u5982\u4E0B\u547D\u4EE4\u7F16\u8BD1\nUSE_AVX2=OFF sh build.sh\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u5E38\u89C1\u95EE\u9898",children:"\u5E38\u89C1\u95EE\u9898"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u7F16\u8BD1\u7B2C\u4E09\u65B9\u5E93 libhdfs3.a \uFF0C\u627E\u4E0D\u5230\u6587\u4EF6\u5939"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u95EE\u9898\u63CF\u8FF0"}),"\n",(0,i.jsx)(e.p,{children:"\u5728\u6267\u884C\u7F16\u8BD1\u5B89\u88C5\u8FC7\u7A0B\u4E2D\uFF0C\u51FA\u73B0\u4E86\u5982\u4E0B\u62A5\u9519"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"not found lib/libhdfs3.a file or directory"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u95EE\u9898\u539F\u56E0"}),"\n",(0,i.jsx)(e.p,{children:"\u7B2C\u4E09\u65B9\u5E93\u7684\u4F9D\u8D56\u4E0B\u8F7D\u6709\u95EE\u9898"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u89E3\u51B3\u65B9\u6848"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u4F7F\u7528\u7B2C\u4E09\u65B9\u4E0B\u8F7D\u4ED3\u5E93"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"export REPOSITORY_URL=https://doris-thirdparty-repo.bj.bcebos.com/thirdparty\nsh /opt/doris/thirdparty/build-thirdparty.sh\n"})}),"\n",(0,i.jsx)(e.p,{children:"REPOSITORY_URL \u4E2D\u5305\u542B\u6240\u6709\u7B2C\u4E09\u65B9\u5E93\u6E90\u7801\u5305\u548C\u4ED6\u4EEC\u7684\u5386\u53F2\u7248\u672C\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"python \u547D\u4EE4\u672A\u627E\u5230"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u95EE\u9898\u63CF\u8FF0"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u6267\u884C build.sh \u65F6\u629B\u51FA\u5F02\u5E38"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"/opt/doris/env.sh: line 46: python: command not found"}),"\n",(0,i.jsx)(e.p,{children:"Python 2.7.18"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u95EE\u9898\u539F\u56E0"}),"\n",(0,i.jsxs)(e.p,{children:["\u7ECF\u67E5\u627E\uFF0C\u53D1\u73B0\u8BE5\u7CFB\u7EDF\u9ED8\u8BA4\u4F7F\u7528 ",(0,i.jsx)(e.code,{children:"python2.7"}),"\u3001 ",(0,i.jsx)(e.code,{children:"python3.6"}),"\u3001",(0,i.jsx)(e.code,{children:"python2"}),"\u3001",(0,i.jsx)(e.code,{children:"python3"})," \u8FD9\u51E0\u4E2A\u547D\u4EE4\u6765\u6267\u884C python \u547D\u4EE4\uFF0CDoris\u5B89\u88C5\u4F9D\u8D56\u9700\u8981 python 2.7+ \u7248\u672C\u5373\u53EF\uFF0C\u6545\u53EA\u9700\u8981\u6DFB\u52A0\u540D\u4E3A ",(0,i.jsx)(e.code,{children:"python"})," \u7684\u547D\u4EE4\u8FDE\u63A5\u5373\u53EF\uFF0C\u4F7F\u7528\u7248\u672C2\u548C\u7248\u672C3\u7684\u90FD\u53EF\u4EE5"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u89E3\u51B3\u65B9\u6848"}),"\n",(0,i.jsxs)(e.p,{children:["\u5EFA\u7ACB ",(0,i.jsx)(e.code,{children:"\\usr\\bin"})," \u4E2D ",(0,i.jsx)(e.code,{children:"python"})," \u547D\u4EE4\u7684\u8F6F\u8FDE\u63A5"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"# \u67E5\u770Bpython\u5B89\u88C5\u76EE\u5F55\nwhereis python\n# \u5EFA\u7ACB\u8F6F\u8FDE\u63A5\nsudo ln -s /usr/bin/python2.7 /usr/bin/python\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u7F16\u8BD1\u7ED3\u675F\u540E\u6CA1\u6709 output \u76EE\u5F55"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u95EE\u9898\u63CF\u8FF0"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"build.sh \u6267\u884C\u7ED3\u675F\u540E\uFF0C\u76EE\u5F55\u4E2D\u672A\u53D1\u73B0 output \u6587\u4EF6\u5939."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u95EE\u9898\u539F\u56E0"}),"\n",(0,i.jsx)(e.p,{children:"\u672A\u6210\u529F\u7F16\u8BD1\uFF0C\u9700\u91CD\u65B0\u7F16\u8BD1"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u89E3\u51B3\u65B9\u6848"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"sh build.sh --clean\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"spark-dpp \u7F16\u8BD1\u5931\u8D25"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u95EE\u9898\u63CF\u8FF0"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u6267\u884C build.sh \u7F16\u8BD1\u4EE5\u540E\uFF0C\u7F16\u8BD1\u81F3 Spark-DPP \u62A5\u9519\u5931\u8D25"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"Failed to execute goal on project spark-dpp"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u95EE\u9898\u539F\u56E0"}),"\n",(0,i.jsx)(e.p,{children:"\u6700\u540E\u7684\u9519\u8BEF\u63D0\u793A\uFF0C\u662F\u7531\u4E8E\u4E0B\u8F7D\u5931\u8D25\uFF08\u4E14\u7531\u4E8E\u662F\u672A\u80FD\u8FDE\u63A5\u5230 repo.maven.apache.org \u4E2D\u592E\u4ED3\u5E93\uFF09\u7684\u95EE\u9898"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsxs)(e.p,{children:["Could not transfer artifact org.apache.spark:spark-sql_2.12:jar:2.4.6 from/to central (",(0,i.jsx)(e.a,{href:"https://repo.maven.apache.org/maven2",children:"https://repo.maven.apache.org/maven2"}),"): Transfer failed for ",(0,i.jsx)(e.a,{href:"https://repo.maven.apache.org/maven2/org/apache/spark/spark-sql_2.12/2.4.6/spark-sql_2.12-2.4.6.jar",children:"https://repo.maven.apache.org/maven2/org/apache/spark/spark-sql_2.12/2.4.6/spark-sql_2.12-2.4.6.jar"}),": Unknown host repo.maven.apache.org"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u91CD\u65B0 build"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u89E3\u51B3\u65B9\u6848"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u91CD\u65B0 build"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u5269\u4F59\u7A7A\u95F4\u4E0D\u8DB3\uFF0C\u7F16\u8BD1\u5931\u8D25"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u95EE\u9898\u63CF\u8FF0"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u7F16\u8BD1\u8FC7\u7A0B\u4E2D\u62A5 \u6784\u5EFA CXX \u5BF9\u8C61\u5931\u8D25\uFF0C\u63D0\u793A\u5269\u4F59\u7A7A\u95F4\u4E0D\u8DB3"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"fatal error: error writing to /tmp/ccKn4nPK.s: No space left on device\n1112 | } // namespace doris::vectorized\ncompilation terminated."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u95EE\u9898\u539F\u56E0"}),"\n",(0,i.jsx)(e.p,{children:"\u8BBE\u5907\u5269\u4F59\u7A7A\u95F4\u4E0D\u8DB3"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u89E3\u51B3\u65B9\u6848"}),"\n",(0,i.jsx)(e.p,{children:"\u6269\u5927\u8BBE\u5907\u5269\u4F59\u7A7A\u95F4\uFF0C\u5982\u5220\u9664\u4E0D\u9700\u8981\u7684\u6587\u4EF6\u7B49"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u542F\u52A8FE\u5931\u8D25\uFF0C\u4E8B\u52A1-20 \u95EE\u9898"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u95EE\u9898\u63CF\u8FF0"}),"\n",(0,i.jsx)(e.p,{children:"\u5728\u542F\u52A8 FE \u65F6\uFF0C\u62A5\u4E8B\u52A1\u9519\u8BEF 20 \u95EE\u9898\uFF0C\u72B6\u6001\u4E3A UNKNOWN"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"[BDBEnvironment.setup():198] error to open replicated environment. will exit.\ncom.sleepycat.je.rep.ReplicaWriteException: (JE 18.3.12) Problem closing transaction 20. The current state is:UNKNOWN. The node transitioned to this state at:Fri Apr 22 12:48:08 CST 2022"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u95EE\u9898\u539F\u56E0"}),"\n",(0,i.jsx)(e.p,{children:"\u786C\u76D8\u7A7A\u95F4\u4E0D\u8DB3\uFF0C\u9700\u66F4\u591A\u7A7A\u95F4"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u89E3\u51B3\u65B9\u6848"}),"\n",(0,i.jsx)(e.p,{children:"\u91CA\u653E\u786C\u76D8\u7A7A\u95F4\u6216\u8005\u6302\u8F7D\u65B0\u786C\u76D8"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"BDB \u73AF\u5883\u8BBE\u7F6E\u5F02\u5E38\uFF0C\u78C1\u76D8\u5BFB\u627E\u9519\u8BEF"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u95EE\u9898\u63CF\u8FF0"}),"\n",(0,i.jsx)(e.p,{children:"\u5728\u8FC1\u79FB FE \u6240\u5728\u7684\u76D8\u7B26\u540E\u542F\u52A8 FE \u62A5\u5F02\u5E38"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"2022-04-22 16:21:44,092 ERROR (MASTER 172.28.7.231_9010_1650606822109(-1)|1) [BDBJEJournal.open():306] catch an exception when setup bdb environment. will exit.\ncom.sleepycat.je.DiskLimitException: (JE 18.3.12) Disk usage is not within je.maxDisk or je.freeDisk limits and write operations are prohibited: maxDiskLimit=0 freeDiskLimit=5,368,709,120 adjustedMaxDiskLimit=0 maxDiskOverage=0 freeDiskShortage=1,536,552,960 diskFreeSpace=3,832,156,160 availableLogSize=-1,536,552,960 totalLogSize=4,665 activeLogSize=4,665 reservedLogSize=0 protectedLogSize=0 protectedLogSizeMap={}"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u95EE\u9898\u539F\u56E0"}),"\n",(0,i.jsx)(e.p,{children:"\u8FC1\u79FB\u4E86 FE \u6240\u5728\u7684\u4F4D\u7F6E\uFF0C\u5143\u6570\u636E\u5B58\u50A8\u7684\u786C\u76D8\u4FE1\u606F\u65E0\u6CD5\u5339\u914D\u5230\uFF0C\u6216\u8005\u8BE5\u786C\u76D8\u635F\u574F\u6216\u672A\u6302\u8F7D"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u89E3\u51B3\u65B9\u6848"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u68C0\u67E5\u786C\u76D8\u662F\u5426\u6B63\u5E38\uFF0C\u662F\u5426\u521D\u59CB\u5316\u5E76\u6B63\u786E\u6302\u8F7D"}),"\n",(0,i.jsx)(e.li,{children:"\u4FEE\u590D FE \u5143\u6570\u636E"}),"\n",(0,i.jsx)(e.li,{children:"\u82E5\u4E3A\u6D4B\u8BD5\u673A\u5668\uFF0C\u5219\u53EF\u4EE5\u5220\u9664\u5143\u6570\u636E\u76EE\u5F55\u91CD\u65B0\u542F\u52A8"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u5728 pkg.config \u4E2D\u627E\u4E0D\u5230 pkg.m4 \u6587\u4EF6"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u95EE\u9898\u63CF\u8FF0"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u7F16\u8BD1\u8FC7\u7A0B\u4E2D\u51FA\u73B0\u4E86\u627E\u4E0D\u5230\u6587\u4EF6\u9519\u8BEF\uFF0C\u62A5\u9519\u5982\u4E0B"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"Couldn't find pkg.m4 from pkg-config. Install the appropriate package for your distribution or set ACLOCAL_PATH to the directory containing pkg.m4."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["\u901A\u8FC7\u67E5\u627E\u4E0A\u9762\u7684\u65E5\u5FD7\uFF0C\u53D1\u73B0\u662F ",(0,i.jsx)(e.code,{children:"libxml2"})," \u8FD9\u4E2A\u4E09\u65B9\u5E93\u5728\u7F16\u8BD1\u7684\u65F6\u5019\u51FA\u73B0\u4E86\u95EE\u9898"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u95EE\u9898\u539F\u56E0"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"libxml2"})," \u4E09\u65B9\u5E93\u7F16\u8BD1\u9519\u8BEF\uFF0C\u627E\u4E0D\u5230 pkg.m4 \u6587\u4EF6"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.em,{children:(0,i.jsx)(e.strong,{children:"\u731C\u6D4B\uFF1A"})})}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"Ubuntu \u7CFB\u7EDF\u52A0\u8F7D\u73AF\u5883\u53D8\u91CF\u65F6\u6709\u5F02\u5E38\uFF0C\u5BFC\u81F4 ldb \u76EE\u5F55\u4E0B\u7684\u7D22\u5F15\u672A\u88AB\u6210\u529F\u52A0\u8F7D"}),"\n",(0,i.jsx)(e.li,{children:"\u5728 libxml2 \u7F16\u8BD1\u65F6\u68C0\u7D22\u73AF\u5883\u53D8\u91CF\u5931\u6548\uFF0C\u5BFC\u81F4\u7F16\u8BD1\u8FC7\u7A0B\u6CA1\u6709\u68C0\u7D22\u5230 ldb/aclocal \u76EE\u5F55"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u89E3\u51B3\u65B9\u6848"}),"\n",(0,i.jsxs)(e.p,{children:["\u5C06 ldb/aclocal \u76EE\u5F55\u4E0B\u7684 ",(0,i.jsx)(e.code,{children:"pkg.m4"})," \u6587\u4EF6\u62F7\u8D1D\u81F3 libxml2/m4 \u76EE\u5F55\u4E0B\uFF0C\u91CD\u65B0\u7F16\u8BD1\u7B2C\u4E09\u65B9\u5E93"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"cp /opt/software/ldb_toolchain/share/aclocal/pkg.m4 /opt/doris/thirdparty/src/libxml2-v2.9.10/m4\nsh /opt/doris/thirdparty/build-thirdparty.sh\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u6267\u884C\u6D4B\u8BD5 CURL_HAS_TLS_PROXY \u5931\u8D25"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u95EE\u9898\u63CF\u8FF0"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u4E09\u65B9\u5305\u7F16\u8BD1\u8FC7\u7A0B\u62A5\u9519\uFF0C\u9519\u8BEF\u5982\u4E0B"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:'-- Performing Test CURL_HAS_TLS_PROXY - Failed\nCMake Error at cmake/dependencies.cmake:15 (get_property):\nINTERFACE_LIBRARY targets may only have whitelisted properties.  The\nproperty "LINK_LIBRARIES_ALL" is not allowed.'}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["\u67E5\u770B\u65E5\u5FD7\u4EE5\u540E\uFF0C\u53D1\u73B0\u5185\u90E8\u662F\u7531\u4E8E curl ",(0,i.jsx)(e.code,{children:"No such file or directory"})]}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"fatal error: curl/curl.h: No such file or directory\n2 |     #include <curl/curl.h>\ncompilation terminated.\nninja: build stopped: subcommand failed."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u95EE\u9898\u539F\u56E0"}),"\n",(0,i.jsx)(e.p,{children:"\u7F16\u8BD1\u73AF\u5883\u6709\u9519\u8BEF\uFF0C\u67E5\u770B gcc \u7248\u672C\u540E\u53D1\u73B0\u662F\u7CFB\u7EDF\u81EA\u5E26\u7684 9.3.0 \u7248\u672C\uFF0C\u6545\u800C\u6CA1\u6709\u8D70 ldb \u7F16\u8BD1\uFF0C\u9700\u8BBE\u7F6E ldb \u73AF\u5883\u53D8\u91CF"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u89E3\u51B3\u65B9\u6848"}),"\n",(0,i.jsx)(e.p,{children:"\u914D\u7F6E ldb \u73AF\u5883\u53D8\u91CF"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"# \u914D\u7F6E\u73AF\u5883\u53D8\u91CF\nvim /etc/profile.d/ldb.sh\nexport LDB_HOME=/opt/software/ldb_toolchain\nexport PATH=$LDB_HOME/bin:$PATH\n# \u4FDD\u5B58\u9000\u51FA\u5E76\u5237\u65B0\u73AF\u5883\u53D8\u91CF\nsource /etc/profile.d/ldb.sh\n# \u6D4B\u8BD5\ngcc --version\n> gcc-11\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u5176\u4ED6\u5F02\u5E38\u95EE\u9898"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u95EE\u9898\u63CF\u8FF0"}),"\n",(0,i.jsx)(e.p,{children:"\u5982\u6709\u4EE5\u4E0B\u7EC4\u4EF6\u7684\u9519\u8BEF\u63D0\u793A\uFF0C\u5219\u7EDF\u4E00\u4EE5\u8BE5\u65B9\u6848\u89E3\u51B3"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["bison \u76F8\u5173\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"\u5B89\u88C5 bison-3.0.4 \u65F6\u62A5 fseterr.c \u9519\u8BEF"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["flex \u76F8\u5173\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"flex \u547D\u4EE4\u672A\u627E\u5230"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["cmake \u76F8\u5173\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"cmake \u547D\u4EE4\u672A\u627E\u5230"}),"\n",(0,i.jsx)(e.li,{children:"cmake \u627E\u4E0D\u5230\u4F9D\u8D56\u5E93"}),"\n",(0,i.jsx)(e.li,{children:"cmake \u627E\u4E0D\u5230 CMAKE_ROOT"}),"\n",(0,i.jsx)(e.li,{children:"cmake \u73AF\u5883\u53D8\u91CF CXX \u4E2D\u627E\u4E0D\u5230\u7F16\u8BD1\u5668\u96C6"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["boost \u76F8\u5173\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"Boost.Build \u6784\u5EFA\u5F15\u64CE\u5931\u8D25"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["mysql \u76F8\u5173\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"\u627E\u4E0D\u5230 mysql \u7684\u5BA2\u6237\u7AEF\u4F9D\u8D56 a \u6587\u4EF6"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["gcc \u76F8\u5173\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"GCC \u7248\u672C\u9700\u898111+"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u95EE\u9898\u539F\u56E0"}),"\n",(0,i.jsx)(e.p,{children:"\u672A\u4F7F\u7528 Ldb-Toolschain \u8FDB\u884C\u7F16\u8BD1"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u89E3\u51B3\u65B9\u6848"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u68C0\u67E5 Ldb-Toolschain \u73AF\u5883\u53D8\u91CF\u662F\u5426\u914D\u7F6E"}),"\n",(0,i.jsxs)(e.li,{children:["\u67E5\u770B gcc \u7248\u672C\u662F\u5426\u662F ",(0,i.jsx)(e.code,{children:"gcc-11"})]}),"\n",(0,i.jsxs)(e.li,{children:["\u5220\u9664 ",(0,i.jsx)(e.code,{children:"ldb-toolschain.sh"})," \u811A\u672C\u6267\u884C\u540E\u7684 ldb \u76EE\u5F55\uFF0C\u91CD\u65B0\u6267\u884C\u5E76\u914D\u7F6E\u73AF\u5883\u53D8\u91CF\uFF0C\u9A8C\u8BC1 gcc \u7248\u672C"]}),"\n"]}),"\n"]}),"\n"]})]})}function o(n={}){let{wrapper:e}={...(0,r.a)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(a,{...n})}):a(n)}},250065:function(n,e,l){l.d(e,{Z:function(){return d},a:function(){return c}});var s=l(667294);let i={},r=s.createContext(i);function c(n){let e=s.useContext(r);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:c(n.components),s.createElement(r.Provider,{value:e},n.children)}}}]);