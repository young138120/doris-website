"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["608799"],{722445:function(e,n,i){i.r(n),i.d(n,{metadata:()=>l,contentTitle:()=>t,default:()=>o,assets:()=>c,toc:()=>d,frontMatter:()=>a});var l=JSON.parse('{"id":"data-table/best-practice","title":"\u6700\u4F73\u5B9E\u8DF5","description":"\x3c!--","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/version-1.2/data-table/best-practice.md","sourceDirName":"data-table","slug":"/data-table/best-practice","permalink":"/zh-CN/docs/1.2/data-table/best-practice","draft":false,"unlisted":false,"tags":[],"version":"1.2","frontMatter":{"title":"\u6700\u4F73\u5B9E\u8DF5","language":"zh-CN"},"sidebar":"docs","previous":{"title":"Rollup\u4E0E\u67E5\u8BE2","permalink":"/zh-CN/docs/1.2/data-table/hit-the-rollup"},"next":{"title":"\u7D22\u5F15\u6982\u8FF0","permalink":"/zh-CN/docs/1.2/data-table/index/prefix-index"}}'),s=i("785893"),r=i("250065");let a={title:"\u6700\u4F73\u5B9E\u8DF5",language:"zh-CN"},t="\u6700\u4F73\u5B9E\u8DF5",c={},d=[{value:"\u5EFA\u8868",id:"\u5EFA\u8868",level:2},{value:"\u6570\u636E\u6A21\u578B\u9009\u62E9",id:"\u6570\u636E\u6A21\u578B\u9009\u62E9",level:3},{value:"AGGREGATE KEY",id:"aggregate-key",level:4},{value:"UNIQUE KEY",id:"unique-key",level:4},{value:"DUPLICATE KEY",id:"duplicate-key",level:4},{value:"\u5927\u5BBD\u8868\u4E0E Star Schema",id:"\u5927\u5BBD\u8868\u4E0E-star-schema",level:3},{value:"\u5206\u533A\u548C\u5206\u6876",id:"\u5206\u533A\u548C\u5206\u6876",level:3},{value:"\u5206\u533A(partition)",id:"\u5206\u533Apartition",level:4},{value:"RANGE\u5206\u533A",id:"range\u5206\u533A",level:5},{value:"LIST\u5206\u533A",id:"list\u5206\u533A",level:5},{value:"HASH\u5206\u6876(bucket)",id:"hash\u5206\u6876bucket",level:4},{value:"\u7A00\u758F\u7D22\u5F15\u548C Bloom Filter",id:"\u7A00\u758F\u7D22\u5F15\u548C-bloom-filter",level:3},{value:"Rollup",id:"rollup",level:3},{value:"Base Table \u4E2D\u6570\u636E\u805A\u5408\u5EA6\u4E0D\u9AD8\u3002",id:"base-table-\u4E2D\u6570\u636E\u805A\u5408\u5EA6\u4E0D\u9AD8",level:4},{value:"Base Table \u4E2D\u7684\u524D\u7F00\u7D22\u5F15\u65E0\u6CD5\u547D\u4E2D",id:"base-table-\u4E2D\u7684\u524D\u7F00\u7D22\u5F15\u65E0\u6CD5\u547D\u4E2D",level:4},{value:"Schema Change",id:"schema-change",level:2}];function h(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"\u6700\u4F73\u5B9E\u8DF5",children:"\u6700\u4F73\u5B9E\u8DF5"})}),"\n",(0,s.jsx)(n.h2,{id:"\u5EFA\u8868",children:"\u5EFA\u8868"}),"\n",(0,s.jsx)(n.h3,{id:"\u6570\u636E\u6A21\u578B\u9009\u62E9",children:"\u6570\u636E\u6A21\u578B\u9009\u62E9"}),"\n",(0,s.jsx)(n.p,{children:"Doris \u6570\u636E\u6A21\u578B\u4E0A\u76EE\u524D\u5206\u4E3A\u4E09\u7C7B: AGGREGATE KEY, UNIQUE KEY, DUPLICATE KEY\u3002\u4E09\u79CD\u6A21\u578B\u4E2D\u6570\u636E\u90FD\u662F\u6309KEY\u8FDB\u884C\u6392\u5E8F\u3002"}),"\n",(0,s.jsx)(n.h4,{id:"aggregate-key",children:"AGGREGATE KEY"}),"\n",(0,s.jsx)(n.p,{children:"AGGREGATE KEY\u76F8\u540C\u65F6\uFF0C\u65B0\u65E7\u8BB0\u5F55\u8FDB\u884C\u805A\u5408\uFF0C\u76EE\u524D\u652F\u6301\u7684\u805A\u5408\u51FD\u6570\u6709SUM, MIN, MAX, REPLACE\u3002"}),"\n",(0,s.jsx)(n.p,{children:"AGGREGATE KEY\u6A21\u578B\u53EF\u4EE5\u63D0\u524D\u805A\u5408\u6570\u636E, \u9002\u5408\u62A5\u8868\u548C\u591A\u7EF4\u5206\u6790\u4E1A\u52A1\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE site_visit\n(\n    siteid      INT,\n    city        SMALLINT,\n    username    VARCHAR(32),\n    pv BIGINT   SUM DEFAULT '0'\n)\nAGGREGATE KEY(siteid, city, username)\nDISTRIBUTED BY HASH(siteid) BUCKETS 10;\n"})}),"\n",(0,s.jsx)(n.h4,{id:"unique-key",children:"UNIQUE KEY"}),"\n",(0,s.jsx)(n.p,{children:"UNIQUE KEY \u76F8\u540C\u65F6\uFF0C\u65B0\u8BB0\u5F55\u8986\u76D6\u65E7\u8BB0\u5F55\u3002\u57281.2\u7248\u672C\u4E4B\u524D\uFF0CUNIQUE KEY \u5B9E\u73B0\u4E0A\u548C AGGREGATE KEY \u7684 REPLACE \u805A\u5408\u65B9\u6CD5\u4E00\u6837\uFF0C\u4E8C\u8005\u672C\u8D28\u4E0A\u76F8\u540C\uFF0C\u81EA1.2\u7248\u672C\u6211\u4EEC\u7ED9UNIQUE KEY\u5F15\u5165\u4E86merge on write\u5B9E\u73B0\uFF0C\u8BE5\u5B9E\u73B0\u6709\u66F4\u597D\u7684\u805A\u5408\u67E5\u8BE2\u6027\u80FD\u3002\u9002\u7528\u4E8E\u6709\u66F4\u65B0\u9700\u6C42\u7684\u5206\u6790\u4E1A\u52A1\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE sales_order\n(\n    orderid     BIGINT,\n    status      TINYINT,\n    username    VARCHAR(32),\n    amount      BIGINT DEFAULT '0'\n)\nUNIQUE KEY(orderid)\nDISTRIBUTED BY HASH(orderid) BUCKETS 10;\n"})}),"\n",(0,s.jsx)(n.h4,{id:"duplicate-key",children:"DUPLICATE KEY"}),"\n",(0,s.jsx)(n.p,{children:"\u53EA\u6307\u5B9A\u6392\u5E8F\u5217\uFF0C\u76F8\u540C\u7684\u884C\u4E0D\u4F1A\u5408\u5E76\u3002\u9002\u7528\u4E8E\u6570\u636E\u65E0\u9700\u63D0\u524D\u805A\u5408\u7684\u5206\u6790\u4E1A\u52A1\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE session_data\n(\n    visitorid   SMALLINT,\n    sessionid   BIGINT,\n    visittime   DATETIME,\n    city        CHAR(20),\n    province    CHAR(20),\n    ip          varchar(32),\n    brower      CHAR(20),\n    url         VARCHAR(1024)\n)\nDUPLICATE KEY(visitorid, sessionid)\nDISTRIBUTED BY HASH(sessionid, visitorid) BUCKETS 10;\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u5927\u5BBD\u8868\u4E0E-star-schema",children:"\u5927\u5BBD\u8868\u4E0E Star Schema"}),"\n",(0,s.jsx)(n.p,{children:"\u4E1A\u52A1\u65B9\u5EFA\u8868\u65F6, \u4E3A\u4E86\u548C\u524D\u7AEF\u4E1A\u52A1\u9002\u914D, \u5F80\u5F80\u4E0D\u5BF9\u7EF4\u5EA6\u4FE1\u606F\u548C\u6307\u6807\u4FE1\u606F\u52A0\u4EE5\u533A\u5206, \u800C\u5C06 Schema \u5B9A\u4E49\u6210\u5927\u5BBD\u8868\uFF0C\u8FD9\u79CD\u64CD\u4F5C\u5BF9\u4E8E\u6570\u636E\u5E93\u5176\u5B9E\u4E0D\u662F\u90A3\u4E48\u53CB\u597D\uFF0C\u6211\u4EEC\u66F4\u5EFA\u8BAE\u7528\u6237\u91C7\u7528\u661F\u578B\u6A21\u578B\u3002"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Schema \u4E2D\u5B57\u6BB5\u6570\u6BD4\u8F83\u591A, \u805A\u5408\u6A21\u578B\u4E2D\u53EF\u80FD key \u5217\u6BD4\u8F83\u591A, \u5BFC\u5165\u8FC7\u7A0B\u4E2D\u9700\u8981\u6392\u5E8F\u7684\u5217\u4F1A\u589E\u52A0\u3002"}),"\n",(0,s.jsx)(n.li,{children:"\u7EF4\u5EA6\u4FE1\u606F\u66F4\u65B0\u4F1A\u53CD\u5E94\u5230\u6574\u5F20\u8868\u4E2D\uFF0C\u800C\u66F4\u65B0\u7684\u9891\u7387\u76F4\u63A5\u5F71\u54CD\u67E5\u8BE2\u7684\u6548\u7387\u3002"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u4F7F\u7528\u8FC7\u7A0B\u4E2D\uFF0C\u5EFA\u8BAE\u7528\u6237\u5C3D\u91CF\u4F7F\u7528 Star Schema \u533A\u5206\u7EF4\u5EA6\u8868\u548C\u6307\u6807\u8868\u3002\u9891\u7E41\u66F4\u65B0\u7684\u7EF4\u5EA6\u8868\u4E5F\u53EF\u4EE5\u653E\u5728 MySQL \u5916\u90E8\u8868\u4E2D\u3002\u800C\u5982\u679C\u53EA\u6709\u5C11\u91CF\u66F4\u65B0, \u53EF\u4EE5\u76F4\u63A5\u653E\u5728 Doris \u4E2D\u3002\u5728 Doris \u4E2D\u5B58\u50A8\u7EF4\u5EA6\u8868\u65F6\uFF0C\u53EF\u5BF9\u7EF4\u5EA6\u8868\u8BBE\u7F6E\u66F4\u591A\u7684\u526F\u672C\uFF0C\u63D0\u5347 Join \u7684\u6027\u80FD\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"\u5206\u533A\u548C\u5206\u6876",children:"\u5206\u533A\u548C\u5206\u6876"}),"\n",(0,s.jsx)(n.p,{children:"Doris \u652F\u6301\u4E24\u7EA7\u5206\u533A\u5B58\u50A8, \u7B2C\u4E00\u5C42\u4E3A\u5206\u533A(partition)\uFF0C\u76EE\u524D\u652F\u6301 RANGE \u5206\u533A\u548C LIST \u5206\u533A\u4E24\u79CD\u7C7B\u578B, \u7B2C\u4E8C\u5C42\u4E3A HASH \u5206\u6876(bucket)\u3002"}),"\n",(0,s.jsx)(n.h4,{id:"\u5206\u533Apartition",children:"\u5206\u533A(partition)"}),"\n",(0,s.jsx)(n.p,{children:"\u5206\u533A\u7528\u4E8E\u5C06\u6570\u636E\u5212\u5206\u6210\u4E0D\u540C\u533A\u95F4, \u903B\u8F91\u4E0A\u53EF\u4EE5\u7406\u89E3\u4E3A\u5C06\u539F\u59CB\u8868\u5212\u5206\u6210\u4E86\u591A\u4E2A\u5B50\u8868\u3002\u53EF\u4EE5\u65B9\u4FBF\u7684\u6309\u5206\u533A\u5BF9\u6570\u636E\u8FDB\u884C\u7BA1\u7406\uFF0C\u4F8B\u5982\uFF0C\u5220\u9664\u6570\u636E\u65F6\uFF0C\u66F4\u52A0\u8FC5\u901F\u3002"}),"\n",(0,s.jsx)(n.h5,{id:"range\u5206\u533A",children:"RANGE\u5206\u533A"}),"\n",(0,s.jsx)(n.p,{children:"\u4E1A\u52A1\u4E0A\uFF0C\u591A\u6570\u7528\u6237\u4F1A\u9009\u62E9\u91C7\u7528\u6309\u65F6\u95F4\u8FDB\u884Cpartition, \u8BA9\u65F6\u95F4\u8FDB\u884Cpartition\u6709\u4EE5\u4E0B\u597D\u5904\uFF1A"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u53EF\u533A\u5206\u51B7\u70ED\u6570\u636E"}),"\n",(0,s.jsx)(n.li,{children:"\u53EF\u7528\u4E0ADoris\u5206\u7EA7\u5B58\u50A8(SSD + SATA)\u7684\u529F\u80FD"}),"\n"]}),"\n",(0,s.jsx)(n.h5,{id:"list\u5206\u533A",children:"LIST\u5206\u533A"}),"\n",(0,s.jsx)(n.p,{children:"\u4E1A\u52A1\u4E0A\uFF0C\u7528\u6237\u53EF\u4EE5\u9009\u62E9\u57CE\u5E02\u6216\u8005\u5176\u4ED6\u679A\u4E3E\u503C\u8FDB\u884Cpartition\u3002"}),"\n",(0,s.jsx)(n.h4,{id:"hash\u5206\u6876bucket",children:"HASH\u5206\u6876(bucket)"}),"\n",(0,s.jsx)(n.p,{children:"\u6839\u636Ehash\u503C\u5C06\u6570\u636E\u5212\u5206\u6210\u4E0D\u540C\u7684 bucket\u3002"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u5EFA\u8BAE\u91C7\u7528\u533A\u5206\u5EA6\u5927\u7684\u5217\u505A\u5206\u6876, \u907F\u514D\u51FA\u73B0\u6570\u636E\u503E\u659C"}),"\n",(0,s.jsx)(n.li,{children:"\u4E3A\u65B9\u4FBF\u6570\u636E\u6062\u590D, \u5EFA\u8BAE\u5355\u4E2A bucket \u7684 size \u4E0D\u8981\u592A\u5927, \u4FDD\u6301\u5728 10GB \u4EE5\u5185, \u6240\u4EE5\u5EFA\u8868\u6216\u589E\u52A0 partition \u65F6\u8BF7\u5408\u7406\u8003\u8651 bucket \u6570\u76EE, \u5176\u4E2D\u4E0D\u540C partition \u53EF\u6307\u5B9A\u4E0D\u540C\u7684 buckets \u6570\u3002"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"\u7A00\u758F\u7D22\u5F15\u548C-bloom-filter",children:"\u7A00\u758F\u7D22\u5F15\u548C Bloom Filter"}),"\n",(0,s.jsx)(n.p,{children:"Doris\u5BF9\u6570\u636E\u8FDB\u884C\u6709\u5E8F\u5B58\u50A8, \u5728\u6570\u636E\u6709\u5E8F\u7684\u57FA\u7840\u4E0A\u4E3A\u5176\u5EFA\u7ACB\u7A00\u758F\u7D22\u5F15,\u7D22\u5F15\u7C92\u5EA6\u4E3A block(1024\u884C)\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u7A00\u758F\u7D22\u5F15\u9009\u53D6 schema \u4E2D\u56FA\u5B9A\u957F\u5EA6\u7684\u524D\u7F00\u4F5C\u4E3A\u7D22\u5F15\u5185\u5BB9, \u76EE\u524D Doris \u9009\u53D6 36 \u4E2A\u5B57\u8282\u7684\u524D\u7F00\u4F5C\u4E3A\u7D22\u5F15\u3002"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u5EFA\u8868\u65F6\u5EFA\u8BAE\u5C06\u67E5\u8BE2\u4E2D\u5E38\u89C1\u7684\u8FC7\u6EE4\u5B57\u6BB5\u653E\u5728 Schema \u7684\u524D\u9762, \u533A\u5206\u5EA6\u8D8A\u5927\uFF0C\u9891\u6B21\u8D8A\u9AD8\u7684\u67E5\u8BE2\u5B57\u6BB5\u8D8A\u5F80\u524D\u653E\u3002"}),"\n",(0,s.jsxs)(n.li,{children:["\u8FD9\u5176\u4E2D\u6709\u4E00\u4E2A\u7279\u6B8A\u7684\u5730\u65B9,\u5C31\u662F varchar \u7C7B\u578B\u7684\u5B57\u6BB5\u3002varchar \u7C7B\u578B\u5B57\u6BB5\u53EA\u80FD\u4F5C\u4E3A\u7A00\u758F\u7D22\u5F15\u7684\u6700\u540E\u4E00\u4E2A\u5B57\u6BB5\u3002\u7D22\u5F15\u4F1A\u5728 varchar \u5904\u622A\u65AD, \u56E0\u6B64 varchar \u5982\u679C\u51FA\u73B0\u5728\u524D\u9762\uFF0C\u53EF\u80FD\u7D22\u5F15\u7684\u957F\u5EA6\u53EF\u80FD\u4E0D\u8DB3 36 \u4E2A\u5B57\u8282\u3002\u5177\u4F53\u53EF\u4EE5\u53C2\u9605 ",(0,s.jsx)(n.a,{href:"/zh-CN/docs/1.2/data-table/data-model",children:"\u6570\u636E\u6A21\u578B"}),"\u3001",(0,s.jsx)(n.a,{href:"/zh-CN/docs/1.2/data-table/hit-the-rollup",children:"ROLLUP \u53CA\u67E5\u8BE2"}),"\u3002"]}),"\n",(0,s.jsx)(n.li,{children:"\u9664\u7A00\u758F\u7D22\u5F15\u4E4B\u5916, Doris\u8FD8\u63D0\u4F9Bbloomfilter\u7D22\u5F15, bloomfilter\u7D22\u5F15\u5BF9\u533A\u5206\u5EA6\u6BD4\u8F83\u5927\u7684\u5217\u8FC7\u6EE4\u6548\u679C\u660E\u663E\u3002 \u5982\u679C\u8003\u8651\u5230varchar\u4E0D\u80FD\u653E\u5728\u7A00\u758F\u7D22\u5F15\u4E2D, \u53EF\u4EE5\u5EFA\u7ACBbloomfilter\u7D22\u5F15\u3002"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"rollup",children:"Rollup"}),"\n",(0,s.jsx)(n.p,{children:"Rollup \u672C\u8D28\u4E0A\u53EF\u4EE5\u7406\u89E3\u4E3A\u539F\u59CB\u8868(Base Table)\u7684\u4E00\u4E2A\u7269\u5316\u7D22\u5F15\u3002\u5EFA\u7ACB Rollup \u65F6\u53EF\u53EA\u9009\u53D6 Base Table \u4E2D\u7684\u90E8\u5206\u5217\u4F5C\u4E3A Schema\u3002Schema \u4E2D\u7684\u5B57\u6BB5\u987A\u5E8F\u4E5F\u53EF\u4E0E Base Table \u4E0D\u540C\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u4E0B\u5217\u60C5\u5F62\u53EF\u4EE5\u8003\u8651\u5EFA\u7ACB Rollup\uFF1A"}),"\n",(0,s.jsx)(n.h4,{id:"base-table-\u4E2D\u6570\u636E\u805A\u5408\u5EA6\u4E0D\u9AD8",children:"Base Table \u4E2D\u6570\u636E\u805A\u5408\u5EA6\u4E0D\u9AD8\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u8FD9\u4E00\u822C\u662F\u56E0 Base Table \u6709\u533A\u5206\u5EA6\u6BD4\u8F83\u5927\u7684\u5B57\u6BB5\u800C\u5BFC\u81F4\u3002\u6B64\u65F6\u53EF\u4EE5\u8003\u8651\u9009\u53D6\u90E8\u5206\u5217\uFF0C\u5EFA\u7ACB Rollup\u3002"}),"\n",(0,s.jsxs)(n.p,{children:["\u5982\u5BF9\u4E8E ",(0,s.jsx)(n.code,{children:"site_visit"})," \u8868\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"site_visit(siteid, city, username, pv)\n"})}),"\n",(0,s.jsx)(n.p,{children:"siteid \u53EF\u80FD\u5BFC\u81F4\u6570\u636E\u805A\u5408\u5EA6\u4E0D\u9AD8\uFF0C\u5982\u679C\u4E1A\u52A1\u65B9\u7ECF\u5E38\u6839\u636E\u57CE\u5E02\u7EDF\u8BA1pv\u9700\u6C42\uFF0C\u53EF\u4EE5\u5EFA\u7ACB\u4E00\u4E2A\u53EA\u6709 city, pv \u7684 Rollup\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"ALTER TABLE site_visit ADD ROLLUP rollup_city(city, pv);\n"})}),"\n",(0,s.jsx)(n.h4,{id:"base-table-\u4E2D\u7684\u524D\u7F00\u7D22\u5F15\u65E0\u6CD5\u547D\u4E2D",children:"Base Table \u4E2D\u7684\u524D\u7F00\u7D22\u5F15\u65E0\u6CD5\u547D\u4E2D"}),"\n",(0,s.jsx)(n.p,{children:"\u8FD9\u4E00\u822C\u662F Base Table \u7684\u5EFA\u8868\u65B9\u5F0F\u65E0\u6CD5\u8986\u76D6\u6240\u6709\u7684\u67E5\u8BE2\u6A21\u5F0F\u3002\u6B64\u65F6\u53EF\u4EE5\u8003\u8651\u8C03\u6574\u5217\u987A\u5E8F\uFF0C\u5EFA\u7ACB Rollup\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u5982\u5BF9\u4E8E session_data \u8868\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"session_data(visitorid, sessionid, visittime, city, province, ip, brower, url)\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u5982\u679C\u9664\u4E86\u901A\u8FC7 visitorid \u5206\u6790\u8BBF\u95EE\u60C5\u51B5\u5916\uFF0C\u8FD8\u6709\u901A\u8FC7 brower, province \u5206\u6790\u7684\u60C5\u5F62\uFF0C\u53EF\u4EE5\u5355\u72EC\u5EFA\u7ACB Rollup\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"ALTER TABLE session_data ADD ROLLUP rollup_brower(brower,province,ip,url) DUPLICATE KEY(brower,province);\n"})}),"\n",(0,s.jsx)(n.h2,{id:"schema-change",children:"Schema Change"}),"\n",(0,s.jsx)(n.p,{children:"\u7528\u6237\u53EF\u4EE5\u901A\u8FC7 Schema Change \u64CD\u4F5C\u6765\u4FEE\u6539\u5DF2\u5B58\u5728\u8868\u7684 Schema\u3002\u76EE\u524D Doris \u652F\u6301\u4EE5\u4E0B\u51E0\u79CD\u4FEE\u6539:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u589E\u52A0\u3001\u5220\u9664\u5217"}),"\n",(0,s.jsx)(n.li,{children:"\u4FEE\u6539\u5217\u7C7B\u578B"}),"\n",(0,s.jsx)(n.li,{children:"\u8C03\u6574\u5217\u987A\u5E8F"}),"\n",(0,s.jsx)(n.li,{children:"\u589E\u52A0\u3001\u4FEE\u6539 Bloom Filter"}),"\n",(0,s.jsx)(n.li,{children:"\u589E\u52A0\u3001\u5220\u9664 bitmap index"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["\u5177\u4F53\u8BF7\u53C2\u7167 ",(0,s.jsx)(n.a,{href:"/zh-CN/docs/1.2/advanced/alter-table/schema-change",children:"Schema \u53D8\u66F4"})]})]})}function o(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},250065:function(e,n,i){i.d(n,{Z:function(){return t},a:function(){return a}});var l=i(667294);let s={},r=l.createContext(s);function a(e){let n=l.useContext(r);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),l.createElement(r.Provider,{value:n},e.children)}}}]);