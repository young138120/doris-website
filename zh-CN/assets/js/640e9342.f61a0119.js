"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["891175"],{898816:function(n,e,s){s.r(e),s.d(e,{metadata:()=>d,contentTitle:()=>r,default:()=>j,assets:()=>c,toc:()=>h,frontMatter:()=>t});var d=JSON.parse('{"id":"compute-storage-decoupled/meta-service-api","title":"Meta Service API \u53C2\u8003","description":"\x3c!--","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/compute-storage-decoupled/meta-service-api.md","sourceDirName":"compute-storage-decoupled","slug":"/compute-storage-decoupled/meta-service-api","permalink":"/zh-CN/docs/dev/compute-storage-decoupled/meta-service-api","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Meta Service API \u53C2\u8003","language":"zh-CN"},"sidebar":"docs","previous":{"title":"\u6570\u636E\u7F13\u5B58","permalink":"/zh-CN/docs/dev/compute-storage-decoupled/file-cache"},"next":{"title":"\u96C6\u7FA4\u5347\u7EA7","permalink":"/zh-CN/docs/dev/admin-manual/cluster-management/upgrade"}}'),i=s("785893"),l=s("250065");let t={title:"Meta Service API \u53C2\u8003",language:"zh-CN"},r=void 0,c={},h=[{value:"API \u7248\u672C",id:"api-\u7248\u672C",level:2},{value:"\u5B57\u6BB5\u503C\u8981\u6C42",id:"\u5B57\u6BB5\u503C\u8981\u6C42",level:2},{value:"\u521B\u5EFA\u5B58\u50A8\u540E\u7AEF\u7684 Instance",id:"\u521B\u5EFA\u5B58\u50A8\u540E\u7AEF\u7684-instance",level:2},{value:"\u63A5\u53E3\u63CF\u8FF0",id:"\u63A5\u53E3\u63CF\u8FF0",level:3},{value:"\u8BF7\u6C42",id:"\u8BF7\u6C42",level:3},{value:"\u521B\u5EFA\u975E\u5B58\u50A8\u540E\u7AEF\u7684 Instance",id:"\u521B\u5EFA\u975E\u5B58\u50A8\u540E\u7AEF\u7684-instance",level:2},{value:"\u63A5\u53E3\u63CF\u8FF0",id:"\u63A5\u53E3\u63CF\u8FF0-1",level:3},{value:"\u8BF7\u6C42",id:"\u8BF7\u6C42-1",level:3},{value:"\u5220\u9664 Instance",id:"\u5220\u9664-instance",level:2},{value:"\u63A5\u53E3\u63CF\u8FF0",id:"\u63A5\u53E3\u63CF\u8FF0-2",level:3},{value:"\u8BF7\u6C42",id:"\u8BF7\u6C42-2",level:3},{value:"\u67E5\u8BE2 Instance \u4FE1\u606F",id:"\u67E5\u8BE2-instance-\u4FE1\u606F",level:2},{value:"\u63A5\u53E3\u63CF\u8FF0",id:"\u63A5\u53E3\u63CF\u8FF0-3",level:3},{value:"\u8BF7\u6C42",id:"\u8BF7\u6C42-3",level:3},{value:"\u8BBE\u7F6E Instance \u72B6\u6001",id:"\u8BBE\u7F6E-instance-\u72B6\u6001",level:2},{value:"\u63A5\u53E3\u63CF\u8FF0",id:"\u63A5\u53E3\u63CF\u8FF0-4",level:3},{value:"\u8BF7\u6C42",id:"\u8BF7\u6C42-4",level:3},{value:"\u83B7\u53D6 Instance \u914D\u7F6E\u7684 S3 \u4FE1\u606F",id:"\u83B7\u53D6-instance-\u914D\u7F6E\u7684-s3-\u4FE1\u606F",level:2},{value:"\u63A5\u53E3\u63CF\u8FF0",id:"\u63A5\u53E3\u63CF\u8FF0-5",level:3},{value:"\u8BF7\u6C42",id:"\u8BF7\u6C42-5",level:3},{value:"\u66F4\u65B0 Instance \u7684 AK/SK \u4FE1\u606F",id:"\u66F4\u65B0-instance-\u7684-aksk-\u4FE1\u606F",level:2},{value:"\u63A5\u53E3\u63CF\u8FF0",id:"\u63A5\u53E3\u63CF\u8FF0-6",level:3},{value:"\u8BF7\u6C42",id:"\u8BF7\u6C42-6",level:3},{value:"\u66F4\u65B0 Instance \u7684 AK/SK \u4FE1\u606F\uFF08\u5386\u53F2\u9057\u7559\u63A5\u53E3\u65B0\u7248\u672C\u5DF2\u5F03\u7528\uFF09",id:"\u66F4\u65B0-instance-\u7684-aksk-\u4FE1\u606F\u5386\u53F2\u9057\u7559\u63A5\u53E3\u65B0\u7248\u672C\u5DF2\u5F03\u7528",level:2},{value:"\u63A5\u53E3\u63CF\u8FF0",id:"\u63A5\u53E3\u63CF\u8FF0-7",level:3},{value:"\u8BF7\u6C42",id:"\u8BF7\u6C42-7",level:3},{value:"\u6DFB\u52A0 Instance \u7684 S3 \u4FE1\u606F",id:"\u6DFB\u52A0-instance-\u7684-s3-\u4FE1\u606F",level:2},{value:"\u63A5\u53E3\u63CF\u8FF0",id:"\u63A5\u53E3\u63CF\u8FF0-8",level:3},{value:"\u8BF7\u6C42",id:"\u8BF7\u6C42-8",level:3},{value:"\u521B\u5EFA\u8BA1\u7B97\u96C6\u7FA4",id:"\u521B\u5EFA\u8BA1\u7B97\u96C6\u7FA4",level:2},{value:"\u63A5\u53E3\u63CF\u8FF0",id:"\u63A5\u53E3\u63CF\u8FF0-9",level:3},{value:"\u8BF7\u6C42",id:"\u8BF7\u6C42-9",level:3},{value:"\u83B7\u53D6\u8BA1\u7B97\u96C6\u7FA4",id:"\u83B7\u53D6\u8BA1\u7B97\u96C6\u7FA4",level:2},{value:"\u63A5\u53E3\u63CF\u8FF0",id:"\u63A5\u53E3\u63CF\u8FF0-10",level:3},{value:"\u8BF7\u6C42",id:"\u8BF7\u6C42-10",level:3},{value:"\u5220\u9664\u8BA1\u7B97\u96C6\u7FA4",id:"\u5220\u9664\u8BA1\u7B97\u96C6\u7FA4",level:2},{value:"\u63A5\u53E3\u63CF\u8FF0",id:"\u63A5\u53E3\u63CF\u8FF0-11",level:3},{value:"\u8BF7\u6C42",id:"\u8BF7\u6C42-11",level:3},{value:"\u8BA1\u7B97\u96C6\u7FA4\u91CD\u547D\u540D",id:"\u8BA1\u7B97\u96C6\u7FA4\u91CD\u547D\u540D",level:2},{value:"\u63A5\u53E3\u63CF\u8FF0",id:"\u63A5\u53E3\u63CF\u8FF0-12",level:3},{value:"\u8BF7\u6C42",id:"\u8BF7\u6C42-12",level:3},{value:"\u8BA1\u7B97\u96C6\u7FA4\u6DFB\u52A0\u8282\u70B9",id:"\u8BA1\u7B97\u96C6\u7FA4\u6DFB\u52A0\u8282\u70B9",level:2},{value:"\u63A5\u53E3\u63CF\u8FF0",id:"\u63A5\u53E3\u63CF\u8FF0-13",level:3},{value:"\u8BF7\u6C42",id:"\u8BF7\u6C42-13",level:3},{value:"\u8BA1\u7B97\u96C6\u7FA4\u51CF\u5C11\u8282\u70B9",id:"\u8BA1\u7B97\u96C6\u7FA4\u51CF\u5C11\u8282\u70B9",level:2},{value:"\u63A5\u53E3\u63CF\u8FF0",id:"\u63A5\u53E3\u63CF\u8FF0-14",level:3},{value:"\u8BF7\u6C42",id:"\u8BF7\u6C42-14",level:3},{value:"\u4E3A\u8BA1\u7B97\u96C6\u7FA4\u6DFB\u52A0\u9ED8\u8BA4 user_name",id:"\u4E3A\u8BA1\u7B97\u96C6\u7FA4\u6DFB\u52A0\u9ED8\u8BA4-user_name",level:2},{value:"\u63A5\u53E3\u63CF\u8FF0",id:"\u63A5\u53E3\u63CF\u8FF0-15",level:3},{value:"\u8BF7\u6C42",id:"\u8BF7\u6C42-15",level:3},{value:"\u83B7\u53D6\u8BA1\u7B97\u96C6\u7FA4\u4E0B\u7684 BE \u8282\u70B9\u6267\u884C\u60C5\u51B5",id:"\u83B7\u53D6\u8BA1\u7B97\u96C6\u7FA4\u4E0B\u7684-be-\u8282\u70B9\u6267\u884C\u60C5\u51B5",level:2},{value:"\u63A5\u53E3\u63CF\u8FF0",id:"\u63A5\u53E3\u63CF\u8FF0-16",level:3},{value:"\u8BF7\u6C42",id:"\u8BF7\u6C42-16",level:3},{value:"\u5F00\u542F Instance \u5BF9\u8C61\u6570\u636E\u670D\u52A1\u7AEF\u52A0\u5BC6",id:"\u5F00\u542F-instance-\u5BF9\u8C61\u6570\u636E\u670D\u52A1\u7AEF\u52A0\u5BC6",level:2},{value:"\u63A5\u53E3\u63CF\u8FF0",id:"\u63A5\u53E3\u63CF\u8FF0-17",level:3},{value:"\u8BF7\u6C42",id:"\u8BF7\u6C42-17",level:3},{value:"\u83B7\u53D6\u8BA1\u7B97\u96C6\u7FA4\u7684\u8FD0\u884C\u72B6\u6001",id:"\u83B7\u53D6\u8BA1\u7B97\u96C6\u7FA4\u7684\u8FD0\u884C\u72B6\u6001",level:2},{value:"\u63A5\u53E3\u63CF\u8FF0",id:"\u63A5\u53E3\u63CF\u8FF0-18",level:3},{value:"\u8BF7\u6C42",id:"\u8BF7\u6C42-18",level:3},{value:"\u8BBE\u7F6E\u8BA1\u7B97\u96C6\u7FA4\u7684\u8FD0\u884C\u72B6\u6001",id:"\u8BBE\u7F6E\u8BA1\u7B97\u96C6\u7FA4\u7684\u8FD0\u884C\u72B6\u6001",level:2},{value:"\u63A5\u53E3\u63CF\u8FF0",id:"\u63A5\u53E3\u63CF\u8FF0-19",level:3},{value:"\u8BF7\u6C42",id:"\u8BF7\u6C42-19",level:3},{value:"\u89E3\u7801 Meta Service \u4E2D\u7684 Key \u4FE1\u606F",id:"\u89E3\u7801-meta-service-\u4E2D\u7684-key-\u4FE1\u606F",level:2},{value:"\u63A5\u53E3\u63CF\u8FF0",id:"\u63A5\u53E3\u63CF\u8FF0-20",level:3},{value:"\u8BF7\u6C42",id:"\u8BF7\u6C42-20",level:3},{value:"\u67E5\u8BE2 Tablet \u72B6\u6001",id:"\u67E5\u8BE2-tablet-\u72B6\u6001",level:2},{value:"\u63A5\u53E3\u63CF\u8FF0",id:"\u63A5\u53E3\u63CF\u8FF0-21",level:3},{value:"\u8BF7\u6C42",id:"\u8BF7\u6C42-21",level:3},{value:"Abort \u4E8B\u52A1",id:"abort-\u4E8B\u52A1",level:2},{value:"\u63A5\u53E3\u63CF\u8FF0",id:"\u63A5\u53E3\u63CF\u8FF0-22",level:3},{value:"\u8BF7\u6C42",id:"\u8BF7\u6C42-22",level:3},{value:"Abort Tablet Job",id:"abort-tablet-job",level:2},{value:"\u63A5\u53E3\u63CF\u8FF0",id:"\u63A5\u53E3\u63CF\u8FF0-23",level:3},{value:"\u8BF7\u6C42",id:"\u8BF7\u6C42-23",level:3}];function x(n){let e={admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.a)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.p,{children:"\u672C\u6587\u4ECB\u7ECD Meta Service \u63D0\u4F9B\u7684\u6240\u6709 API\u3002"}),"\n",(0,i.jsx)(e.h2,{id:"api-\u7248\u672C",children:"API \u7248\u672C"}),"\n",(0,i.jsxs)(e.p,{children:["\u4E3A\u4E86\u517C\u5BB9\u548C\u6269\u5C55\u7684\u9700\u8981\uFF0C\u672A\u6765\u6240\u6709\u63A5\u53E3\u5B9E\u73B0\u4E2D\u5747\u9644\u5E26\u660E\u786E\u7684\u7248\u672C\u53F7\uFF0C\u4F7F\u7528\u65F6\u5EFA\u8BAE\u9644\u5E26\u7248\u672C\u53F7\u52A0\u4EE5\u533A\u5206\u3002\u76EE\u524D\uFF0C\u6240\u6709\u5DF2\u6709\u63A5\u53E3\u5747\u5DF2\u6DFB\u52A0",(0,i.jsx)(e.code,{children:"v1/"}),"\u4F5C\u4E3A\u7248\u672C\u6807\u8BC6\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:["\u4EE5 ",(0,i.jsx)(e.code,{children:"create_instance"})," \u4E3A\u4F8B\uFF0C\u9644\u5E26 API \u7248\u672C\u7684\u63A5\u53E3\u4E3A\uFF1A"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:"PUT /MetaService/http/v1/create_instance?token=<token> HTTP/1.1\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u4E3A\u4E86\u4FDD\u8BC1\u517C\u5BB9\u6027\uFF0C\u5DF2\u6709\u7684\u63A5\u53E3\u4E0D\u9644\u5E26 ",(0,i.jsx)(e.code,{children:"v1/"})," \u4ECD\u80FD\u8BBF\u95EE\u3002"]}),"\n",(0,i.jsx)(e.h2,{id:"\u5B57\u6BB5\u503C\u8981\u6C42",children:"\u5B57\u6BB5\u503C\u8981\u6C42"}),"\n",(0,i.jsx)(e.p,{children:"\u90E8\u5206\u5B57\u6BB5\u7684\u53D6\u503C\u8303\u56F4\u4EE5\u53CA\u683C\u5F0F\u8981\u6C42\u9700\u8981\u7279\u522B\u6CE8\u610F\u3002"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u5B57\u6BB5"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"instance_id"}),(0,i.jsxs)(e.td,{children:["\u5B58\u7B97\u5206\u79BB\u67B6\u6784\u4E0B\u6570\u4ED3\u5B9E\u4F8B\u7684 ID\uFF0C\u4E00\u822C\u4F7F\u7528 UUID \u5B57\u7B26\u4E32\uFF0C\u9700\u8981\u5339\u914D\u6A21\u5F0F",(0,i.jsx)(e.code,{children:"[0-9a-zA-Z_-]+"})]}),(0,i.jsxs)(e.td,{children:["\u4F8B\u5982 ",(0,i.jsx)(e.code,{children:"6ADDF03D-4C71-4F43-9D84-5FC89B3514F8"})]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cloud_unique_id"}),(0,i.jsxs)(e.td,{children:["\u5B58\u7B97\u5206\u79BB\u67B6\u6784\u4E0B ",(0,i.jsx)(e.code,{children:"be.conf fe.conf"})," \u7684\u4E00\u4E2A\u914D\u7F6E\uFF0C\u521B\u5EFA\u8BA1\u7B97\u96C6\u7FA4\u8BF7\u6C42\u65F6\u4E5F\u9700\u63D0\u4F9B\uFF0C\u683C\u5F0F\u4E3A ",(0,i.jsx)(e.code,{children:"1:<instance_id>:<string>"}),", \u5176\u4E2Dstring\u8981\u6C42\u5339\u914D\u6A21\u5F0F",(0,i.jsx)(e.code,{children:"[0-9a-zA-Z_-]+"})," \u8981\u6C42\u6BCF\u4E2A\u8282\u70B9\u503C\u4E0D\u76F8\u540C"]}),(0,i.jsxs)(e.td,{children:["\u793A\u4F8B ",(0,i.jsx)(e.code,{children:"1:regression_instance0:regression-cloud-unique-id-1"})]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster_name"}),(0,i.jsxs)(e.td,{children:["\u5B58\u7B97\u5206\u79BB\u67B6\u6784\u4E0B\u63CF\u8FF0\u4E00\u4E2A\u8BA1\u7B97\u96C6\u7FA4\u65F6\u9700\u8981\u4F20\u5165\u7684\u5B57\u6BB5\uFF0C\u8981\u6C42\u5339\u914D\u6A21\u5F0F ",(0,i.jsx)(e.code,{children:"[a-zA-Z][0-9a-zA-Z_]+"})]}),(0,i.jsxs)(e.td,{children:["\u5B9E\u4F8B ",(0,i.jsx)(e.code,{children:"write_cluster"})," \u6216\u8005 ",(0,i.jsx)(e.code,{children:"read_cluster0"})]})]})]})]}),"\n",(0,i.jsx)(e.h2,{id:"\u521B\u5EFA\u5B58\u50A8\u540E\u7AEF\u7684-instance",children:"\u521B\u5EFA\u5B58\u50A8\u540E\u7AEF\u7684 Instance"}),"\n",(0,i.jsx)(e.h3,{id:"\u63A5\u53E3\u63CF\u8FF0",children:"\u63A5\u53E3\u63CF\u8FF0"}),"\n",(0,i.jsxs)(e.p,{children:["\u672C\u63A5\u53E3\u7528\u4E8E\u521B\u5EFA\u4E00\u4E2A Instance\uFF0C\u652F\u6301\u4F7F\u7528\u4E00\u4E2A\u6216\u591A\u4E2A\u5B58\u50A8\u540E\u7AEF\uFF08\u5305\u62EC HDFS \u548C S3\uFF09\u3002\u8BE5 Instance \u4E0D\u5305\u542B\u4EFB\u4F55\u8282\u70B9\u4FE1\u606F\uFF0C\u4E0D\u80FD\u591A\u6B21\u521B\u5EFA\u540C\u4E00\u4E2A ",(0,i.jsx)(e.code,{children:"instance_id"})," \u7684 Instance\u3002"]}),"\n",(0,i.jsx)(e.h3,{id:"\u8BF7\u6C42",children:"\u8BF7\u6C42"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u57FA\u4E8E HDFS \u4E3A\u5B58\u50A8\u540E\u7AEF\u7684\u8BF7\u6C42"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u521B\u5EFA\u57FA\u4E8E HDFS \u4E3A\u5B58\u50A8\u540E\u7AEF\u7684\u8BF7\u6C42\u8BED\u6CD5"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:'PUT /MetaService/http/create_instance?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n\n{\n  "instance_id": string,\n  "name": string,\n  "user_id": string,\n  "vault": {\n    "hdfs_info" : {\n      "build_conf": {\n        "fs_name": string,\n        "user": string,\n        "hdfs_kerberos_keytab": string,\n        "hdfs_kerberos_principal": string,\n        "hdfs_confs" : [\n          {\n            "key": string,\n            "value": string\n          }\n        ]\n      },\n      "prefix": string\n    }\n  }\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u521B\u5EFA\u57FA\u4E8E HDFS \u4E3A\u5B58\u50A8\u540E\u7AEF\u7684\u8BF7\u6C42\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"instance_id"}),(0,i.jsxs)(e.td,{children:["\u5B58\u7B97\u5206\u79BB\u67B6\u6784\u4E0B\u6570\u4ED3\u5B9E\u4F8B\u7684 ID\uFF0C\u4E00\u822C\u4F7F\u7528 UUID \u5B57\u7B26\u4E32\uFF0C\u9700\u8981\u5339\u914D\u6A21\u5F0F",(0,i.jsx)(e.code,{children:"[0-9a-zA-Z_-]+"})]}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsxs)(e.td,{children:["\u4F8B\u5982 ",(0,i.jsx)(e.code,{children:"6ADDF03D-4C71-4F43-9D84-5FC89B3514F8"})]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"name"}),(0,i.jsxs)(e.td,{children:["Instance \u522B\u540D, \u8981\u6C42\u5339\u914D\u6A21\u5F0F ",(0,i.jsx)(e.code,{children:"[a-zA-Z][0-9a-zA-Z_]+"})]}),(0,i.jsx)(e.td,{children:"\u5426"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"user_id"}),(0,i.jsxs)(e.td,{children:["\u521B\u5EFA Instance \u7684\u7528\u6237 ID \u8981\u6C42\u5339\u914D\u6A21\u5F0F ",(0,i.jsx)(e.code,{children:"[a-zA-Z][0-9a-zA-Z_]+"})]}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"vault"}),(0,i.jsx)(e.td,{children:"Storage Vault \u7684\u4FE1\u606F"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"vault.hdfs_info"}),(0,i.jsx)(e.td,{children:"\u63CF\u8FF0 HDFS \u5B58\u50A8\u540E\u7AEF\u7684\u4FE1\u606F"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"vault.build_conf"}),(0,i.jsx)(e.td,{children:"\u63CF\u8FF0 HDFS \u5B58\u50A8\u540E\u7AEF\u4E3B\u8981\u4FE1\u606F"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"vault.build_conf.fs_name"}),(0,i.jsx)(e.td,{children:"HDFS \u7684\u540D\u79F0\uFF0C\u4E00\u822C\u4E3A\u8FDE\u63A5\u7684\u5730\u5740"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"vault.build_conf.user"}),(0,i.jsx)(e.td,{children:"\u8FDE\u63A5\u8BE5 HDFS \u4F7F\u7528\u7684 User"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"vault.build_conf.hdfs_kerberos_keytab"}),(0,i.jsx)(e.td,{children:"Kerberos Keytab \u7684\u8DEF\u5F84"}),(0,i.jsx)(e.td,{children:"\u5426"}),(0,i.jsx)(e.td,{children:"\u4F7F\u7528 Kerberos \u9274\u6743\u65F6\u9700\u8981\u63D0\u4F9B"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"vault.build_conf.hdfs_kerberos_principal"}),(0,i.jsx)(e.td,{children:"Kerberos Principal \u7684\u4FE1\u606F"}),(0,i.jsx)(e.td,{children:"\u5426"}),(0,i.jsx)(e.td,{children:"\u4F7F\u7528 Kerberos \u9274\u6743\u65F6\u9700\u8981\u63D0\u4F9B"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"vault.build_conf.hdfs_confs"}),(0,i.jsx)(e.td,{children:"HDFS \u7684\u5176\u4ED6\u63CF\u8FF0\u5C5E\u6027"}),(0,i.jsx)(e.td,{children:"\u5426"}),(0,i.jsx)(e.td,{children:"\u6309\u9700\u586B\u5199"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"vault.prefix"}),(0,i.jsx)(e.td,{children:"\u6570\u636E\u5B58\u653E\u7684\u8DEF\u5F84\u524D\u7F00\uFF0C\u7528\u4E8E\u6570\u636E\u9694\u79BB"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsxs)(e.td,{children:["\u4E00\u822C\u6309\u7167\u4E1A\u52A1\u540D\u79F0 \u4F8B\uFF1A",(0,i.jsx)(e.code,{children:"big_data"})]})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u521B\u5EFA\u57FA\u4E8E HDFS \u4E3A\u5B58\u50A8\u540E\u7AEF\u7684\u8BF7\u6C42\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/create_instance?token=greedisgood9999 HTTP/1.1\nContent-Length: 550\nContent-Type: text/plain\n{\n  "instance_id": "sample_instance_id",\n  "name": "sample_instance_name",\n  "user_id": "sample_user_id",\n  "vault": {\n    "hdfs_info" : {\n      "build_conf": {\n        "fs_name": "hdfs://172.21.0.44:4007",\n        "user": "hadoop",\n        "hdfs_kerberos_keytab": "/etc/emr.keytab",\n        "hdfs_kerberos_principal": "hadoop/172.30.0.178@EMR-XXXYYY",\n        "hdfs_confs" : [\n          {\n            "key": "hadoop.security.authentication",\n            "value": "kerberos"\n          }\n        ]\n      },\n      "prefix": "sample_prefix"\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u521B\u5EFA\u57FA\u4E8E\u5BF9\u8C61\u5B58\u50A8\u4E3A\u5B58\u50A8\u540E\u7AEF\u7684\u8BF7\u6C42"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u521B\u5EFA\u57FA\u4E8E\u5BF9\u8C61\u5B58\u50A8\u4E3A\u5B58\u50A8\u540E\u7AEF\u7684\u8BF7\u6C42\u8BED\u6CD5"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:'PUT /MetaService/http/create_instance?token=<token HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n\n{\n  "instance_id": string,\n  "name": string,\n  "user_id": string,\n  "vault": {\n    "obj_info": {\n      "ak": string,\n      "sk": string,\n      "bucket": string,\n      "prefix": string,\n      "endpoint": string,\n      "external_endpoint": string,\n      "region": string,\n      "provider": string\n    }\n  }\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u521B\u5EFA\u57FA\u4E8E\u5BF9\u8C61\u5B58\u50A8\u4E3A\u5B58\u50A8\u540E\u7AEF\u7684\u8BF7\u6C42\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"instance_id"}),(0,i.jsxs)(e.td,{children:["\u5B58\u7B97\u5206\u79BB\u67B6\u6784\u4E0B\u6570\u4ED3\u5B9E\u4F8B\u7684 ID\uFF0C\u4E00\u822C\u4F7F\u7528 UUID \u5B57\u7B26\u4E32\uFF0C\u9700\u8981\u5339\u914D\u6A21\u5F0F",(0,i.jsx)(e.code,{children:"[0-9a-zA-Z_-]+"})]}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsxs)(e.td,{children:["\u4F8B\u5982 ",(0,i.jsx)(e.code,{children:"6ADDF03D-4C71-4F43-9D84-5FC89B3514F8"})]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"name"}),(0,i.jsxs)(e.td,{children:["Instance \u522B\u540D, \u8981\u6C42\u5339\u914D\u6A21\u5F0F ",(0,i.jsx)(e.code,{children:"[a-zA-Z][0-9a-zA-Z_]+"})]}),(0,i.jsx)(e.td,{children:"\u5426"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"user_id"}),(0,i.jsxs)(e.td,{children:["\u521B\u5EFA Instance \u7684\u7528\u6237 ID \u8981\u6C42\u5339\u914D\u6A21\u5F0F ",(0,i.jsx)(e.code,{children:"[a-zA-Z][0-9a-zA-Z_]+"})]}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"vault.obj_info"}),(0,i.jsx)(e.td,{children:"S3 \u94FE\u63A5\u914D\u7F6E\u4FE1\u606F"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"vault.obj_info.ak"}),(0,i.jsx)(e.td,{children:"S3 \u7684 Access Key"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"vault.obj_info.sk"}),(0,i.jsx)(e.td,{children:"S3 \u7684 Secret Key"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"vault.obj_info.bucket"}),(0,i.jsx)(e.td,{children:"S3 \u7684 Bucket \u540D"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"vault.obj_info.prefix"}),(0,i.jsx)(e.td,{children:"S3 \u4E0A\u6570\u636E\u5B58\u653E\u4F4D\u7F6E\u524D\u7F00"}),(0,i.jsx)(e.td,{children:"\u5426"}),(0,i.jsxs)(e.td,{children:["\u82E5\u4E0D\u586B\u5199\u8BE5\u53C2\u6570\uFF0C\u5219\u9ED8\u8BA4\u5B58\u653E\u4F4D\u7F6E\u5728 Bucket \u7684\u6839\u76EE\u5F55\uFF0C\u4F8B\uFF1A",(0,i.jsx)(e.code,{children:"big_data"})]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"obj_info.endpoint"}),(0,i.jsx)(e.td,{children:"S3 \u7684 Endpoint \u4FE1\u606F"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsxs)(e.td,{children:["\u57DF\u540D\u6216 IP:\u7AEF\u53E3\uFF0C\u4E0D\u5305\u542B ",(0,i.jsx)(e.code,{children:"http://"})," \u7B49 scheme \u524D\u7F00"]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"obj_info.region"}),(0,i.jsx)(e.td,{children:"S3 \u7684 Region \u4FE1\u606F"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u82E5\u4F7F\u7528 MinIO\uFF0C\u8BE5\u53C2\u6570\u53EF\u586B\u4EFB\u610F\u503C"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"obj_info.external_endpoint"}),(0,i.jsx)(e.td,{children:"S3 \u7684 External Endpoint \u4FE1\u606F"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u4E00\u822C\u4E0E Endpoint \u4E00\u81F4\u5373\u53EF\uFF0C\u517C\u5BB9 OSS\uFF0C\u6CE8\u610F OSS \u6709 External \u548C Internal \u4E4B\u5206"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"vault.obj_info.provider"}),(0,i.jsx)(e.td,{children:"S3 \u7684 Provider \u4FE1\u606F\uFF0C\u53EF\u9009\u503C\u5305\u62EC\uFF1AOSS, S3, COS, OBS, BOS, GCP, AZURE"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u82E5\u4F7F\u7528 MinIO\uFF0C\u76F4\u63A5\u586B S3 \u5373\u53EF"})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u521B\u5EFA\u57FA\u4E8E\u5BF9\u8C61\u5B58\u50A8\u4E3A\u5B58\u50A8\u540E\u7AEF\u7684\u8BF7\u6C42\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:'PUT /MetaService/http/create_instance?token=greedisgood9999 HTTP/1.1\nContent-Length: 441\nContent-Type: text/plain\n\n{\n  "instance_id": "sample_instance_id",\n  "name": "sample_instance_name",\n  "user_id": "sample_user_id",\n  "vault": {\n    "obj_info": {\n      "ak": "ak_xxxxxxxxxxx",\n      "sk": "sk_xxxxxxxxxxx",\n      "bucket": "sample_bucket_name",\n      "prefix": "sample_prefix",\n      "endpoint": "cos.ap-beijing.myqcloud.com",\n      "external_endpoint": "cos.ap-beijing.myqcloud.com",\n      "region": "ap-beijing",\n      "provider": "COS"\n    }\n  }\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8FD4\u56DE\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"code"}),(0,i.jsx)(e.td,{children:"\u8FD4\u56DE\u72B6\u6001\u7801"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsxs)(e.td,{children:["\u679A\u4E3E\u503C\uFF0C\u5305\u62EC ",(0,i.jsx)(e.code,{children:"OK"}),"\u3001",(0,i.jsx)(e.code,{children:"INVALID_ARGUMENT"}),"\u3001",(0,i.jsx)(e.code,{children:"INTERNAL_ERROR"}),"\u3001",(0,i.jsx)(e.code,{children:"ALREADY_EXISTED"})]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"msg"}),(0,i.jsx)(e.td,{children:"\u9519\u8BEF\u539F\u56E0"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u82E5\u53D1\u751F\u9519\u8BEF\uFF0C\u5219\u8FD4\u56DE\u9519\u8BEF\u539F\u56E0\uFF1B\u82E5\u672A\u53D1\u751F\u9519\u8BEF\uFF0C\u5219\u8FD4\u56DE\u7A7A\u5B57\u7B26\u4E32"})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6210\u529F\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "OK",\n "msg": ""\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5931\u8D25\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "ALREADY_EXISTED",\n "msg": "instance already existed, instance_id=instance_id_deadbeef"\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"\u521B\u5EFA\u975E\u5B58\u50A8\u540E\u7AEF\u7684-instance",children:"\u521B\u5EFA\u975E\u5B58\u50A8\u540E\u7AEF\u7684 Instance"}),"\n",(0,i.jsx)(e.admonition,{type:"tip",children:(0,i.jsx)(e.p,{children:"\u5386\u53F2\u9057\u7559\u63A5\u53E3\uFF0C\u65B0\u7248\u672C\u5DF2\u5F03\u7528\uFF0C\u79C1\u6709\u5316\u90E8\u7F72\u8BF7\u52FF\u4F7F\u7528\u3002"})}),"\n",(0,i.jsx)(e.h3,{id:"\u63A5\u53E3\u63CF\u8FF0-1",children:"\u63A5\u53E3\u63CF\u8FF0"}),"\n",(0,i.jsxs)(e.p,{children:["\u672C\u63A5\u53E3\u7528\u4E8E\u521B\u5EFA\u4E00\u4E2A Instance\uFF0C\u8BE5 Instance \u4EC5\u4F7F\u7528 S3 \u4F5C\u4E3A\u5176\u5B58\u50A8\u540E\u7AEF\uFF0C\u5E76\u4E14\u53EA\u80FD\u4F7F\u7528\u4E00\u4E2A\u5B58\u50A8\u540E\u7AEF\u3002\u8BE5 Instance \u4E0D\u5305\u542B\u4EFB\u4F55\u8282\u70B9\u4FE1\u606F\uFF0C\u4E0D\u80FD\u591A\u6B21\u521B\u5EFA\u540C\u4E00\u4E2A ",(0,i.jsx)(e.code,{children:"instance_id"})," \u7684 Instance\u3002"]}),"\n",(0,i.jsx)(e.h3,{id:"\u8BF7\u6C42-1",children:"\u8BF7\u6C42"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u8BED\u6CD5"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:'PUT /MetaService/http/create_instance?token=<token HTTP/1.1\nContent-Length: <ContentLength\nContent-Type: text/plain\n\n{\n    "instance_id": string,\n    "name": string,\n    "user_id": string,\n    "obj_info": {\n        "ak": string,\n        "sk": string,\n        "bucket": string,\n        "prefix": string,\n        "endpoint": string,\n        "region": string,\n        "external_endpoint": string,\n        "provider": string\n        "user_id": string\n    },\n    "ram_user": {\n        "user_id": string,\n        "ak": string,\n        "sk": string\n    }\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"instance_id"}),(0,i.jsxs)(e.td,{children:["\u5B58\u7B97\u5206\u79BB\u67B6\u6784\u4E0B\u6570\u4ED3\u5B9E\u4F8B\u7684 ID\uFF0C\u4E00\u822C\u4F7F\u7528 UUID \u5B57\u7B26\u4E32\uFF0C\u9700\u8981\u5339\u914D\u6A21\u5F0F",(0,i.jsx)(e.code,{children:"[0-9a-zA-Z_-]+"})]}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsxs)(e.td,{children:["\u4F8B\u5982 ",(0,i.jsx)(e.code,{children:"6ADDF03D-4C71-4F43-9D84-5FC89B3514F8"})]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"name"}),(0,i.jsxs)(e.td,{children:["Instance \u522B\u540D, \u8981\u6C42\u5339\u914D\u6A21\u5F0F ",(0,i.jsx)(e.code,{children:"[a-zA-Z][0-9a-zA-Z_]+"})]}),(0,i.jsx)(e.td,{children:"\u5426"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"user_id"}),(0,i.jsxs)(e.td,{children:["\u521B\u5EFA Instance \u7684\u7528\u6237 ID \u8981\u6C42\u5339\u914D\u6A21\u5F0F ",(0,i.jsx)(e.code,{children:"[a-zA-Z][0-9a-zA-Z_]+"})]}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"obj_info"}),(0,i.jsx)(e.td,{children:"S3 \u94FE\u63A5\u914D\u7F6E\u4FE1\u606F"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"obj_info.ak"}),(0,i.jsx)(e.td,{children:"S3 \u7684 Access Key"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"obj_info.sk"}),(0,i.jsx)(e.td,{children:"S3 \u7684 Secret Key"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"obj_info.bucket"}),(0,i.jsx)(e.td,{children:"S3 \u7684 Bucket \u540D"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"obj_info.prefix"}),(0,i.jsx)(e.td,{children:"S3 \u4E0A\u6570\u636E\u5B58\u653E\u4F4D\u7F6E\u524D\u7F00"}),(0,i.jsx)(e.td,{children:"\u5426"}),(0,i.jsx)(e.td,{children:"\u82E5\u4E0D\u586B\u5199\u8BE5\u53C2\u6570\uFF0C\u5219\u9ED8\u8BA4\u5B58\u653E\u4F4D\u7F6E\u5728 Bucket \u7684\u6839\u76EE\u5F55"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"obj_info.endpoint"}),(0,i.jsx)(e.td,{children:"S3 \u7684 Endpoint \u4FE1\u606F"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsxs)(e.td,{children:["\u57DF\u540D\u6216 IP:\u7AEF\u53E3\uFF0C\u4E0D\u5305\u542B ",(0,i.jsx)(e.code,{children:"http://"})," \u7B49 scheme \u524D\u7F00"]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"obj_info.region"}),(0,i.jsx)(e.td,{children:"S3 \u7684 Region \u4FE1\u606F"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"obj_info.external_endpoint"}),(0,i.jsx)(e.td,{children:"S3 \u7684 External Endpoint \u4FE1\u606F"}),(0,i.jsx)(e.td,{children:"\u5426"}),(0,i.jsx)(e.td,{children:"\u517C\u5BB9 OSS\uFF0C\u6CE8\u610F OSS \u6709 External \u548C Internal \u4E4B\u5206"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"obj_info.provider"}),(0,i.jsx)(e.td,{children:"S3 \u7684 Provider \u4FE1\u606F"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"obj_info.user_id"}),(0,i.jsxs)(e.td,{children:["Bucket \u7684 ",(0,i.jsx)(e.code,{children:"user_id"})]}),(0,i.jsx)(e.td,{children:"\u5426"}),(0,i.jsx)(e.td,{children:"\u7528\u4E8E\u5728\u8F6E\u8F6C AK/SK \u4E2D\u6807\u8BC6\u9700\u8981\u66F4\u6539 AK/SK \u7684\u5BF9\u8C61"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"ram_user"}),(0,i.jsxs)(e.td,{children:[(0,i.jsx)(e.code,{children:"ram_user"})," \u4FE1\u606F\uFF0C\u7528\u4E8E\u5916\u90E8 Bucket \u6388\u6743"]}),(0,i.jsx)(e.td,{children:"\u5426"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"ram_user.user_id"}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"ram_user.ak"}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"ram_user.sk"}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/create_instance?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id": "123456",\n    "name": "name",\n    "user_id": "abcdef",\n    "obj_info": {\n        "ak": "test-ak1",\n        "sk": "test-sk1",\n        "bucket": "test-bucket",\n        "prefix": "test-prefix",\n        "endpoint": "test-endpoint",\n        "region": "test-region",\n        "provider": "OBS",\n        "user_id": "xxx"\n    }\n    "ram_user": {\n        "user_id": string,\n        "ak": string,\n        "sk": string\n    }\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8FD4\u56DE\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"code"}),(0,i.jsx)(e.td,{children:"\u8FD4\u56DE\u72B6\u6001\u7801"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsxs)(e.td,{children:["\u679A\u4E3E\u503C\uFF0C\u5305\u62EC ",(0,i.jsx)(e.code,{children:"OK"}),"\u3001",(0,i.jsx)(e.code,{children:"INVALID_ARGUMENT"}),"\u3001",(0,i.jsx)(e.code,{children:"INTERNAL_ERROR"}),"\u3001",(0,i.jsx)(e.code,{children:"ALREADY_EXISTED"})]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"msg"}),(0,i.jsx)(e.td,{children:"\u9519\u8BEF\u539F\u56E0"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u82E5\u53D1\u751F\u9519\u8BEF\uFF0C\u5219\u8FD4\u56DE\u9519\u8BEF\u539F\u56E0\uFF1B\u82E5\u672A\u53D1\u751F\u9519\u8BEF\uFF0C\u5219\u8FD4\u56DE\u7A7A\u5B57\u7B26\u4E32"})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6210\u529F\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "OK",\n "msg": ""\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5931\u8D25\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "ALREADY_EXISTED",\n "msg": "instance already existed, instance_id=instance_id_deadbeef"\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"\u5220\u9664-instance",children:"\u5220\u9664 Instance"}),"\n",(0,i.jsx)(e.h3,{id:"\u63A5\u53E3\u63CF\u8FF0-2",children:"\u63A5\u53E3\u63CF\u8FF0"}),"\n",(0,i.jsx)(e.p,{children:"\u672C\u63A5\u53E3\u7528\u4E8E\u5220\u9664\u4E00\u4E2A\u5DF2\u5B58\u5728\u7684 Instance\uFF0C\u6807\u8BB0\u5220\u9664\u540E\uFF0CRecycler \u4F1A\u5F02\u6B65\u56DE\u6536\u8D44\u6E90\u3002"}),"\n",(0,i.jsx)(e.h3,{id:"\u8BF7\u6C42-2",children:"\u8BF7\u6C42"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u8BED\u6CD5"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/drop_instance?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id": string\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsx)(e.tbody,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"instance_id"}),(0,i.jsx)(e.td,{children:"instance_id"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u5168\u5C40\u552F\u4E00"})]})})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/drop_instance?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id": "123456"\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8FD4\u56DE\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"code"}),(0,i.jsx)(e.td,{children:"\u8FD4\u56DE\u72B6\u6001\u7801"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsxs)(e.td,{children:["\u679A\u4E3E\u503C\uFF0C\u5305\u62EC ",(0,i.jsx)(e.code,{children:"OK"}),"\u3001",(0,i.jsx)(e.code,{children:"INVALID_ARGUMENT"}),"\u3001",(0,i.jsx)(e.code,{children:"INTERNAL_ERROR"})]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"msg"}),(0,i.jsx)(e.td,{children:"\u9519\u8BEF\u539F\u56E0"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u82E5\u53D1\u751F\u9519\u8BEF\uFF0C\u5219\u8FD4\u56DE\u9519\u8BEF\u539F\u56E0\uFF1B\u82E5\u672A\u53D1\u751F\u9519\u8BEF\uFF0C\u5219\u8FD4\u56DE\u7A7A\u5B57\u7B26\u4E32"})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6210\u529F\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "OK",\n "msg": ""\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5931\u8D25\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "INVALID_ARGUMENT",\n "msg": "failed to drop instance, instance has clusters"\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"\u67E5\u8BE2-instance-\u4FE1\u606F",children:"\u67E5\u8BE2 Instance \u4FE1\u606F"}),"\n",(0,i.jsx)(e.h3,{id:"\u63A5\u53E3\u63CF\u8FF0-3",children:"\u63A5\u53E3\u63CF\u8FF0"}),"\n",(0,i.jsx)(e.p,{children:"\u672C\u63A5\u53E3\u7528\u4E8E\u67E5\u8BE2 Instance \u4E0B\u7684\u4FE1\u606F\uFF08\u5305\u62EC S3 \u4FE1\u606F\u3001Cluster \u4FE1\u606F\u3001Stage \u4FE1\u606F\u7B49\uFF09\uFF0C\u53EF\u7528\u4E8E Debug\u3002"}),"\n",(0,i.jsx)(e.h3,{id:"\u8BF7\u6C42-3",children:"\u8BF7\u6C42"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u8BED\u6CD5"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:"GET /MetaService/http/get_instance?token=greedisgood9999&instance_id={instance_id} HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsx)(e.tbody,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"instance_id"}),(0,i.jsx)(e.td,{children:"instance_id"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u5168\u5C40\u552F\u4E00"})]})})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:"GET /MetaService/http/get_instance?token=greedisgood9999&instance_id=test-instance HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8FD4\u56DE\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"code"}),(0,i.jsx)(e.td,{children:"\u8FD4\u56DE\u72B6\u6001\u7801"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsxs)(e.td,{children:["\u679A\u4E3E\u503C\uFF0C\u5305\u62EC ",(0,i.jsx)(e.code,{children:"OK"}),"\u3001",(0,i.jsx)(e.code,{children:"INVALID_ARGUMENT"}),"\u3001",(0,i.jsx)(e.code,{children:"INTERNAL_ERROR"})]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"msg"}),(0,i.jsx)(e.td,{children:"\u9519\u8BEF\u539F\u56E0"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u82E5\u53D1\u751F\u9519\u8BEF\uFF0C\u5219\u8FD4\u56DE\u9519\u8BEF\u539F\u56E0\uFF1B\u82E5\u672A\u53D1\u751F\u9519\u8BEF\uFF0C\u5219\u8FD4\u56DE\u7A7A\u5B57\u7B26\u4E32"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"result"}),(0,i.jsx)(e.td,{children:"Instance \u4E0B\u7684\u4FE1\u606F"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"result.user_id"}),(0,i.jsx)(e.td,{children:"\u521B\u5EFA Instance \u7684 User ID"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"result.instance_id"}),(0,i.jsx)(e.td,{children:"\u521B\u5EFA Instance \u4F20\u5165\u7684 instance_id"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"result.name"}),(0,i.jsx)(e.td,{children:"\u521B\u5EFA Instance \u7684 User Name"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"result.clusters"}),(0,i.jsx)(e.td,{children:"Instance \u5185\u7684 Cluster \u5217\u8868"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"result.mtime"}),(0,i.jsx)(e.td,{children:"Instance \u7684\u4FEE\u6539\u65F6\u95F4"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"result.obj_info"}),(0,i.jsx)(e.td,{children:"Instance \u4E0B\u7684 S3 \u4FE1\u606F\u5217\u8868"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"result.stages"}),(0,i.jsx)(e.td,{children:"Instance \u4E0B\u7684 Stages \u5217\u8868"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"result.status"}),(0,i.jsx)(e.td,{children:"Instance \u7684\u72B6\u6001\u4FE1\u606F"}),(0,i.jsx)(e.td,{children:"\u5426"}),(0,i.jsxs)(e.td,{children:["\u82E5 Instance \u88AB drop\uFF0C\u5219\u4E3A",(0,i.jsx)(e.code,{children:"DELETED"})]})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6210\u529F\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n    "code": "OK",\n    "msg": "",\n    "result": {\n        "user_id": "gavin-user-id",\n        "instance_id": "regression_instance0",\n        "name": "test-instance",\n        "clusters": [\n            {\n                "cluster_id": "RESERVED_CLUSTER_ID_FOR_SQL_SERVER",\n                "cluster_name": "RESERVED_CLUSTER_NAME_FOR_SQL_SERVER",\n                "type": "SQL",\n                "nodes": [\n                    {\n                        "cloud_unique_id": "1:regression_instance0:regression-cloud-unique-id-fe-1",\n                        "ip": "127.0.0.1",\n                        "ctime": "1669260437",\n                        "mtime": "1669260437",\n                        "edit_log_port": 12103,\n                        "node_type": "FE_MASTER"\n                    }\n                ]\n            },\n            {\n                "cluster_id": "regression_test_cluster_id0",\n                "cluster_name": "regression_test_cluster_name0",\n                "type": "COMPUTE",\n                "nodes": [\n                    {\n                        "cloud_unique_id": "1:regression_instance0:regression-cloud-unique-id0",\n                        "ip": "127.0.0.1",\n                        "ctime": "1669260437",\n                        "mtime": "1669260437",\n                        "heartbeat_port": 11102\n                    }\n                ],\n                "mysql_user_name": [\n                    "root"\n                ]\n            },\n            {\n                "cluster_id": "regression_test_cluster_id1",\n                "cluster_name": "regression_test_cluster_name1",\n                "type": "COMPUTE",\n                "nodes": [\n                    {\n                        "cloud_unique_id": "1:regression_instance0:regression-cloud-unique-id0",\n                        "ip": "127.0.0.1",\n                        "ctime": "1669260437",\n                        "mtime": "1669260437",\n                        "heartbeat_port": 14102\n                    }\n                ],\n                "mysql_user_name": [\n                    "jack",\n                    "lx"\n                ]\n            },\n            {\n                "cluster_id": "regression_test_cluster_id2",\n                "cluster_name": "regression_test_cluster_name2",\n                "type": "COMPUTE",\n                "nodes": [\n                    {\n                        "cloud_unique_id": "1:regression_instance0:regression-cloud-unique-id0",\n                        "ip": "127.0.0.1",\n                        "ctime": "1669260437",\n                        "mtime": "1669260437",\n                        "heartbeat_port": 16102\n                    }\n                ]\n            }\n        ],\n        "obj_info": [\n            {\n                "ctime": "1669260437",\n                "mtime": "1669260437",\n                "id": "1",\n                "ak": "akak",\n                "sk": "sksk",\n                "bucket": "justtmp-bj-1308700295",\n                "prefix": "dx-test",\n                "endpoint": "cos.ap-beijing.myqcloud.com",\n                "region": "ap-beijing",\n                "provider": "COS",\n                "external_endpoint": ""\n            }\n        ],\n        "stages": [\n            {\n                "mysql_user_name": [\n                    "admin"\n                ],\n                "obj_info": {\n                    "id": "1",\n                    "prefix": "dx-test/stage/admin/admin"\n                },\n                "stage_id": "c56f5d01-0ae2-4719-8be2-8b52b3144f60",\n                "mysql_user_id": [\n                    "admin"\n                ]\n            },\n            {\n                "type": "EXTERNAL",\n                "name": "smoke_test_tpch",\n                "obj_info": {\n                    "ak": "akak",\n                    "sk": "sksk",\n                    "bucket": "gavin-test-bj",\n                    "prefix": "smoke-test",\n                    "endpoint": "oss-cn-beijing.aliyuncs.com",\n                    "region": "cn-beijing",\n                    "provider": "OSS"\n                },\n                "stage_id": "261c3565-7ac3-4cb5-9c82-a9bc38cff8e8",\n                "properties": {\n                    "default.file.column_separator": "|"\n                }\n            }\n        ]\n    }\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"\u8BBE\u7F6E-instance-\u72B6\u6001",children:"\u8BBE\u7F6E Instance \u72B6\u6001"}),"\n",(0,i.jsx)(e.h3,{id:"\u63A5\u53E3\u63CF\u8FF0-4",children:"\u63A5\u53E3\u63CF\u8FF0"}),"\n",(0,i.jsxs)(e.p,{children:["\u672C\u63A5\u53E3\u7528\u4E8E\u5C06\u67D0\u4E2A Instance \u7684\u72B6\u6001\u8BBE\u7F6E\u4E3A ",(0,i.jsx)(e.code,{children:"NORMAL"})," \u6216\u8005 ",(0,i.jsx)(e.code,{children:"OVERDUE"}),"\u3002"]}),"\n",(0,i.jsx)(e.h3,{id:"\u8BF7\u6C42-4",children:"\u8BF7\u6C42"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u8BED\u6CD5"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/set_instance_status?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id": string\n    "op": string\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"instance_id"}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"op"}),(0,i.jsx)(e.td,{children:'\u503C\u9700\u8981\u4E3A"SET_NORMAL", "SET_OVERDUE"\u4E2D\u7684\u4E00\u4E2A'}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'curl \'127.0.0.1:5000/MetaService/http/set_instance_status?token=greedisgood9999\' -d \'{\n    "instance_id":"test_instance",\n    "op": "SET_OVERDUE"\n}\'\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8FD4\u56DE\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"code"}),(0,i.jsx)(e.td,{children:"\u8FD4\u56DE\u72B6\u6001\u7801"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"msg"}),(0,i.jsx)(e.td,{children:"\u9519\u8BEF\u539F\u56E0"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6210\u529F\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n    "code": "OK",\n    "msg": ""\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"\u83B7\u53D6-instance-\u914D\u7F6E\u7684-s3-\u4FE1\u606F",children:"\u83B7\u53D6 Instance \u914D\u7F6E\u7684 S3 \u4FE1\u606F"}),"\n",(0,i.jsx)(e.h3,{id:"\u63A5\u53E3\u63CF\u8FF0-5",children:"\u63A5\u53E3\u63CF\u8FF0"}),"\n",(0,i.jsx)(e.p,{children:"\u672C\u63A5\u53E3\u7528\u4E8E\u83B7\u53D6 Instance \u914D\u7F6E\u7684 S3 \u7684 AK/SK \u4FE1\u606F\uFF0C\u6B64\u63A5\u53E3\u53EF\u4F7F\u7528\u76F8\u540C\u53C2\u6570\u8C03\u7528\u591A\u6B21\u3002"}),"\n",(0,i.jsx)(e.h3,{id:"\u8BF7\u6C42-5",children:"\u8BF7\u6C42"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u8BED\u6CD5"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/get_obj_store_info?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{"cloud_unique_id": "<cloud_unique_id>"}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsx)(e.tbody,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cloud_unique_id"}),(0,i.jsx)(e.td,{children:"\u8282\u70B9\u7684 cloud_unique_id"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsxs)(e.td,{children:["Instance \u4E0B\u67D0\u8282\u70B9\u7684 ",(0,i.jsx)(e.code,{children:"unique_id"})," \u53EF\u7528\u4E8E\u67E5\u8BE2\u6574\u4E2A Instance \u914D\u7F6E\u7684 S3 \u4FE1\u606F"]})]})})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/get_obj_store_info?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{"cloud_unique_id": "1:regression_instance0:cloud_unique_id_compute_node1"}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8FD4\u56DE\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"code"}),(0,i.jsx)(e.td,{children:"\u8FD4\u56DE\u72B6\u6001\u7801"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsxs)(e.td,{children:["\u679A\u4E3E\u503C\uFF0C\u5305\u62EC ",(0,i.jsx)(e.code,{children:"OK"}),"\u3001",(0,i.jsx)(e.code,{children:"INVALID_ARGUMENT"}),"\u3001",(0,i.jsx)(e.code,{children:"INTERNAL_ERROR"}),"\u3001",(0,i.jsx)(e.code,{children:"ALREADY_EXISTED"})]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"msg"}),(0,i.jsx)(e.td,{children:"\u9519\u8BEF\u539F\u56E0"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u82E5\u53D1\u751F\u9519\u8BEF\uFF0C\u5219\u8FD4\u56DE\u9519\u8BEF\u539F\u56E0\uFF1B\u82E5\u672A\u53D1\u751F\u9519\u8BEF\uFF0C\u5219\u8FD4\u56DE\u7A7A\u5B57\u7B26\u4E32"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"result"}),(0,i.jsx)(e.td,{children:"\u67E5\u8BE2\u7ED3\u679C\u5BF9\u8C61"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6210\u529F\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n    "code": "OK",\n    "msg": "",\n    "result": {\n        "obj_info": [\n            {\n                "ctime": "1662543056",\n                "mtime": "1662543056",\n                "id": "1",\n                "ak": "xxxx",\n                "sk": "xxxxx",\n                "bucket": "doris-xxx-1308700295",\n                "prefix": "selectdb-xxxx-regression-prefix",\n                "endpoint": "cos.ap-yyy.xxxx.com",\n                "region": "ap-xxx"\n            }\n        ]\n    }\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5931\u8D25\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "INVALID_ARGUMENT",\n "msg": "empty instance_id"\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"\u66F4\u65B0-instance-\u7684-aksk-\u4FE1\u606F",children:"\u66F4\u65B0 Instance \u7684 AK/SK \u4FE1\u606F"}),"\n",(0,i.jsx)(e.h3,{id:"\u63A5\u53E3\u63CF\u8FF0-6",children:"\u63A5\u53E3\u63CF\u8FF0"}),"\n",(0,i.jsxs)(e.p,{children:["\u672C\u63A5\u53E3\u7528\u4E8E\u66F4\u65B0 Instance \u914D\u7F6E\u7684 S3 \u548C RAM_USER \u7684 AK/SK \u4FE1\u606F\uFF0C\u4F7F\u7528 ",(0,i.jsx)(e.code,{children:"user_id"})," \u67E5\u8BE2\u4FEE\u6539\u9879\uFF0C\u4E00\u822C\u7528\u4E8E AK/SK \u8F6E\u8F6C\uFF0C\u4F7F\u7528\u76F8\u540C\u53C2\u6570\u8C03\u7528\u6B64\u63A5\u53E3\u4F1A\u62A5\u9519\u3002"]}),"\n",(0,i.jsx)(e.h3,{id:"\u8BF7\u6C42-6",children:"\u8BF7\u6C42"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u8BED\u6CD5"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/update_ak_sk?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id": string,\n    "internal_bucket_user":[\n        {\n            "user_id": string,\n            "ak": string,\n            "sk": string\n        },\n        {\n            "user_id": string,\n            "ak": string,\n            "sk": string\n        }\n    ],\n    "ram_user": {\n        "user_id": string,\n        "ak": string,\n        "sk": string\n    }\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"instance_id"}),(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"instance_id"})}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"internal_bucket_user"}),(0,i.jsxs)(e.td,{children:["\u9700\u4FEE\u6539\u7684 ",(0,i.jsx)(e.code,{children:"bucket_user"})," \u5217\u8868"]}),(0,i.jsxs)(e.td,{children:["\u548C ",(0,i.jsx)(e.code,{children:"ram_user"})," \u81F3\u5C11\u5B58\u5728\u4E00\u4E2A"]}),(0,i.jsx)(e.td,{children:"\u6570\u7EC4"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"internal_bucket_user.user_id"}),(0,i.jsxs)(e.td,{children:["\u8D26\u53F7 ",(0,i.jsx)(e.code,{children:"user_id"})]}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"internal_bucket_user.ak"}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"internal_bucket_user.sk"}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"ram_user"}),(0,i.jsxs)(e.td,{children:["\u9700\u4FEE\u6539\u7684 ",(0,i.jsx)(e.code,{children:"ram_user"})]}),(0,i.jsxs)(e.td,{children:["\u548C ",(0,i.jsx)(e.code,{children:"internal_bucket_user"})," \u81F3\u5C11\u5B58\u5728\u4E00\u4E2A"]}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"ram_user.user_id"}),(0,i.jsxs)(e.td,{children:["\u8D26\u53F7 ",(0,i.jsx)(e.code,{children:"user_id"})]}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"ram_user.ak"}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"ram_user.sk"}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/update_ak_sk?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id":"test",\n    "internal_bucket_user":[\n        {\n            "user_id": "bucket_user_id_1",\n            "ak": "xxxx",\n            "sk": "xxxx"\n        },\n        {\n            "user_id": "bucket_user_id_2",\n            "ak": "xxxx",\n            "sk": "xxxx"\n        }\n    ],\n    "ram_user": {\n        "user_id": "ram_user_id",\n        "ak": "xxxx",\n        "sk": "xxxx"\n    }\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8FD4\u56DE\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"code"}),(0,i.jsx)(e.td,{children:"\u8FD4\u56DE\u72B6\u6001\u7801"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsxs)(e.td,{children:["\u679A\u4E3E\u503C\uFF0C\u5305\u62EC ",(0,i.jsx)(e.code,{children:"OK"}),"\u3001",(0,i.jsx)(e.code,{children:"INVALID_ARGUMENT"}),"\u3001",(0,i.jsx)(e.code,{children:"INTERNAL_ERROR"}),"\u3001",(0,i.jsx)(e.code,{children:"ALREADY_EXISTED"})]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"msg"}),(0,i.jsx)(e.td,{children:"\u9519\u8BEF\u539F\u56E0"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u82E5\u53D1\u751F\u9519\u8BEF\uFF0C\u5219\u8FD4\u56DE\u9519\u8BEF\u539F\u56E0\uFF1B\u82E5\u672A\u53D1\u751F\u9519\u8BEF\uFF0C\u5219\u8FD4\u56DE\u7A7A\u5B57\u7B26\u4E32"})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6210\u529F\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "OK",\n "msg": ""\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5931\u8D25\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "INVALID_ARGUMENT",\n "msg": "ak sk eq original, please check it"\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"\u66F4\u65B0-instance-\u7684-aksk-\u4FE1\u606F\u5386\u53F2\u9057\u7559\u63A5\u53E3\u65B0\u7248\u672C\u5DF2\u5F03\u7528",children:"\u66F4\u65B0 Instance \u7684 AK/SK \u4FE1\u606F\uFF08\u5386\u53F2\u9057\u7559\u63A5\u53E3\u65B0\u7248\u672C\u5DF2\u5F03\u7528\uFF09"}),"\n",(0,i.jsx)(e.h3,{id:"\u63A5\u53E3\u63CF\u8FF0-7",children:"\u63A5\u53E3\u63CF\u8FF0"}),"\n",(0,i.jsxs)(e.p,{children:["\u672C\u63A5\u53E3\u7528\u4E8E\u66F4\u65B0 Instance \u914D\u7F6E\u7684 S3 \u7684 AK/SK \u4FE1\u606F\uFF0C\u4F7F\u7528 ID \u67E5\u8BE2\u4FEE\u6539\u9879\uFF0CID \u53EF\u7531 ",(0,i.jsx)(e.code,{children:"get_obj_store_info"})," \u67E5\u8BE2\u800C\u5F97\u3002\u6B64\u63A5\u53E3\u4F7F\u7528\u76F8\u540C\u53C2\u6570\u591A\u6B21\u8C03\u7528\u4F1A\u62A5\u9519\u3002"]}),"\n",(0,i.jsx)(e.h3,{id:"\u8BF7\u6C42-7",children:"\u8BF7\u6C42"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u8BED\u6CD5"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/legacy_update_ak_sk?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "cloud_unique_id": string,\n    "obj": {\n        "id": string,\n        "ak": string,\n        "sk": string,\n    }\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cloud_unique_id"}),(0,i.jsxs)(e.td,{children:["\u8282\u70B9\u7684 ",(0,i.jsx)(e.code,{children:"cloud_unique_id"})]}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"obj"}),(0,i.jsx)(e.td,{children:"\u5BF9\u8C61"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"S3 \u4FE1\u606F\u5BF9\u8C61"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"obj.id"}),(0,i.jsx)(e.td,{children:"\u5BF9\u8C61\u7684 ID"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"ID \u652F\u6301\u4ECE 1 \u5230 10"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"obj.ak"}),(0,i.jsx)(e.td,{children:"\u5BF9\u8C61\u7684 Access Key"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"obj.sk"}),(0,i.jsx)(e.td,{children:"\u5BF9\u8C61\u7684 Secret Access Key"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u5B57\u7B26\u4E32\u6570\u7EC4"})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/legacy_update_ak_sk?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "cloud_unique_id": "1:regression_instance0:cloud_unique_id_compute_node1",\n    "obj": {\n        "id": "1",\n        "ak": "test-ak",\n        "sk": "test-sk",\n    }\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8FD4\u56DE\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"code"}),(0,i.jsx)(e.td,{children:"\u8FD4\u56DE\u72B6\u6001\u7801"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsxs)(e.td,{children:["\u679A\u4E3E\u503C\uFF0C\u5305\u62EC ",(0,i.jsx)(e.code,{children:"OK"}),"\u3001",(0,i.jsx)(e.code,{children:"INVALID_ARGUMENT"}),"\u3001",(0,i.jsx)(e.code,{children:"INTERNAL_ERROR"}),"\u3001",(0,i.jsx)(e.code,{children:"ALREADY_EXISTED"})]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"msg"}),(0,i.jsx)(e.td,{children:"\u9519\u8BEF\u539F\u56E0"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u82E5\u53D1\u751F\u9519\u8BEF\uFF0C\u5219\u8FD4\u56DE\u9519\u8BEF\u539F\u56E0\uFF1B\u82E5\u672A\u53D1\u751F\u9519\u8BEF\uFF0C\u5219\u8FD4\u56DE\u7A7A\u5B57\u7B26\u4E32"})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6210\u529F\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "OK",\n "msg": ""\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5931\u8D25\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "INVALID_ARGUMENT",\n "msg": "ak sk eq original, please check it"\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"\u6DFB\u52A0-instance-\u7684-s3-\u4FE1\u606F",children:"\u6DFB\u52A0 Instance \u7684 S3 \u4FE1\u606F"}),"\n",(0,i.jsx)(e.h3,{id:"\u63A5\u53E3\u63CF\u8FF0-8",children:"\u63A5\u53E3\u63CF\u8FF0"}),"\n",(0,i.jsx)(e.p,{children:"\u672C\u63A5\u53E3\u7528\u4E8E\u6DFB\u52A0 Instance \u914D\u7F6E\u7684 S3 \u7684\u4FE1\u606F\uFF0C\u6700\u591A\u652F\u6301\u6DFB\u52A0 10 \u6761 S3 \u4FE1\u606F\uFF0C\u6BCF\u6761\u914D\u7F6E\u6700\u591A\u4E0D\u8D85\u8FC7 1024 \u5B57\u8282\u5927\u5C0F\u3002"}),"\n",(0,i.jsx)(e.h3,{id:"\u8BF7\u6C42-8",children:"\u8BF7\u6C42"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u8BED\u6CD5"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/add_obj_info?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "cloud_unique_id": string,\n    "obj": {\n        "ak": string,\n        "sk": string,\n        "bucket": string,\n        "prefix": string,\n        "endpoint": string,\n        "region": string\n    }\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cloud_unique_id"}),(0,i.jsxs)(e.td,{children:["\u8282\u70B9\u7684 ",(0,i.jsx)(e.code,{children:"cloud_unique_id"})]}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"obj"}),(0,i.jsxs)(e.td,{children:[(0,i.jsx)(e.code,{children:"obj"})," \u5BF9\u8C61"]}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"S3 \u4FE1\u606F\u5BF9\u8C61"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"obj.ak"}),(0,i.jsxs)(e.td,{children:["\u5C06\u6DFB\u52A0 S3 \u7684 ",(0,i.jsx)(e.code,{children:"ak"})]}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"obj.sk"}),(0,i.jsxs)(e.td,{children:["\u5C06\u6DFB\u52A0 S3 \u7684 ",(0,i.jsx)(e.code,{children:"sk"})]}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"obj.bucket"}),(0,i.jsxs)(e.td,{children:["\u5C06\u6DFB\u52A0 S3 \u7684 ",(0,i.jsx)(e.code,{children:"bucket"})]}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"obj.prefix"}),(0,i.jsxs)(e.td,{children:["\u5C06\u6DFB\u52A0 S3 \u7684 ",(0,i.jsx)(e.code,{children:"prefix"})]}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"obj.endpoint"}),(0,i.jsxs)(e.td,{children:["\u5C06\u6DFB\u52A0 S3 \u7684 ",(0,i.jsx)(e.code,{children:"endpoint"})]}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"obj.region"}),(0,i.jsxs)(e.td,{children:["\u5C06\u6DFB\u52A0 S3 \u7684 ",(0,i.jsx)(e.code,{children:"region"})]}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/add_obj_info?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "cloud_unique_id": "1:regression_instance0:cloud_unique_id_compute_node1",\n    "obj": {\n        "ak": "test-ak91",\n        "sk": "test-sk1",\n        "bucket": "test-bucket",\n        "prefix": "test-prefix",\n        "endpoint": "test-endpoint",\n        "region": "test-region"\n    }\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8FD4\u56DE\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"code"}),(0,i.jsx)(e.td,{children:"\u8FD4\u56DE\u72B6\u6001\u7801"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsxs)(e.td,{children:["\u679A\u4E3E\u503C\uFF0C\u5305\u62EC ",(0,i.jsx)(e.code,{children:"OK"}),"\u3001",(0,i.jsx)(e.code,{children:"INVALID_ARGUMENT"}),"\u3001",(0,i.jsx)(e.code,{children:"INTERNAL_ERROR"}),"\u3001",(0,i.jsx)(e.code,{children:"ALREADY_EXISTED"})]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"msg"}),(0,i.jsx)(e.td,{children:"\u9519\u8BEF\u539F\u56E0"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u82E5\u53D1\u751F\u9519\u8BEF\uFF0C\u5219\u8FD4\u56DE\u9519\u8BEF\u539F\u56E0\uFF1B\u82E5\u672A\u53D1\u751F\u9519\u8BEF\uFF0C\u5219\u8FD4\u56DE\u7A7A\u5B57\u7B26\u4E32"})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6210\u529F\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "OK",\n "msg": ""\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5931\u8D25\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "INVALID_ARGUMENT",\n "msg": "s3 conf info err, please check it"\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"\u521B\u5EFA\u8BA1\u7B97\u96C6\u7FA4",children:"\u521B\u5EFA\u8BA1\u7B97\u96C6\u7FA4"}),"\n",(0,i.jsx)(e.h3,{id:"\u63A5\u53E3\u63CF\u8FF0-9",children:"\u63A5\u53E3\u63CF\u8FF0"}),"\n",(0,i.jsx)(e.p,{children:"\u672C\u63A5\u53E3\u7528\u4E8E\u521B\u5EFA\u4E00\u4E2A\u5C5E\u4E8E Instance \u7684\u8BA1\u7B97\u96C6\u7FA4\u3002\u8BE5\u8BA1\u7B97\u96C6\u7FA4\u4E2D\u5305\u542B\u82E5\u5E72\uFF08\u5927\u4E8E\u7B49\u4E8E 0 \u4E2A\uFF09\u76F8\u540C\u7C7B\u578B\u8282\u70B9\u4FE1\u606F\uFF0C\u6B64\u63A5\u53E3\u4E0D\u80FD\u7528\u540C\u4E00\u53C2\u6570\u8C03\u7528\u3002"}),"\n",(0,i.jsx)(e.h3,{id:"\u8BF7\u6C42-9",children:"\u8BF7\u6C42"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u8BED\u6CD5"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-SQL",children:'PUT /MetaService/http/add_cluster?token=<token HTTP/1.1\nContent-Length: <ContentLength\nContent-Type: text/plain\n\n{\n    "instance_id": string,\n    "cluster": object {\n        "cluster_name": string,\n        "cluster_id": string,\n        "type": enum,\n        "nodes": [\n            {\n                "cloud_unique_id": string,\n                "ip": string,\n                "heartbeat_port": int\n            }\n        ]\n    }\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"instance_id"}),(0,i.jsx)(e.td,{children:"instance_id"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u5168\u5C40\u552F\u4E00"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster"}),(0,i.jsx)(e.td,{children:"Cluster \u5BF9\u8C61"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster.cluster_name"}),(0,i.jsx)(e.td,{children:"Cluster \u540D\u79F0"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsxs)(e.td,{children:["\u5176\u4E2D FE \u7684 Cluster \u540D\u79F0\u7279\u6B8A\uFF0C\u9ED8\u8BA4\u4E3A ",(0,i.jsx)(e.code,{children:"RESERVED_CLUSTER_NAME_FOR_SQL_SERVER"}),"\uFF0C\u53EF\u5728 ",(0,i.jsx)(e.code,{children:"fe.conf"})," \u4E2D\u914D\u7F6E ",(0,i.jsx)(e.code,{children:"cloud_observer_cluster_name"})," \u4FEE\u6539"]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster.cluster_id"}),(0,i.jsx)(e.td,{children:"Cluster \u7684 ID"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsxs)(e.td,{children:["\u5176\u4E2D FE \u7684 Cluster ID \u7279\u6B8A\uFF0C\u9ED8\u8BA4\u4E3A ",(0,i.jsx)(e.code,{children:"RESERVED_CLUSTER_ID_FOR_SQL_SERVER"}),"\uFF0C\u53EF\u5728 ",(0,i.jsx)(e.code,{children:"fe.conf"})," \u4E2D\u914D\u7F6E ",(0,i.jsx)(e.code,{children:"cloud_observer_cluster_id"})," \u4FEE\u6539"]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster.type"}),(0,i.jsx)(e.td,{children:"Cluster \u4E2D\u8282\u70B9\u7684\u7C7B\u578B"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsxs)(e.td,{children:["\u652F\u6301\uFF1A",(0,i.jsx)(e.code,{children:"SQL"}),",",(0,i.jsx)(e.code,{children:"COMPUTE"})," \u4E24\u79CD Type\uFF0C",(0,i.jsx)(e.code,{children:"SQL"}),"\u8868\u793A SQL Service \u5BF9\u5E94 FE\uFF0C ",(0,i.jsx)(e.code,{children:"COMPUTE"}),"\u8868\u793A\u8BA1\u7B97\u673A\u8282\u70B9\u5BF9\u5E94 BE"]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster.nodes"}),(0,i.jsx)(e.td,{children:"Cluster \u4E2D\u7684\u8282\u70B9\u6570\u7EC4"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster.nodes.cloud_unique_id"}),(0,i.jsxs)(e.td,{children:["\u8282\u70B9\u7684 ",(0,i.jsx)(e.code,{children:"cloud_unique_id"})]}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsxs)(e.td,{children:[(0,i.jsx)(e.code,{children:"fe.conf"}),"\u3001",(0,i.jsx)(e.code,{children:"be.conf"})," \u4E2D\u7684 ",(0,i.jsx)(e.code,{children:"cloud_unique_id"})," \u914D\u7F6E\u9879"]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster.nodes.ip"}),(0,i.jsx)(e.td,{children:"\u8282\u70B9\u7684 IP"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u4F7F\u7528 FQDN \u6A21\u5F0F\u90E8\u7F72 FE/BE \u65F6\uFF0C\u8BE5\u5B57\u6BB5\u586B\u5199\u57DF\u540D"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster.nodes.host"}),(0,i.jsx)(e.td,{children:"\u8282\u70B9\u7684\u57DF\u540D"}),(0,i.jsx)(e.td,{children:"\u5426"}),(0,i.jsx)(e.td,{children:"\u4F7F\u7528 FQDN \u6A21\u5F0F\u90E8\u7F72 FE/BE \u65F6\uFF0C\u9700\u8BBE\u7F6E\u8BE5\u5B57\u6BB5"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster.nodes.heartbeat_port"}),(0,i.jsx)(e.td,{children:"BE \u7684 Heartbeat Port"}),(0,i.jsx)(e.td,{children:"BE \u5FC5\u586B"}),(0,i.jsxs)(e.td,{children:[(0,i.jsx)(e.code,{children:"be.conf"})," \u4E2D\u7684 ",(0,i.jsx)(e.code,{children:"heartbeat_service_port"})," \u914D\u7F6E\u9879"]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster.nodes.edit_log_port"}),(0,i.jsx)(e.td,{children:"FE \u8282\u70B9\u7684 Edit Log Port"}),(0,i.jsx)(e.td,{children:"FE \u5FC5\u586B"}),(0,i.jsxs)(e.td,{children:["\u662F ",(0,i.jsx)(e.code,{children:"fe.conf"})," \u4E2D\u7684 ",(0,i.jsx)(e.code,{children:"edit_log_port"})," \u914D\u7F6E\u9879"]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster.nodes.node_type"}),(0,i.jsx)(e.td,{children:"FE \u8282\u70B9\u7684\u7C7B\u578B"}),(0,i.jsx)(e.td,{children:"FE \u5FC5\u586B"}),(0,i.jsxs)(e.td,{children:["\u5F53 Cluster \u7684 Type \u4E3A SQL \u65F6\uFF0C\u9700\u8981\u586B\u5199\uFF0C\u5206\u4E3A",(0,i.jsx)(e.code,{children:"FE_MASTER"})," \u548C ",(0,i.jsx)(e.code,{children:"FE_OBSERVER"}),"\uFF0C\u5176\u4E2D ",(0,i.jsx)(e.code,{children:"FE_MASTER"})," \u8868\u793A\u6B64\u8282\u70B9\u4E3A Master\uFF0C ",(0,i.jsx)(e.code,{children:"FE_OBSERVER"})," \u8868\u793A\u6B64\u8282\u70B9\u4E3A Observer\uFF0C\u6CE8\u610F\uFF1A\u4E00\u4E2A Type \u4E3A ",(0,i.jsx)(e.code,{children:"SQL"})," \u7684 Cluster \u7684 Nodes \u6570\u7EC4\u4E2D\u53EA\u80FD\u6709\u4E00\u4E2A ",(0,i.jsx)(e.code,{children:"FE_MASTER"})," \u8282\u70B9\uFF0C\u548C\u82E5\u5E72 ",(0,i.jsx)(e.code,{children:"FE_OBSERVER"})," \u8282\u70B9"]})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/add_cluster?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id": "123456",\n    "cluster": {\n        "cluster_name": "cluster_name1",\n        "cluster_id": "cluster_id1",\n        "type": "COMPUTE",\n        "nodes": [\n            {\n                "cloud_unique_id": "1:regression_instance0:cloud_unique_id_compute_node1",\n                "ip": "172.21.0.5",\n                "heartbeat_port": 9050\n            }\n        ]\n    }\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8FD4\u56DE\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"code"}),(0,i.jsx)(e.td,{children:"\u8FD4\u56DE\u72B6\u6001\u7801"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsxs)(e.td,{children:["\u679A\u4E3E\u503C\uFF0C\u5305\u62EC ",(0,i.jsx)(e.code,{children:"OK"}),"\u3001",(0,i.jsx)(e.code,{children:"INVALID_ARGUMENT"}),"\u3001",(0,i.jsx)(e.code,{children:"INTERNAL_ERROR"}),"\u3001",(0,i.jsx)(e.code,{children:"ALREADY_EXISTED"})]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"msg"}),(0,i.jsx)(e.td,{children:"\u9519\u8BEF\u539F\u56E0"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u82E5\u53D1\u751F\u9519\u8BEF\uFF0C\u5219\u8FD4\u56DE\u9519\u8BEF\u539F\u56E0\uFF1B\u82E5\u672A\u53D1\u751F\u9519\u8BEF\uFF0C\u5219\u8FD4\u56DE\u7A7A\u5B57\u7B26\u4E32"})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6210\u529F\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "OK",\n "msg": ""\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5931\u8D25\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "INTERANAL_ERROR",\n "msg": "cluster is SQL type, must have only one master node, now master count: 0"\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"\u83B7\u53D6\u8BA1\u7B97\u96C6\u7FA4",children:"\u83B7\u53D6\u8BA1\u7B97\u96C6\u7FA4"}),"\n",(0,i.jsx)(e.h3,{id:"\u63A5\u53E3\u63CF\u8FF0-10",children:"\u63A5\u53E3\u63CF\u8FF0"}),"\n",(0,i.jsx)(e.p,{children:"\u672C\u63A5\u53E3\u7528\u4E8E\u83B7\u53D6\u4E00\u4E2A\u8BA1\u7B97\u96C6\u7FA4\u7684\u4FE1\u606F\uFF0C\u6B64\u63A5\u53E3\u53EF\u4EE5\u591A\u6B21\u91CD\u590D\u8C03\u7528\u3002"}),"\n",(0,i.jsx)(e.h3,{id:"\u8BF7\u6C42-10",children:"\u8BF7\u6C42"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u8BED\u6CD5"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/get_cluster?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id":string,\n    "cloud_unique_id":string,\n    "cluster_name":string,\n    "cluster_id":string\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cloud_unique_id"}),(0,i.jsx)(e.td,{children:"cloud_unique_id"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsxs)(e.td,{children:["\u901A\u8FC7 ",(0,i.jsx)(e.code,{children:"cloud_unique_id"})," \u67E5\u8BE2 ",(0,i.jsx)(e.code,{children:"instance_id"})]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster_name"}),(0,i.jsx)(e.td,{children:"Cluster \u540D\u79F0"}),(0,i.jsx)(e.td,{children:"\u5426"}),(0,i.jsxs)(e.td,{children:["\u6CE8\uFF1A",(0,i.jsx)(e.code,{children:"cluster_name"}),"\u3001",(0,i.jsx)(e.code,{children:"cluster_id"}),"\u3001",(0,i.jsx)(e.code,{children:"mysql_user_name"})," \u4E09\u8005\u9700\u9009\u586B\u4E00\u4E2A\uFF0C\u82E5\u4E09\u8005\u90FD\u4E3A\u7A7A\u5219\u8FD4\u56DE Instance \u4E0B\u6240\u6709 Cluster \u4FE1\u606F"]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster_id"}),(0,i.jsx)(e.td,{children:"Cluster \u7684 ID"}),(0,i.jsx)(e.td,{children:"\u5426"}),(0,i.jsxs)(e.td,{children:["\u6CE8\uFF1A",(0,i.jsx)(e.code,{children:"cluster_name"}),"\u3001",(0,i.jsx)(e.code,{children:"cluster_id"}),"\u3001",(0,i.jsx)(e.code,{children:"mysql_user_name"})," \u4E09\u8005\u9700\u9009\u586B\u4E00\u4E2A\uFF0C\u82E5\u4E09\u8005\u90FD\u4E3A\u7A7A\u5219\u8FD4\u56DE Instance \u4E0B\u6240\u6709 Cluster \u4FE1\u606F"]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"mysql_user_name"}),(0,i.jsx)(e.td,{children:"MySQL \u7528\u6237\u540D\u914D\u7F6E\u7684\u53EF\u7528 Cluster"}),(0,i.jsx)(e.td,{children:"\u5426"}),(0,i.jsxs)(e.td,{children:["\u6CE8\uFF1A",(0,i.jsx)(e.code,{children:"cluster_name"}),"\u3001",(0,i.jsx)(e.code,{children:"cluster_id"}),"\u3001",(0,i.jsx)(e.code,{children:"mysql_user_name"})," \u4E09\u8005\u9700\u9009\u586B\u4E00\u4E2A\uFF0C\u82E5\u4E09\u8005\u90FD\u4E3A\u7A7A\u5219\u8FD4\u56DE Instance \u4E0B\u6240\u6709 Cluster \u4FE1\u606F"]})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/get_cluster?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id":"regression_instance0",\n    "cloud_unique_id":"1:regression_instance0:regression-cloud-unique-id-fe-1",\n    "cluster_name":"RESERVED_CLUSTER_NAME_FOR_SQL_SERVER",\n    "cluster_id":"RESERVED_CLUSTER_ID_FOR_SQL_SERVER"\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8FD4\u56DE\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"code"}),(0,i.jsx)(e.td,{children:"\u8FD4\u56DE\u72B6\u6001\u7801"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsxs)(e.td,{children:["\u679A\u4E3E\u503C\uFF0C\u5305\u62EC ",(0,i.jsx)(e.code,{children:"OK"}),"\u3001",(0,i.jsx)(e.code,{children:"INVALID_ARGUMENT"}),"\u3001",(0,i.jsx)(e.code,{children:"INTERNAL_ERROR"}),"\u3001",(0,i.jsx)(e.code,{children:"ALREADY_EXISTED"})]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"msg"}),(0,i.jsx)(e.td,{children:"\u9519\u8BEF\u539F\u56E0"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u82E5\u53D1\u751F\u9519\u8BEF\uFF0C\u5219\u8FD4\u56DE\u9519\u8BEF\u539F\u56E0\uFF1B\u82E5\u672A\u53D1\u751F\u9519\u8BEF\uFF0C\u5219\u8FD4\u56DE\u7A7A\u5B57\u7B26\u4E32"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"result"}),(0,i.jsx)(e.td,{children:"\u67E5\u8BE2\u7ED3\u679C\u5BF9\u8C61"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6210\u529F\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n    "code": "OK",\n    "msg": "",\n    "result": {\n        "cluster_id": "cluster_id1",\n        "cluster_name": "cluster_name1",\n        "type": "COMPUTE",\n        "nodes": [\n            {\n                "cloud_unique_id": "1:regression_instance0:cloud_unique_id_compute_node0",\n                "ip": "172.21.16.42",\n                "ctime": "1662695469",\n                "mtime": "1662695469",\n                "heartbeat_port": 9050\n            }\n        ]\n    }\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5931\u8D25\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "NOT_FOUND",\n "msg": "fail to get cluster with instance_id: \\"instance_id_deadbeef\\" cloud_unique_id: \\"1:regression_instance0:xxx_cloud_unique_id_compute_node0\\" cluster_name: \\"cluster_name\\" "\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"\u5220\u9664\u8BA1\u7B97\u96C6\u7FA4",children:"\u5220\u9664\u8BA1\u7B97\u96C6\u7FA4"}),"\n",(0,i.jsx)(e.h3,{id:"\u63A5\u53E3\u63CF\u8FF0-11",children:"\u63A5\u53E3\u63CF\u8FF0"}),"\n",(0,i.jsx)(e.p,{children:"\u672C\u63A5\u53E3\u7528\u4E8E\u5220\u9664\u4E00\u4E2A Instance \u4E0B\u7684\u67D0\u4E2A\u8BA1\u7B97\u96C6\u7FA4\u7684\u4FE1\u606F\uFF0C\u6B64\u63A5\u53E3\u82E5\u591A\u6B21\u4F7F\u7528\u76F8\u540C\u53C2\u6570\u8C03\u7528\u4F1A\u62A5\u9519\u3002"}),"\n",(0,i.jsx)(e.h3,{id:"\u8BF7\u6C42-11",children:"\u8BF7\u6C42"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u8BED\u6CD5"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/drop_cluster?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id":string,\n    "cluster": {\n        "cluster_name": string,\n        "cluster_id": string,\n    }\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"instance_id"}),(0,i.jsx)(e.td,{children:"instance_id"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster"}),(0,i.jsx)(e.td,{children:"Cluster \u5BF9\u8C61"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster.cluster_name"}),(0,i.jsx)(e.td,{children:"\u5C06\u5220\u9664\u7684 Cluster Name"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster.cluster_id"}),(0,i.jsx)(e.td,{children:"\u5C06\u5220\u9664\u7684 Cluster ID"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/drop_cluster?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id":"regression_instance0",\n    "cluster": {\n        "cluster_name": "cluster_name1",\n        "cluster_id": "cluster_id1",\n    }\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8FD4\u56DE\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"code"}),(0,i.jsx)(e.td,{children:"\u8FD4\u56DE\u72B6\u6001\u7801"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsxs)(e.td,{children:["\u679A\u4E3E\u503C\uFF0C\u5305\u62EC ",(0,i.jsx)(e.code,{children:"OK"}),"\u3001",(0,i.jsx)(e.code,{children:"INVALID_ARGUMENT"}),"\u3001",(0,i.jsx)(e.code,{children:"INTERNAL_ERROR"}),"\u3001",(0,i.jsx)(e.code,{children:"ALREADY_EXISTED"})]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"msg"}),(0,i.jsx)(e.td,{children:"\u9519\u8BEF\u539F\u56E0"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u82E5\u53D1\u751F\u9519\u8BEF\uFF0C\u5219\u8FD4\u56DE\u9519\u8BEF\u539F\u56E0\uFF1B\u82E5\u672A\u53D1\u751F\u9519\u8BEF\uFF0C\u5219\u8FD4\u56DE\u7A7A\u5B57\u7B26\u4E32"})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6210\u529F\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "OK",\n "msg": ""\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5931\u8D25\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "INTERANAL_ERROR",\n "msg": "failed to find cluster to drop, instance_id=dx_dnstance_id_deadbeef cluster_id=11111 cluster_name=2222"\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"\u8BA1\u7B97\u96C6\u7FA4\u91CD\u547D\u540D",children:"\u8BA1\u7B97\u96C6\u7FA4\u91CD\u547D\u540D"}),"\n",(0,i.jsx)(e.h3,{id:"\u63A5\u53E3\u63CF\u8FF0-12",children:"\u63A5\u53E3\u63CF\u8FF0"}),"\n",(0,i.jsxs)(e.p,{children:["\u672C\u63A5\u53E3\u7528\u4E8E\u5C06 Instance \u4E0B\u7684\u8BA1\u7B97\u96C6\u7FA4\u91CD\u547D\u540D\uFF0C\u4F9D\u636E\u4F20\u5165\u7684 ",(0,i.jsx)(e.code,{children:"cluster_id"})," \u5BFB\u627E\u76F8\u5E94\u7684 ",(0,i.jsx)(e.code,{children:"cluster_name"})," \u8FDB\u884C\u91CD\u547D\u540D\uFF0C\u6B64\u63A5\u53E3\u82E5\u591A\u6B21\u4F7F\u7528\u76F8\u540C\u53C2\u6570\u8C03\u7528\u4F1A\u62A5\u9519\u3002"]}),"\n",(0,i.jsx)(e.h3,{id:"\u8BF7\u6C42-12",children:"\u8BF7\u6C42"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u8BED\u6CD5"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/rename_cluster?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id":string,\n    "cluster": {\n        "cluster_name": string,\n        "cluster_id": string,\n    }\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"instance_id"}),(0,i.jsx)(e.td,{children:"instance_id"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster"}),(0,i.jsx)(e.td,{children:"Cluster \u5BF9\u8C61"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster.cluster_name"}),(0,i.jsx)(e.td,{children:"\u5373\u5C06\u91CD\u547D\u540D\u7684 Cluster Name"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u65B0\u7684 cluster_name"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster.cluster_id"}),(0,i.jsx)(e.td,{children:"\u5373\u5C06\u91CD\u547D\u540D\u7684 Cluster ID"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsxs)(e.td,{children:["\u4F9D\u636E\u6B64 ID \u53BB\u5BFB\u627E\u76F8\u5E94\u7684 Cluster\uFF0C\u7136\u540E\u91CD\u547D\u540D ",(0,i.jsx)(e.code,{children:"cluster_name"})]})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/rename_cluster?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id":"regression_instance0",\n    "cluster": {\n        "cluster_name": "cluster_name2",\n        "cluster_id": "cluster_id1",\n    }\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8FD4\u56DE\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"code"}),(0,i.jsx)(e.td,{children:"\u8FD4\u56DE\u72B6\u6001\u7801"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsxs)(e.td,{children:["\u679A\u4E3E\u503C\uFF0C",(0,i.jsx)(e.code,{children:"OK"}),"\u3001",(0,i.jsx)(e.code,{children:"INVALID_ARGUMENT"}),"\u3001",(0,i.jsx)(e.code,{children:"INTERNAL_ERROR"}),"\u3001",(0,i.jsx)(e.code,{children:"ALREADY_EXISTED"})]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"msg"}),(0,i.jsx)(e.td,{children:"\u9519\u8BEF\u539F\u56E0"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u82E5\u53D1\u751F\u9519\u8BEF\uFF0C\u5219\u8FD4\u56DE\u9519\u8BEF\u539F\u56E0\uFF1B\u82E5\u672A\u53D1\u751F\u9519\u8BEF\uFF0C\u5219\u8FD4\u56DE\u7A7A\u5B57\u7B26\u4E32"})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6210\u529F\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "OK",\n "msg": ""\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5931\u8D25\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "INTERANAL_ERROR",\n "msg": "failed to rename cluster, name eq original name, original cluster is {\\"cluster_id\\":\\"3333333\\",\\"cluster_name\\":\\"444444\\",\\"type\\":\\"COMPUTE\\"}"\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"\u8BA1\u7B97\u96C6\u7FA4\u6DFB\u52A0\u8282\u70B9",children:"\u8BA1\u7B97\u96C6\u7FA4\u6DFB\u52A0\u8282\u70B9"}),"\n",(0,i.jsx)(e.h3,{id:"\u63A5\u53E3\u63CF\u8FF0-13",children:"\u63A5\u53E3\u63CF\u8FF0"}),"\n",(0,i.jsx)(e.p,{children:"\u672C\u63A5\u53E3\u7528\u4E8E\u5C06 Instance \u4E0B\u7684\u67D0\u8BA1\u7B97\u96C6\u7FA4\u6DFB\u52A0\u82E5\u5E72\u76F8\u540C\u7C7B\u578B\u7684\u8282\u70B9\uFF0C\u6B64\u63A5\u53E3\u82E5\u591A\u6B21\u4F7F\u7528\u76F8\u540C\u53C2\u6570\u8C03\u7528\u4F1A\u62A5\u9519\u3002"}),"\n",(0,i.jsx)(e.p,{children:"\u672C\u63A5\u53E3\u53EF\u7528\u4E8E\u6DFB\u52A0 FE \u6216\u8005 BE \u8282\u70B9\u3002"}),"\n",(0,i.jsx)(e.h3,{id:"\u8BF7\u6C42-13",children:"\u8BF7\u6C42"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u8BED\u6CD5"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/add_node?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id": string,\n    "cluster": {\n        "cluster_name": string,\n        "cluster_id": string,\n        "type": enum,\n        "nodes": [\n            {\n                "cloud_unique_id": string,\n                "ip": string,\n                "heartbeat_port": int\n            },\n            {\n                "cloud_unique_id": string,\n                "ip": string,\n                "heartbeat_port": int\n            }\n        ]\n    }\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"instance_id"}),(0,i.jsx)(e.td,{children:"instance_id"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster"}),(0,i.jsx)(e.td,{children:"Cluster \u5BF9\u8C61"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster.cluster_name"}),(0,i.jsx)(e.td,{children:"\u5373\u5C06\u6DFB\u52A0\u8282\u70B9\u7684 Cluster Name"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster.cluster_id"}),(0,i.jsx)(e.td,{children:"\u5373\u5C06\u6DFB\u52A0\u8282\u70B9\u7684 Cluster ID"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster.type"}),(0,i.jsx)(e.td,{children:"Cluster \u4E2D\u8282\u70B9\u7684\u7C7B\u578B"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsxs)(e.td,{children:["\u652F\u6301\uFF1A",(0,i.jsx)(e.code,{children:"SQL"}),", ",(0,i.jsx)(e.code,{children:"COMPUTE"})," \u4E24\u79CD Type\uFF0C",(0,i.jsx)(e.code,{children:"SQL"}),"\u8868\u793A SQL Service \u5BF9\u5E94 FE\uFF0C ",(0,i.jsx)(e.code,{children:"COMPUTE"}),"\u8868\u793A\u8BA1\u7B97\u673A\u8282\u70B9\u5BF9\u5E94 BE"]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster.nodes"}),(0,i.jsx)(e.td,{children:"Cluster \u4E2D\u7684\u8282\u70B9\u4FE1\u606F"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u6570\u7EC4"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster.nodes.cloud_unique_id"}),(0,i.jsx)(e.td,{children:"\u8282\u70B9\u7684 cloud_unique_id"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsxs)(e.td,{children:[(0,i.jsx)(e.code,{children:"fe.conf"}),"\u3001",(0,i.jsx)(e.code,{children:"be.conf"})," \u4E2D\u7684 ",(0,i.jsx)(e.code,{children:"cloud_unique_id"})," \u914D\u7F6E\u9879"]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster.nodes.ip"}),(0,i.jsx)(e.td,{children:"\u8282\u70B9\u7684 IP"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u4F7F\u7528 FQDN \u6A21\u5F0F\u90E8\u7F72 FE/BE \u65F6\uFF0C\u8BE5\u5B57\u6BB5\u586B\u5199\u57DF\u540D"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster.nodes.host"}),(0,i.jsx)(e.td,{children:"\u8282\u70B9\u7684\u57DF\u540D"}),(0,i.jsx)(e.td,{children:"\u5426"}),(0,i.jsx)(e.td,{children:"\u4F7F\u7528 FQDN \u6A21\u5F0F\u90E8\u7F72 FE/BE \u65F6\uFF0C\u9700\u8BBE\u7F6E\u8BE5\u5B57\u6BB5"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster.nodes.heartbeat_port"}),(0,i.jsx)(e.td,{children:"BE \u7684 Heartbeat Port"}),(0,i.jsx)(e.td,{children:"BE \u5FC5\u586B"}),(0,i.jsxs)(e.td,{children:[(0,i.jsx)(e.code,{children:"be.conf"})," \u4E2D\u7684 ",(0,i.jsx)(e.code,{children:"heartbeat_service_port"})," \u914D\u7F6E\u9879"]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster.nodes.edit_log_port"}),(0,i.jsx)(e.td,{children:"FE \u8282\u70B9\u7684 Edit Log Port"}),(0,i.jsx)(e.td,{children:"FE \u5FC5\u586B"}),(0,i.jsxs)(e.td,{children:["\u662F ",(0,i.jsx)(e.code,{children:"fe.conf"})," \u4E2D\u7684 ",(0,i.jsx)(e.code,{children:"edit_log_port"})," \u914D\u7F6E\u9879"]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster.nodes.node_type"}),(0,i.jsx)(e.td,{children:"FE \u8282\u70B9\u7684\u7C7B\u578B"}),(0,i.jsx)(e.td,{children:"FE \u5FC5\u586B"}),(0,i.jsxs)(e.td,{children:["\u5F53 Cluster \u7684 Type \u4E3A SQL \u65F6\uFF0C\u9700\u8981\u586B\u5199\uFF0C\u5206\u4E3A",(0,i.jsx)(e.code,{children:"FE_MASTER"})," \u548C ",(0,i.jsx)(e.code,{children:"FE_OBSERVER"}),"\uFF0C\u5176\u4E2D ",(0,i.jsx)(e.code,{children:"FE_MASTER"})," \u8868\u793A\u6B64\u8282\u70B9\u4E3A Master\uFF0C ",(0,i.jsx)(e.code,{children:"FE_OBSERVER"})," \u8868\u793A\u6B64\u8282\u70B9\u4E3A Observer\uFF0C\u6CE8\u610F\uFF1A\u4E00\u4E2A Type \u4E3A ",(0,i.jsx)(e.code,{children:"SQL"})," \u7684 Cluster \u7684 Nodes \u6570\u7EC4\u4E2D\u53EA\u80FD\u6709\u4E00\u4E2A ",(0,i.jsx)(e.code,{children:"FE_MASTER"})," \u8282\u70B9\uFF0C\u548C\u82E5\u5E72 ",(0,i.jsx)(e.code,{children:"FE_OBSERVER"})," \u8282\u70B9"]})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/add_node?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id": "instance_id_deadbeef_1",\n    "cluster": {\n        "cluster_name": "cluster_name1",\n        "cluster_id": "cluster_id1",\n        "type": "COMPUTE",\n        "nodes": [\n            {\n                "cloud_unique_id": "1:regression_instance0:cloud_unique_id_compute_node2",\n                "ip": "172.21.0.50",\n                "heartbeat_port": 9051\n            },\n            {\n                "cloud_unique_id": "1:regression_instance0:cloud_unique_id_compute_node3",\n                "ip": "172.21.0.52",\n                "heartbeat_port": 9052\n            }\n        ]\n    }\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8FD4\u56DE\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"code"}),(0,i.jsx)(e.td,{children:"\u8FD4\u56DE\u72B6\u6001\u7801"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsxs)(e.td,{children:["\u679A\u4E3E\u503C\uFF0C\u5305\u62EC ",(0,i.jsx)(e.code,{children:"OK"}),"\u3001",(0,i.jsx)(e.code,{children:"INVALID_ARGUMENT"}),"\u3001",(0,i.jsx)(e.code,{children:"INTERNAL_ERROR"}),"\u3001",(0,i.jsx)(e.code,{children:"ALREADY_EXISTED"})]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"msg"}),(0,i.jsx)(e.td,{children:"\u9519\u8BEF\u539F\u56E0"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u82E5\u53D1\u751F\u9519\u8BEF\uFF0C\u5219\u8FD4\u56DE\u9519\u8BEF\u539F\u56E0\uFF1B\u82E5\u672A\u53D1\u751F\u9519\u8BEF\uFF0C\u5219\u8FD4\u56DE\u7A7A\u5B57\u7B26\u4E32"})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6210\u529F\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "OK",\n "msg": ""\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5931\u8D25\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "INTERANAL_ERROR",\n "msg": "cloud_unique_id is already occupied by an instance, instance_id=instance_id_deadbeef_1 cluster_name=dx_cluster_name1 cluster_id=cluster_id1 cloud_unique_id=cloud_unique_id_compute_node2"\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"\u8BA1\u7B97\u96C6\u7FA4\u51CF\u5C11\u8282\u70B9",children:"\u8BA1\u7B97\u96C6\u7FA4\u51CF\u5C11\u8282\u70B9"}),"\n",(0,i.jsx)(e.h3,{id:"\u63A5\u53E3\u63CF\u8FF0-14",children:"\u63A5\u53E3\u63CF\u8FF0"}),"\n",(0,i.jsx)(e.p,{children:"\u672C\u63A5\u53E3\u7528\u4E8E\u5C06 Instance \u4E0B\u7684\u67D0\u8BA1\u7B97\u96C6\u7FA4\u51CF\u5C11\u82E5\u5E72\u76F8\u540C\u7C7B\u578B\u7684\u8282\u70B9\u3002"}),"\n",(0,i.jsx)(e.h3,{id:"\u8BF7\u6C42-14",children:"\u8BF7\u6C42"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u8BED\u6CD5"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/drop_node?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id": string,\n    "cluster": {\n        "cluster_name": string,\n        "cluster_id": string,\n        "type": enum,\n        "nodes": [\n            {\n                "cloud_unique_id": string,\n                "ip": string,\n                "heartbeat_port": int\n            },\n            {\n                "cloud_unique_id": string,\n                "ip": string,\n                "heartbeat_port": int\n            }\n        ]\n    }\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"instance_id"}),(0,i.jsx)(e.td,{children:"instance_id"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster"}),(0,i.jsx)(e.td,{children:"cluster \u5BF9\u8C61"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster.cluster_name"}),(0,i.jsx)(e.td,{children:"\u5373\u5C06\u51CF\u5C11\u8282\u70B9\u7684 Cluster Name"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster.cluster_id"}),(0,i.jsx)(e.td,{children:"\u5373\u5C06\u51CF\u5C11\u8282\u70B9\u7684 Cluster ID"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster.type"}),(0,i.jsx)(e.td,{children:"Cluster \u7C7B\u578B"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster.node"}),(0,i.jsx)(e.td,{children:"Cluster \u4E2D\u7684\u8282\u70B9\u4FE1\u606F"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u6570\u7EC4"})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/drop_node?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id": "instance_id_deadbeef_1",\n    "cluster": {\n        "cluster_name": "cluster_name1",\n        "cluster_id": "cluster_id1",\n        "type": "COMPUTE",\n        "nodes": [\n            {\n                "cloud_unique_id": "1:instance_id_deadbeef_1:cloud_unique_id_compute_node2",\n                "ip": "172.21.0.50",\n                "heartbeat_port": 9051\n            },\n            {\n                "cloud_unique_id": "1:instance_id_deadbeef_1:cloud_unique_id_compute_node3",\n                "ip": "172.21.0.52",\n                "heartbeat_port": 9052\n            }\n        ]\n    }\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8FD4\u56DE\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"code"}),(0,i.jsx)(e.td,{children:"\u8FD4\u56DE\u72B6\u6001\u7801"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsxs)(e.td,{children:["\u679A\u4E3E\u503C\uFF0C\u5305\u62EC ",(0,i.jsx)(e.code,{children:"OK"}),"\u3001",(0,i.jsx)(e.code,{children:"INVALID_ARGUMENT"}),"\u3001",(0,i.jsx)(e.code,{children:"INTERNAL_ERROR"}),"\u3001",(0,i.jsx)(e.code,{children:"ALREADY_EXISTED"})]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"msg"}),(0,i.jsx)(e.td,{children:"\u9519\u8BEF\u539F\u56E0"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u82E5\u53D1\u751F\u9519\u8BEF\uFF0C\u5219\u8FD4\u56DE\u9519\u8BEF\u539F\u56E0\uFF1B\u82E5\u672A\u53D1\u751F\u9519\u8BEF\uFF0C\u5219\u8FD4\u56DE\u7A7A\u5B57\u7B26\u4E32"})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6210\u529F\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "OK",\n "msg": ""\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5931\u8D25\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "INTERANAL_ERROR",\n "msg": "cloud_unique_id can not find to drop node, instance_id=instance_id_deadbeef_1 cluster_name=cluster_name1 cluster_id=cluster_id1 cloud_unique_id=cloud_unique_id_compute_node2"\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"\u4E3A\u8BA1\u7B97\u96C6\u7FA4\u6DFB\u52A0\u9ED8\u8BA4-user_name",children:"\u4E3A\u8BA1\u7B97\u96C6\u7FA4\u6DFB\u52A0\u9ED8\u8BA4 user_name"}),"\n",(0,i.jsx)(e.h3,{id:"\u63A5\u53E3\u63CF\u8FF0-15",children:"\u63A5\u53E3\u63CF\u8FF0"}),"\n",(0,i.jsx)(e.p,{children:"\u672C\u63A5\u53E3\u7528\u4E8E\u4E3A Instance \u4E0B\u7684\u67D0\u8BA1\u7B97\u96C6\u7FA4\u6DFB\u52A0\u7528\u6237\u540D\uFF0C\u4F7F\u76F8\u5E94\u7528\u6237\u53EF\u4EE5\u4F7F\u7528 MySQL Client \u767B\u5F55\u7CFB\u7EDF\uFF0C\u4F7F\u7528\u9ED8\u8BA4\u8BA1\u7B97\u96C6\u7FA4\u3002"}),"\n",(0,i.jsx)(e.h3,{id:"\u8BF7\u6C42-15",children:"\u8BF7\u6C42"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u8BED\u6CD5"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/update_cluster_mysql_user_name?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id": string,\n    "cluster": {\n        "cluster_name": "string",\n        "cluster_id": "string",\n        "mysql_user_name": [\n            string\n        ]\n    }\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"instance_id"}),(0,i.jsx)(e.td,{children:"instance_id"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster"}),(0,i.jsx)(e.td,{children:"Cluster \u5BF9\u8C61"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster.cluster_name"}),(0,i.jsx)(e.td,{children:"\u5373\u5C06\u6DFB\u52A0 mysql_user_name \u7684 Cluster Name"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster.cluster_id"}),(0,i.jsx)(e.td,{children:"\u5373\u5C06\u6DFB\u52A0 mysql_user_name \u7684 Cluster ID"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster.mysql_user_name"}),(0,i.jsx)(e.td,{children:"mysql_user_name"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u5B57\u7B26\u4E32\u6570\u7EC4"})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/update_cluster_mysql_user_name?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id": "instance_id_deadbeef",\n    "cluster": {\n        "cluster_name": "cluster_name2",\n        "cluster_id": "cluster_id1",\n        "mysql_user_name": [\n            "jack",\n            "root"\n        ]\n    }\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8FD4\u56DE\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"code"}),(0,i.jsx)(e.td,{children:"\u8FD4\u56DE\u72B6\u6001\u7801"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsxs)(e.td,{children:["\u679A\u4E3E\u503C\uFF0C\u5305\u62EC ",(0,i.jsx)(e.code,{children:"OK"}),"\u3001",(0,i.jsx)(e.code,{children:"INVALID_ARGUMENT"}),"\u3001",(0,i.jsx)(e.code,{children:"INTERNAL_ERROR"}),"\u3001",(0,i.jsx)(e.code,{children:"ALREADY_EXISTED"})]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"msg"}),(0,i.jsx)(e.td,{children:"\u9519\u8BEF\u539F\u56E0"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u82E5\u53D1\u751F\u9519\u8BEF\uFF0C\u5219\u8FD4\u56DE\u9519\u8BEF\u539F\u56E0\uFF1B\u82E5\u672A\u53D1\u751F\u9519\u8BEF\uFF0C\u5219\u8FD4\u56DE\u7A7A\u5B57\u7B26\u4E32"})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6210\u529F\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "OK",\n "msg": ""\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5931\u8D25\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "INTERANAL_ERROR",\n "msg": "no mysql user name to change"\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"\u83B7\u53D6\u8BA1\u7B97\u96C6\u7FA4\u4E0B\u7684-be-\u8282\u70B9\u6267\u884C\u60C5\u51B5",children:"\u83B7\u53D6\u8BA1\u7B97\u96C6\u7FA4\u4E0B\u7684 BE \u8282\u70B9\u6267\u884C\u60C5\u51B5"}),"\n",(0,i.jsx)(e.h3,{id:"\u63A5\u53E3\u63CF\u8FF0-16",children:"\u63A5\u53E3\u63CF\u8FF0"}),"\n",(0,i.jsx)(e.p,{children:"\u672C\u63A5\u53E3\u7528\u4E8E\u83B7\u53D6\u8BA1\u7B97\u96C6\u7FA4\u4E0B\uFF0CBE \u8282\u70B9\u8FD0\u884C Fragment \u7684\u60C5\u51B5\u3002"}),"\n",(0,i.jsx)(e.admonition,{title:"\u5907\u6CE8",type:"info",children:(0,i.jsx)(e.p,{children:"\u6B64\u63A5\u53E3\u662F\u8BF7\u6C42 FE \u7684\u63A5\u53E3\u3002"})}),"\n",(0,i.jsx)(e.h3,{id:"\u8BF7\u6C42-16",children:"\u8BF7\u6C42"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u8BED\u6CD5"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:"GET /rest/v2/manager/cluster/cluster_info/cloud_cluster_status HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"user"}),(0,i.jsx)(e.td,{children:"\u7528\u6237\u540D"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u9274\u6743\u4FE1\u606F"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"password"}),(0,i.jsx)(e.td,{children:"\u5BC6\u7801"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u9274\u6743\u4FE1\u606F"})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:"curl -u root: http://127.0.0.1:12100/rest/v2/manager/cluster/cluster_info/cloud_cluster_status\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8FD4\u56DE\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"code"}),(0,i.jsx)(e.td,{children:"\u8FD4\u56DE\u72B6\u6001\u7801"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"msg"}),(0,i.jsx)(e.td,{children:"\u9519\u8BEF\u539F\u56E0"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"data"}),(0,i.jsx)(e.td,{children:"\u8FD4\u56DE\u7684\u4E00\u4E2A map\uFF0C\u5176\u4E2D key \u4E3A clusterId\uFF0Cvalue \u4E3A be \u5217\u8868"}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6210\u529F\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n    "msg": "success",\n    "code": 0,\n    "data": {\n        "regression_cluster_id2": [\n            {\n                "host": "127.0.0.1",\n                "heartbeatPort": 14102,\n                "bePort": -1,\n                "httpPort": -1,\n                "brpcPort": -1,\n                "currentFragmentNum": 0,\n                "lastFragmentUpdateTime": 0\n            }\n        ],\n        "regression_test_cluster_id0": [\n            {\n                "host": "127.0.0.1",\n                "heartbeatPort": 11102,\n                "bePort": 11100,\n                "httpPort": 11101,\n                "brpcPort": 11103,\n                "currentFragmentNum": 3,\n                "lastFragmentUpdateTime": 1684152350291\n            }\n        ]\n    },\n    "count": 0\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"\u5F00\u542F-instance-\u5BF9\u8C61\u6570\u636E\u670D\u52A1\u7AEF\u52A0\u5BC6",children:"\u5F00\u542F Instance \u5BF9\u8C61\u6570\u636E\u670D\u52A1\u7AEF\u52A0\u5BC6"}),"\n",(0,i.jsx)(e.h3,{id:"\u63A5\u53E3\u63CF\u8FF0-17",children:"\u63A5\u53E3\u63CF\u8FF0"}),"\n",(0,i.jsx)(e.p,{children:"\u672C\u63A5\u53E3\u7528\u4E8E\u5F00\u542F Instance \u5BF9\u8C61\u6570\u636E\u670D\u52A1\u7AEF\u52A0\u5BC6\u3002"}),"\n",(0,i.jsx)(e.h3,{id:"\u8BF7\u6C42-17",children:"\u8BF7\u6C42"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u8BED\u6CD5"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/enable_instance_sse?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id": string\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsx)(e.tbody,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"instance_id"}),(0,i.jsx)(e.td,{children:"instance_id"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u5168\u5C40\u552F\u4E00"})]})})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/enable_instance_sse?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id": "123456"\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8FD4\u56DE\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"code"}),(0,i.jsx)(e.td,{children:"\u8FD4\u56DE\u72B6\u6001\u7801"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsxs)(e.td,{children:["\u679A\u4E3E\u503C\uFF0C\u5305\u62EC ",(0,i.jsx)(e.code,{children:"OK"}),"\u3001",(0,i.jsx)(e.code,{children:"INVALID_ARGUMENT"}),"\u3001",(0,i.jsx)(e.code,{children:"INTERNAL_ERROR"})]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"msg"}),(0,i.jsx)(e.td,{children:"\u9519\u8BEF\u539F\u56E0"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u82E5\u53D1\u751F\u9519\u8BEF\uFF0C\u5219\u8FD4\u56DE\u9519\u8BEF\u539F\u56E0\uFF1B\u82E5\u672A\u53D1\u751F\u9519\u8BEF\uFF0C\u5219\u8FD4\u56DE\u7A7A\u5B57\u7B26\u4E32"})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6210\u529F\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "OK",\n "msg": ""\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5931\u8D25\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "INVALID_ARGUMENT",\n "msg": "failed to enable sse, instance has enabled sse"\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"\u83B7\u53D6\u8BA1\u7B97\u96C6\u7FA4\u7684\u8FD0\u884C\u72B6\u6001",children:"\u83B7\u53D6\u8BA1\u7B97\u96C6\u7FA4\u7684\u8FD0\u884C\u72B6\u6001"}),"\n",(0,i.jsx)(e.h3,{id:"\u63A5\u53E3\u63CF\u8FF0-18",children:"\u63A5\u53E3\u63CF\u8FF0"}),"\n",(0,i.jsx)(e.p,{children:"\u672C\u63A5\u53E3\u7528\u4E8E\u83B7\u53D6\u591A\u4E2A Instance \u4E0B\u7684\u8BA1\u7B97\u96C6\u7FA4\u8FD0\u884C\u72B6\u6001\u3002"}),"\n",(0,i.jsx)(e.h3,{id:"\u8BF7\u6C42-18",children:"\u8BF7\u6C42"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u8BED\u6CD5"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/get_cluster_status?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_ids": [string, string],\n    "status": string\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"instance_ids"}),(0,i.jsx)(e.td,{children:"\u591A\u4E2A Instance \u7684 ID"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cloud_unique_ids"}),(0,i.jsx)(e.td,{children:"\u591A\u4E2A cloud_unique_id"}),(0,i.jsx)(e.td,{children:"\u5426"}),(0,i.jsxs)(e.td,{children:["\u4F18\u5148\u9009\u62E9 ",(0,i.jsx)(e.code,{children:"instance_ids"})]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"status"}),(0,i.jsx)(e.td,{children:"\u67E5\u8BE2\u8FC7\u6EE4\u6761\u4EF6"}),(0,i.jsx)(e.td,{children:"\u5426"}),(0,i.jsxs)(e.td,{children:["\u53EF\u6709",(0,i.jsx)(e.code,{children:"NORMAL"}),", ",(0,i.jsx)(e.code,{children:"STOPPED"}),", ",(0,i.jsx)(e.code,{children:"TO_RESUME"}),", \u4E0D\u586B\u8FD4\u56DE\u6240\u6709\u72B6\u6001\u7684"]})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/get_cluster_status?token=greedisgood9999 HTTP/1.1\nContent-Length: 109\nContent-Type: text/plain\n{\n    "instance_ids":["regression_instance-dx-1219", "regression_instance-dx-0128"],\n    "status":"NORMAL"\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8FD4\u56DE\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"code"}),(0,i.jsx)(e.td,{children:"\u8FD4\u56DE\u72B6\u6001\u7801"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"msg"}),(0,i.jsx)(e.td,{children:"\u9519\u8BEF\u539F\u56E0"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"result.details"}),(0,i.jsx)(e.td,{children:"\u8FD4\u56DE\u8BA1\u7B97\u96C6\u7FA4\u7684\u72B6\u6001\u5217\u8868"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6210\u529F\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n    "code": "OK",\n    "msg": "",\n    "result": {\n        "details": [\n            {\n                "instance_id": "regression_instance-dx-1219",\n                "clusters": [\n                    {\n                        "cluster_id": "regression_cluster_id2",\n                        "cluster_name": "regression_cluster_name2-changed-again",\n                        "cluster_status": "NORMAL"\n                    },\n                    {\n                        "cluster_id": "regression_cluster_id3",\n                        "cluster_name": "regression_cluster_name3",\n                        "cluster_status": "NORMAL"\n                    },\n                    {\n                        "cluster_id": "regression_test_cluster_id0",\n                        "cluster_name": "regression_test_cluster_name0",\n                        "cluster_status": "NORMAL"\n                    }\n                ]\n            }\n        ]\n    }\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"\u8BBE\u7F6E\u8BA1\u7B97\u96C6\u7FA4\u7684\u8FD0\u884C\u72B6\u6001",children:"\u8BBE\u7F6E\u8BA1\u7B97\u96C6\u7FA4\u7684\u8FD0\u884C\u72B6\u6001"}),"\n",(0,i.jsx)(e.h3,{id:"\u63A5\u53E3\u63CF\u8FF0-19",children:"\u63A5\u53E3\u63CF\u8FF0"}),"\n",(0,i.jsx)(e.p,{children:"\u672C\u63A5\u53E3\u7528\u4E8E\u8BBE\u7F6E\u67D0\u4E2A Instance \u4E0B\u7684\u8BA1\u7B97\u96C6\u7FA4\u8FD0\u884C\u72B6\u6001\u3002"}),"\n",(0,i.jsx)(e.h3,{id:"\u8BF7\u6C42-19",children:"\u8BF7\u6C42"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u8BED\u6CD5"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/set_cluster_status?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "cloud_unique_id": string,\n    "cluster": {\n        "cluster_id": string,\n        "cluster_status":string\n    }\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cloud_unique_id"}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{children:"\u5426"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"instance_id"}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster_id"}),(0,i.jsx)(e.td,{children:"\u5F85\u64CD\u4F5C\u7684 cluster_id"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cluster_status"}),(0,i.jsx)(e.td,{children:"\u5F85\u64CD\u4F5C\u7684 Cluster \u72B6\u6001"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsxs)(e.td,{children:["\u53EF\u6709",(0,i.jsx)(e.code,{children:"NORMAL"}),", ",(0,i.jsx)(e.code,{children:"STOPPED"}),", ",(0,i.jsx)(e.code,{children:"TO_RESUME"})]})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/set_cluster_status?token=greedisgood9999 HTTP/1.1\nContent-Length: 128\nContent-Type: text/plain\n{\n    "cloud_unique_id": "1:regression_instance0:regression-cloud-unique-id-fe-0128",\n    "cluster": {\n        "cluster_id": "test_cluster_1_id1",\n        "cluster_status":"STOPPED"\n    }\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8FD4\u56DE\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"code"}),(0,i.jsx)(e.td,{children:"\u8FD4\u56DE\u72B6\u6001\u7801"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"msg"}),(0,i.jsx)(e.td,{children:"\u9519\u8BEF\u539F\u56E0"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6210\u529F\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n    "code": "OK",\n    "msg": ""\n}\n'})}),"\n",(0,i.jsx)(e.p,{children:"\u7531\u4E8E\u8BE5\u63A5\u53E3\u7531\u4E91\u7BA1\u5E73\u53F0\u4E0E FE \u5171\u540C\u4F7F\u7528\uFF0C\u8BBE\u7F6E\u72B6\u6001\u65F6\uFF0C\u9700\u9075\u5B88\u7279\u5B9A\u7684\u72B6\u6001\u53D8\u5316\u9650\u5236\u3002\u53EA\u5141\u8BB8\u4EE5\u4E0B\u72B6\u6001\u53D8\u6362\uFF1A"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"ClusterStatus::UNKNOWN"})," -> ",(0,i.jsx)(e.code,{children:"ClusterStatus::NORMAL"}),"\uFF08\u4E91\u7BA1\u5E73\u53F0\u521B\u5EFA\u8BA1\u7B97\u96C6\u7FA4\u65F6\uFF0C\u5C06\u521D\u59CB\u72B6\u6001\u76F4\u63A5\u7F6E\u4E3A ",(0,i.jsx)(e.code,{children:"NORMAL"}),"\uFF0C\u6B64\u64CD\u4F5C\u901A\u5E38\u5728 ",(0,i.jsx)(e.code,{children:"add_cluster"})," \u63A5\u53E3\u4E2D\u5B8C\u6210\uFF09"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"ClusterStatus::NORMAL"})," -> ",(0,i.jsx)(e.code,{children:"ClusterStatus::SUSPENDED"}),"\uFF08\u4E91\u7BA1\u5E73\u53F0\u6682\u505C\u8BA1\u7B97\u96C6\u7FA4\u65F6\u8BBE\u7F6E\uFF09"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"ClusterStatus::SUSPENDED"})," -> ",(0,i.jsx)(e.code,{children:"ClusterStatus::TO_RESUME"}),"\uFF08FE \u5524\u8D77\u8BA1\u7B97\u96C6\u7FA4\u65F6\u8BBE\u7F6E\uFF09"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"ClusterStatus::TO_RESUME"})," -> ",(0,i.jsx)(e.code,{children:"ClusterStatus::NORMAL"}),"\uFF08\u4E91\u7BA1\u5E73\u53F0\u5C06\u8BA1\u7B97\u96C6\u7FA4\u72B6\u6001\u62C9\u8D77\u540E\u8BBE\u7F6E\uFF09"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u82E5\u5C1D\u8BD5\u6267\u884C\u4EE5\u4E0A\u672A\u5217\u51FA\u7684\u72B6\u6001\u53D8\u6362\uFF0C\u7CFB\u7EDF\u5C06\u8FD4\u56DE\u9519\u8BEF\u63D0\u793A\uFF1A"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'{\n    "code": "INVALID_ARGUMENT",\n    "msg": "failed to set cluster status, original cluster is NORMAL and want set TO_RESUME"\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"\u89E3\u7801-meta-service-\u4E2D\u7684-key-\u4FE1\u606F",children:"\u89E3\u7801 Meta Service \u4E2D\u7684 Key \u4FE1\u606F"}),"\n",(0,i.jsx)(e.h3,{id:"\u63A5\u53E3\u63CF\u8FF0-20",children:"\u63A5\u53E3\u63CF\u8FF0"}),"\n",(0,i.jsxs)(e.p,{children:["\u672C\u63A5\u53E3\u7528\u4E8E ",(0,i.jsx)(e.code,{children:"decode"})," Meta Service Log \u4E2D\u7684 Key \u4FE1\u606F\uFF0C\u7528\u4E8E\u8C03\u8BD5\u3002"]}),"\n",(0,i.jsx)(e.h3,{id:"\u8BF7\u6C42-20",children:"\u8BF7\u6C42"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u8BED\u6CD5"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:"GET /MetaService/http/decode_key?token=greedisgood9999&key={key} HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"key"}),(0,i.jsx)(e.td,{children:"\u5F85\u89E3\u7801\u7684 Key"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"unicode"}),(0,i.jsx)(e.td,{children:"\u8FD4\u56DE\u683C\u5F0F\u8C03\u6574"}),(0,i.jsx)(e.td,{children:"\u5426"}),(0,i.jsx)(e.td,{})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:"GET /MetaService/http/decode_key?token=greedisgood9999&key=0110696e7374616e636500011072656772657373696f6e5f696e7374616e6365300001 HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6210\u529F\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:"\u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 0. key space: 1\n\u2502 \u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 1. instance\n\u2502 \u2502                     \u250C\u2500 2. regression_instance0\n\u2502 \u2502                     \u2502\n\u25BC \u25BC                     \u25BC\n0110696e7374616e636500011072656772657373696f6e5f696e7374616e6365300001\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u67E5\u8BE2-tablet-\u72B6\u6001",children:"\u67E5\u8BE2 Tablet \u72B6\u6001"}),"\n",(0,i.jsx)(e.h3,{id:"\u63A5\u53E3\u63CF\u8FF0-21",children:"\u63A5\u53E3\u63CF\u8FF0"}),"\n",(0,i.jsx)(e.p,{children:"\u672C\u63A5\u53E3\u7528\u4E8E\u67E5\u8BE2 Tablet \u72B6\u6001\uFF0C\u7528\u4E8E\u8C03\u8BD5\u3002"}),"\n",(0,i.jsx)(e.h3,{id:"\u8BF7\u6C42-21",children:"\u8BF7\u6C42"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u8BED\u6CD5"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'POST /MetaService/http/get_tablet_stats?token=greedisgood9999 HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "cloud_unique_id": string,\n    "tablet_idx": [{\n        "table_id": int64,\n        "index_id": int64,\n        "partition_id": int64,\n        "tablet_id": int64\n    }]\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cloud_unique_id"}),(0,i.jsxs)(e.td,{children:["\u8282\u70B9\u7684 ",(0,i.jsx)(e.code,{children:"cloud_unique_id"})]}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"tablet_idx"}),(0,i.jsx)(e.td,{children:"\u5F85\u67E5\u8BE2 Tablet \u5217\u8868"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u6570\u7EC4"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"tablet_idx.table_id"}),(0,i.jsxs)(e.td,{children:["\u5F85\u67E5\u8BE2 Tablet \u7684 ",(0,i.jsx)(e.code,{children:"table_id"})]}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"tablet_idx.index_id"}),(0,i.jsxs)(e.td,{children:["\u5F85\u67E5\u8BE2 Tablet \u7684 ",(0,i.jsx)(e.code,{children:"index_id"})]}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"tablet_idx.partition_id"}),(0,i.jsxs)(e.td,{children:["\u5F85\u67E5\u8BE2 Tablet \u7684 ",(0,i.jsx)(e.code,{children:"partition_id"})]}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"tablet_idx.tablet_id"}),(0,i.jsxs)(e.td,{children:["\u5F85\u67E5\u8BE2 Tablet \u7684 ",(0,i.jsx)(e.code,{children:"tablet_id"})]}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'POST /MetaService/http/get_tablet_stats?token=greedisgood9999 HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "cloud_unique_id":"1:regression_instance0:regression-cloud-unique-id0",\n    "tablet_idx": [{\n        "table_id":113973,\n        "index_id":113974,\n        "partition_id":113966,\n        "tablet_id":114739\n    }]\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6210\u529F\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'status {\n  code: OK\n  msg: ""\n}\ntablet_stats {\n  idx {\n    table_id: 113973\n    index_id: 113974\n    partition_id: 113966\n    tablet_id: 114739\n  }\n  data_size: 0\n  num_rows: 0\n  num_rowsets: 2\n  num_segments: 0\n  base_compaction_cnt: 0\n  cumulative_compaction_cnt: 0\n  cumulative_point: 2\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"abort-\u4E8B\u52A1",children:"Abort \u4E8B\u52A1"}),"\n",(0,i.jsx)(e.h3,{id:"\u63A5\u53E3\u63CF\u8FF0-22",children:"\u63A5\u53E3\u63CF\u8FF0"}),"\n",(0,i.jsx)(e.p,{children:"\u672C\u63A5\u53E3\u7528\u4E8E Abort \u4E8B\u52A1\uFF0C\u7528\u4E8E\u8C03\u8BD5\u3002"}),"\n",(0,i.jsx)(e.h3,{id:"\u8BF7\u6C42-22",children:"\u8BF7\u6C42"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u8BED\u6CD5"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'POST /MetaService/http/abort_txn?token=greedisgood9999 HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "cloud_unique_id": string,\n    "txn_id": int64\n}\nor\n{\n    "cloud_unique_id": string,\n    "db_id": int64,\n    "label": string\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cloud_unique_id"}),(0,i.jsxs)(e.td,{children:["\u8282\u70B9\u7684 ",(0,i.jsx)(e.code,{children:"cloud_unique_id"})]}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"txn_id"}),(0,i.jsx)(e.td,{children:"\u5F85 Abort \u4E8B\u52A1 ID"}),(0,i.jsx)(e.td,{children:"\u5426"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"db_id"}),(0,i.jsxs)(e.td,{children:["\u5F85 Abort \u4E8B\u52A1\u6240\u5C5E ",(0,i.jsx)(e.code,{children:"db_id"})]}),(0,i.jsx)(e.td,{children:"\u5426"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"label"}),(0,i.jsx)(e.td,{children:"\u5F85 Abort \u4E8B\u52A1 Label"}),(0,i.jsx)(e.td,{children:"\u5426"}),(0,i.jsx)(e.td,{})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'POST /MetaService/http/abort_txn?token=greedisgood9999 HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "cloud_unique_id": "1:regression_instance0:regression-cloud-unique-id0",\n    "txn_id": 869414052004864\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6210\u529F\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'status {\n  code: OK\n  msg: ""\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"abort-tablet-job",children:"Abort Tablet Job"}),"\n",(0,i.jsx)(e.h3,{id:"\u63A5\u53E3\u63CF\u8FF0-23",children:"\u63A5\u53E3\u63CF\u8FF0"}),"\n",(0,i.jsx)(e.p,{children:"\u672C\u63A5\u53E3\u7528\u4E8E Abort Tablet \u4E0A\u7684 Job\uFF0C\u5F53\u524D\u53EA\u652F\u6301 Compaction Job\uFF0C\u7528\u4E8E\u8C03\u8BD5\u3002"}),"\n",(0,i.jsx)(e.h3,{id:"\u8BF7\u6C42-23",children:"\u8BF7\u6C42"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u8BED\u6CD5"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'POST /MetaService/http/abort_tablet_job?token=greedisgood9999 HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "cloud_unique_id": string,\n    "job" : {\n        "idx": {"tablet_id": int64},\n        "compaction": [{"id": string}]\n    }\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u53C2\u6570"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570\u540D"}),(0,i.jsx)(e.th,{children:"\u63CF\u8FF0"}),(0,i.jsx)(e.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,i.jsx)(e.th,{children:"\u5907\u6CE8"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"cloud_unique_id"}),(0,i.jsxs)(e.td,{children:["\u8282\u70B9\u7684 ",(0,i.jsx)(e.code,{children:"cloud_unique_id"})]}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"job"}),(0,i.jsx)(e.td,{children:"\u5F85 Abort \u7684 Job \u4E8B\u52A1"}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{children:"\u5F53\u524D\u53EA\u652F\u6301 Compaction Job"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"job.idx"}),(0,i.jsxs)(e.td,{children:["\u5F85 Abort \u7684 ",(0,i.jsx)(e.code,{children:"idx"})]}),(0,i.jsx)(e.td,{children:"\u662F"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"job.idx.tablet_id"}),(0,i.jsxs)(e.td,{children:["abort.idx \u5BF9\u5E94\u7684 ",(0,i.jsx)(e.code,{children:"tablet_id"})]}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"job.compaction"}),(0,i.jsx)(e.td,{children:"\u5F85 Abort \u7684 Compaction"}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{children:"\u6570\u7EC4"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"job.compaction.id"}),(0,i.jsx)(e.td,{children:"\u5F85 abort.compaction \u7684 ID"}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8BF7\u6C42\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-Plain",children:'POST /MetaService/http/abort_tablet_job?token=greedisgood9999 HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "cloud_unique_id": "1:regression_instance0:regression-cloud-unique-id0",\n    "job" : {\n        "idx": {"tablet_id": 113973},\n        "compaction": [{"id": 113974}]\n    }\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6210\u529F\u8FD4\u56DE\u793A\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'status {\n  code: OK\n  msg: ""\n}\n'})})]})}function j(n={}){let{wrapper:e}={...(0,l.a)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(x,{...n})}):x(n)}},250065:function(n,e,s){s.d(e,{Z:function(){return r},a:function(){return t}});var d=s(667294);let i={},l=d.createContext(i);function t(n){let e=d.useContext(l);return d.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:t(n.components),d.createElement(l.Provider,{value:e},n.children)}}}]);