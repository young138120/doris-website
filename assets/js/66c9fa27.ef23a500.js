"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["941292"],{616197:function(n,e,s){s.r(e),s.d(e,{metadata:()=>t,contentTitle:()=>l,default:()=>o,assets:()=>c,toc:()=>h,frontMatter:()=>r});var t=JSON.parse('{"id":"compute-storage-decoupled/meta-service-api","title":"Meta Service API","description":"\x3c!--","source":"@site/docs/compute-storage-decoupled/meta-service-api.md","sourceDirName":"compute-storage-decoupled","slug":"/compute-storage-decoupled/meta-service-api","permalink":"/docs/dev/compute-storage-decoupled/meta-service-api","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Meta Service API","language":"en"},"sidebar":"docs","previous":{"title":"File Cache","permalink":"/docs/dev/compute-storage-decoupled/file-cache"},"next":{"title":"Upgrading Cluster","permalink":"/docs/dev/admin-manual/cluster-management/upgrade"}}'),d=s("785893"),i=s("250065");let r={title:"Meta Service API",language:"en"},l=void 0,c={},h=[{value:"API version",id:"api-version",level:2},{value:"Field values",id:"field-values",level:2},{value:"create_instance (multiple storage vaults)",id:"create_instance-multiple-storage-vaults",level:2},{value:"Description",id:"description",level:3},{value:"Request",id:"request",level:3},{value:"create_instance (one storage vault)",id:"create_instance-one-storage-vault",level:2},{value:"Description",id:"description-1",level:3},{value:"Request",id:"request-1",level:3},{value:"drop_instance",id:"drop_instance",level:2},{value:"Description",id:"description-2",level:3},{value:"Request",id:"request-2",level:3},{value:"get_instance",id:"get_instance",level:2},{value:"Description",id:"description-3",level:3},{value:"Request",id:"request-3",level:3},{value:"set_instance_status",id:"set_instance_status",level:2},{value:"Description",id:"description-4",level:3},{value:"Request",id:"request-4",level:3},{value:"get_obj_store_info",id:"get_obj_store_info",level:2},{value:"Description",id:"description-5",level:3},{value:"Request",id:"request-5",level:3},{value:"update_ak_sk",id:"update_ak_sk",level:2},{value:"Description",id:"description-6",level:3},{value:"Request",id:"request-6",level:3},{value:"legacy_update_ak_sk",id:"legacy_update_ak_sk",level:2},{value:"Description",id:"description-7",level:3},{value:"Request",id:"request-7",level:3},{value:"add_obj_info",id:"add_obj_info",level:2},{value:"Description",id:"description-8",level:3},{value:"Request",id:"request-8",level:3},{value:"add_cluster",id:"add_cluster",level:2},{value:"Description",id:"description-9",level:3},{value:"Request",id:"request-9",level:3},{value:"get_cluster",id:"get_cluster",level:2},{value:"Description",id:"description-10",level:3},{value:"Request",id:"request-10",level:3},{value:"drop_cluster",id:"drop_cluster",level:2},{value:"Description",id:"description-11",level:3},{value:"Request",id:"request-11",level:3},{value:"rename_cluster",id:"rename_cluster",level:2},{value:"Description",id:"description-12",level:3},{value:"Request",id:"request-12",level:3},{value:"add_node",id:"add_node",level:2},{value:"Description",id:"description-13",level:3},{value:"Request",id:"request-13",level:3},{value:"drop_node",id:"drop_node",level:2},{value:"Description",id:"description-14",level:3},{value:"Request",id:"request-14",level:3},{value:"update_cluster_mysql_user_name",id:"update_cluster_mysql_user_name",level:2},{value:"Description",id:"description-15",level:3},{value:"Request",id:"request-15",level:3},{value:"cloud_cluster_status",id:"cloud_cluster_status",level:2},{value:"Description",id:"description-16",level:3},{value:"Request",id:"request-16",level:3},{value:"enable_instance_sse",id:"enable_instance_sse",level:2},{value:"Description",id:"description-17",level:3},{value:"Request",id:"request-17",level:3},{value:"get_cluster_status",id:"get_cluster_status",level:2},{value:"Description",id:"description-18",level:3},{value:"Request",id:"request-18",level:3},{value:"set_cluster_status",id:"set_cluster_status",level:2},{value:"Description",id:"description-19",level:3},{value:"Request",id:"request-19",level:3},{value:"decode_key",id:"decode_key",level:2},{value:"Description",id:"description-20",level:3},{value:"Request",id:"request-20",level:3},{value:"get_tablet_stats",id:"get_tablet_stats",level:2},{value:"Description",id:"description-21",level:3},{value:"Request",id:"request-21",level:3},{value:"abort_txn",id:"abort_txn",level:2},{value:"Description",id:"description-22",level:3},{value:"Request",id:"request-22",level:3},{value:"abort_tablet_job",id:"abort_tablet_job",level:2},{value:"Description",id:"description-23",level:3},{value:"Request",id:"request-23",level:3}];function a(n){let e={admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...n.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.p,{children:"The page introduces all APIs provided by the Meta Service."}),"\n",(0,d.jsx)(e.h2,{id:"api-version",children:"API version"}),"\n",(0,d.jsxs)(e.p,{children:["For the purpose of compatibility and extension, all future APIs will include a version number in implementation. It is recommended to include the version number when using the APIs. Currently, all existing APIs have been added ",(0,d.jsx)(e.code,{children:"v1/"})," as the version identifier."]}),"\n",(0,d.jsxs)(e.p,{children:["For example, this is ",(0,d.jsx)(e.code,{children:"create_instance"})," with its API version identifier:"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:"PUT /MetaService/http/v1/create_instance?token=<token> HTTP/1.1\n"})}),"\n",(0,d.jsxs)(e.p,{children:["To ensure compatibility, existing APIs can still be accessed without ",(0,d.jsx)(e.code,{children:"v1/"}),"."]}),"\n",(0,d.jsx)(e.h2,{id:"field-values",children:"Field values"}),"\n",(0,d.jsx)(e.p,{children:"For certain fields, special attention should be paid to their allowed value ranges and formats."}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Field"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"instance_id"}),(0,d.jsxs)(e.td,{children:["ID of the data warehouse instance instance in the compute-storage decoupled mode,  normally a UUID string. It should follow the format of ",(0,d.jsx)(e.code,{children:"[0-9a-zA-Z_-]+"}),"."]}),(0,d.jsxs)(e.td,{children:["Example: ",(0,d.jsx)(e.code,{children:"6ADDF03D-4C71-4F43-9D84-5FC89B3514F8"})]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cloud_unique_id"}),(0,d.jsxs)(e.td,{children:["A configuration in ",(0,d.jsx)(e.code,{children:"be.conf"}),"  and ",(0,d.jsx)(e.code,{children:"fe.conf"})," in the compute-storage decoupled mode; should be provided in a create_cluster request; the format of it is ",(0,d.jsx)(e.code,{children:"1:<instance_id>:<string>"}),", in which the ",(0,d.jsx)(e.code,{children:"string"})," should conform to the format of ",(0,d.jsx)(e.code,{children:"[0-9a-zA-Z_-]+"}),". The value for each node should be different."]}),(0,d.jsxs)(e.td,{children:["Example: ",(0,d.jsx)(e.code,{children:"1:regression_instance0:regression-cloud-unique-id-1"})]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster_name"}),(0,d.jsxs)(e.td,{children:["In the compute-storage decoupled mode, this field is required when describing a compute cluster. It must be a unique identifier and its format should match the pattern ",(0,d.jsx)(e.code,{children:" [a-zA-Z][0-9a-zA-Z_]+"})]}),(0,d.jsxs)(e.td,{children:["Example: ",(0,d.jsx)(e.code,{children:"write_cluster"}),", ",(0,d.jsx)(e.code,{children:"read_cluster0"})]})]})]})]}),"\n",(0,d.jsx)(e.h2,{id:"create_instance-multiple-storage-vaults",children:"create_instance (multiple storage vaults)"}),"\n",(0,d.jsx)(e.h3,{id:"description",children:"Description"}),"\n",(0,d.jsxs)(e.p,{children:["This API is used to create an instance, which supports one or more storage vaults (including HDFS and S3). This instance does not contain any node information. The same ",(0,d.jsx)(e.code,{children:"instance_id"})," cannot be created multiple times."]}),"\n",(0,d.jsx)(e.h3,{id:"request",children:"Request"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"Use HDFS as the storage vault"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["Syntax for a ",(0,d.jsx)(e.code,{children:"create_instance"})," request using HDFS as the storage vault"]}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-shell",children:'PUT /MetaService/http/create_instance?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n\n{\n  "instance_id": string,\n  "name": string,\n  "user_id": string,\n  "vault": {\n    "hdfs_info" : {\n      "build_conf": {\n        "fs_name": string,\n        "user": string,\n        "hdfs_kerberos_keytab": string,\n        "hdfs_kerberos_principal": string,\n        "hdfs_confs" : [\n          {\n            "key": string,\n            "value": string\n          }\n        ]\n      },\n      "prefix": string\n    }\n  }\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["Parameters for a ",(0,d.jsx)(e.code,{children:"create_instance"})," request using HDFS as the storage vault"]}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"instance_id"}),(0,d.jsxs)(e.td,{children:["ID of the data warehouse instance in the compute-storage decoupled mode, normally a UUID string. It should conform to the format of ",(0,d.jsx)(e.code,{children:"[0-9a-zA-Z_-]+"}),"."]}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsxs)(e.td,{children:["Example: ",(0,d.jsx)(e.code,{children:"6ADDF03D-4C71-4F43-9D84-5FC89B3514F8"})]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"name"}),(0,d.jsxs)(e.td,{children:["Instance name. It should conform to the format of ",(0,d.jsx)(e.code,{children:"[a-zA-Z][0-9a-zA-Z_]+"})]}),(0,d.jsx)(e.td,{children:"Optional"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"user_id"}),(0,d.jsxs)(e.td,{children:["ID of the user who creates the instance. It should conform to the format of ",(0,d.jsx)(e.code,{children:"[a-zA-Z][0-9a-zA-Z_]+"})]}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"vault"}),(0,d.jsx)(e.td,{children:"Storage vault"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"vault.hdfs_info"}),(0,d.jsx)(e.td,{children:"Information of the HDFS storage vault"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"vault.build_conf"}),(0,d.jsx)(e.td,{children:"Build configuration of the HDFS storage vault"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"vault.build_conf.fs_name"}),(0,d.jsx)(e.td,{children:"HDFS name, normally the connection address"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"vault.build_conf.user"}),(0,d.jsx)(e.td,{children:"User to connect to HDFS"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"vault.build_conf.hdfs_kerberos_keytab"}),(0,d.jsx)(e.td,{children:"Kerberos Keytab path"}),(0,d.jsx)(e.td,{children:"Optional"}),(0,d.jsx)(e.td,{children:"Required when using Kerberos authentication"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"vault.build_conf.hdfs_kerberos_principal"}),(0,d.jsx)(e.td,{children:"Kerberos Principal"}),(0,d.jsx)(e.td,{children:"Optional"}),(0,d.jsx)(e.td,{children:"Required when using Kerberos authentication"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"vault.build_conf.hdfs_confs"}),(0,d.jsx)(e.td,{children:"Other configurations of HDFS"}),(0,d.jsx)(e.td,{children:"Optional"}),(0,d.jsx)(e.td,{children:"Can be filled in as needed"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"vault.prefix"}),(0,d.jsx)(e.td,{children:"Prefix for data storage; used for data isolation"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsxs)(e.td,{children:["Normally named after the specific business, such as ",(0,d.jsx)(e.code,{children:"big_data"})]})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["Example of a ",(0,d.jsx)(e.code,{children:"create_instance"})," request using HDFS as the storage vault"]}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/create_instance?token=greedisgood9999 HTTP/1.1\nContent-Length: 550\nContent-Type: text/plain\n{\n  "instance_id": "sample_instance_id",\n  "name": "sample_instance_name",\n  "user_id": "sample_user_id",\n  "vault": {\n    "hdfs_info" : {\n      "build_conf": {\n        "fs_name": "hdfs://172.21.0.44:4007",\n        "user": "hadoop",\n        "hdfs_kerberos_keytab": "/etc/emr.keytab",\n        "hdfs_kerberos_principal": "hadoop/172.30.0.178@EMR-XXXYYY",\n        "hdfs_confs" : [\n          {\n            "key": "hadoop.security.authentication",\n            "value": "kerberos"\n          }\n        ]\n      },\n      "prefix": "sample_prefix"\n    }\n  }\n}\n'})}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"Use object storage as the storage vault"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["Syntax for a ",(0,d.jsx)(e.code,{children:"create_instance"})," request using object storage as the storage vault"]}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-shell",children:'PUT /MetaService/http/create_instance?token=<token HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n\n{\n  "instance_id": string,\n  "name": string,\n  "user_id": string,\n  "vault": {\n    "obj_info": {\n      "ak": string,\n      "sk": string,\n      "bucket": string,\n      "prefix": string,\n      "endpoint": string,\n      "external_endpoint": string,\n      "region": string,\n      "provider": string\n    }\n  }\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["Parameters for a ",(0,d.jsx)(e.code,{children:"create_instance"})," request using object storage as the storage vault"]}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"instance_id"}),(0,d.jsxs)(e.td,{children:["ID of the data warehouse instance in the compute-storage decoupled mode, normally a UUID string. It should conform to the format of ",(0,d.jsx)(e.code,{children:"[0-9a-zA-Z_-]+"}),"."]}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsxs)(e.td,{children:["Example: ",(0,d.jsx)(e.code,{children:"6ADDF03D-4C71-4F43-9D84-5FC89B3514F8"})]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"name"}),(0,d.jsxs)(e.td,{children:["Instance name. It should conform to the format of ",(0,d.jsx)(e.code,{children:"[a-zA-Z][0-9a-zA-Z_]+"})]}),(0,d.jsx)(e.td,{children:"Optional"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"user_id"}),(0,d.jsxs)(e.td,{children:["ID of the user who creates the instance. It should conform to the format of ",(0,d.jsx)(e.code,{children:"[a-zA-Z][0-9a-zA-Z_]+"})]}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"vault.obj_info"}),(0,d.jsx)(e.td,{children:"S3 link configuration"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"vault.obj_info.ak"}),(0,d.jsx)(e.td,{children:"S3 Access Key"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"vault.obj_info.sk"}),(0,d.jsx)(e.td,{children:"S3 Secret Key"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"vault.obj_info.bucket"}),(0,d.jsx)(e.td,{children:"S3 bucket name"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"vault.obj_info.prefix"}),(0,d.jsx)(e.td,{children:"Prefix for data storage on S3"}),(0,d.jsx)(e.td,{children:"Optional"}),(0,d.jsxs)(e.td,{children:["If this parameter is empty, the default storage location will be in the root directory of the bucket, such as ",(0,d.jsx)(e.code,{children:"big_data"})]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"obj_info.endpoint"}),(0,d.jsx)(e.td,{children:"S3 endpoint"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsxs)(e.td,{children:["The domain or IP:port, not including the scheme prefix such as",(0,d.jsx)(e.code,{children:" http://."})]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"obj_info.region"}),(0,d.jsx)(e.td,{children:"S3 region"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"If using MinIO, this parameter can be filled in with any value."})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"obj_info.external_endpoint"}),(0,d.jsx)(e.td,{children:"S3 external endpoint"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"Normally consistent with the endpoint. Compatible with OSS. Note the difference between external and internal OSS."})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"vault.obj_info.provider"}),(0,d.jsx)(e.td,{children:"S3 provider; options include OSS, S3, COS, OBS, BOS, GCP, and AZURE"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"If using MinIO, simply fill in S3."})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["Example of a ",(0,d.jsx)(e.code,{children:"create_instance"})," request using object storage as the storage vault"]}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-shell",children:'PUT /MetaService/http/create_instance?token=greedisgood9999 HTTP/1.1\nContent-Length: 441\nContent-Type: text/plain\n\n{\n  "instance_id": "sample_instance_id",\n  "name": "sample_instance_name",\n  "user_id": "sample_user_id",\n  "vault": {\n    "obj_info": {\n      "ak": "ak_xxxxxxxxxxx",\n      "sk": "sk_xxxxxxxxxxx",\n      "bucket": "sample_bucket_name",\n      "prefix": "sample_prefix",\n      "endpoint": "cos.ap-beijing.myqcloud.com",\n      "external_endpoint": "cos.ap-beijing.myqcloud.com",\n      "region": "ap-beijing",\n      "provider": "COS"\n    }\n  }\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Returned parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"code"}),(0,d.jsx)(e.td,{children:"Response status code"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsxs)(e.td,{children:["Enumerated values, including ",(0,d.jsx)(e.code,{children:"OK"}),", ",(0,d.jsx)(e.code,{children:"INVALID_ARGUMENT"}),", ",(0,d.jsx)(e.code,{children:"INTERNAL_ERROR"}),", and ",(0,d.jsx)(e.code,{children:"ALREADY_EXISTED"})]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"msg"}),(0,d.jsx)(e.td,{children:"Error message"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"If an error occurs, an error message will be returned; if no error occurs, an empty string will be returned."})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Successful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "OK",\n "msg": ""\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example of unsuccessful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "ALREADY_EXISTED",\n "msg": "instance already existed, instance_id=instance_id_deadbeef"\n}\n'})}),"\n",(0,d.jsx)(e.h2,{id:"create_instance-one-storage-vault",children:"create_instance (one storage vault)"}),"\n",(0,d.jsx)(e.admonition,{type:"caution",children:(0,d.jsx)(e.p,{children:"This is a legacy interface and is deprecated in newer versions. It should not be used in private deployment."})}),"\n",(0,d.jsx)(e.h3,{id:"description-1",children:"Description"}),"\n",(0,d.jsxs)(e.p,{children:["This API is used to create an instance, which only supports one storage vault (must be S3). This instance does not contain any node information. The same ",(0,d.jsx)(e.code,{children:"instance_id"})," cannot be created multiple times."]}),"\n",(0,d.jsx)(e.h3,{id:"request-1",children:"Request"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Syntax"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-shell",children:'PUT /MetaService/http/create_instance?token=<token HTTP/1.1\nContent-Length: <ContentLength\nContent-Type: text/plain\n\n{\n    "instance_id": string,\n    "name": string,\n    "user_id": string,\n    "obj_info": {\n        "ak": string,\n        "sk": string,\n        "bucket": string,\n        "prefix": string,\n        "endpoint": string,\n        "region": string,\n        "external_endpoint": string,\n        "provider": string\n        "user_id": string\n    },\n    "ram_user": {\n        "user_id": string,\n        "ak": string,\n        "sk": string\n    }\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"instance_id"}),(0,d.jsxs)(e.td,{children:["ID of the data warehouse instance in the compute-storage decoupled mode, normally a UUID string. It should conform to the format of ",(0,d.jsx)(e.code,{children:"[0-9a-zA-Z_-]+"}),"."]}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsxs)(e.td,{children:["Example: ",(0,d.jsx)(e.code,{children:"6ADDF03D-4C71-4F43-9D84-5FC89B3514F8"})]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"name"}),(0,d.jsxs)(e.td,{children:["Instance name. It should conform to the format of ",(0,d.jsx)(e.code,{children:"[a-zA-Z][0-9a-zA-Z_]+"})]}),(0,d.jsx)(e.td,{children:"Optional"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"user_id"}),(0,d.jsxs)(e.td,{children:["ID of the user who creates the instance. It should conform to the format of ",(0,d.jsx)(e.code,{children:"[a-zA-Z][0-9a-zA-Z_]+"})]}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"obj_info"}),(0,d.jsx)(e.td,{children:"S3 link configuration"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"obj_info.ak"}),(0,d.jsx)(e.td,{children:"S3 Access Key"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"obj_info.sk"}),(0,d.jsx)(e.td,{children:"S3 Secret Key"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"obj_info.bucket"}),(0,d.jsx)(e.td,{children:"S3 bucket name"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"obj_info.prefix"}),(0,d.jsx)(e.td,{children:"Prefix for data storage on S3"}),(0,d.jsx)(e.td,{children:"Optional"}),(0,d.jsx)(e.td,{children:"If this parameter is empty, the default storage location will be in the root directory of the bucket."})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"obj_info.endpoint"}),(0,d.jsx)(e.td,{children:"S3 endpoint"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsxs)(e.td,{children:["The domain or IP:port, not including the scheme prefix such as ",(0,d.jsx)(e.code,{children:"http://. "})]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"obj_info.region"}),(0,d.jsx)(e.td,{children:"S3 region"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"obj_info.external_endpoint"}),(0,d.jsx)(e.td,{children:"S3 external endpoint"}),(0,d.jsx)(e.td,{children:"Optional"}),(0,d.jsx)(e.td,{children:"Compatible with OSS. Note the difference between external and internal OSS."})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"obj_info.provider"}),(0,d.jsx)(e.td,{children:"S3 provider"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"obj_info.user_id"}),(0,d.jsx)(e.td,{children:"user_id for bucket"}),(0,d.jsx)(e.td,{children:"Optional"}),(0,d.jsx)(e.td,{children:"Used to identify the object that needs to have its AK/SK changed during AK/SK rotation."})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"ram_user"}),(0,d.jsx)(e.td,{children:"ram_user, used for external bucket authorization"}),(0,d.jsx)(e.td,{children:"Optional"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"ram_user.user_id"}),(0,d.jsx)(e.td,{}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"ram_user.ak"}),(0,d.jsx)(e.td,{}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"ram_user.sk"}),(0,d.jsx)(e.td,{}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/create_instance?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id": "123456",\n    "name": "name",\n    "user_id": "abcdef",\n    "obj_info": {\n        "ak": "test-ak1",\n        "sk": "test-sk1",\n        "bucket": "test-bucket",\n        "prefix": "test-prefix",\n        "endpoint": "test-endpoint",\n        "region": "test-region",\n        "provider": "OBS",\n        "user_id": "xxx"\n    }\n    "ram_user": {\n        "user_id": string,\n        "ak": string,\n        "sk": string\n    }\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Returned parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"code"}),(0,d.jsx)(e.td,{children:"Response status code"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsxs)(e.td,{children:["Enumerated values, including ",(0,d.jsx)(e.code,{children:"OK"}),", ",(0,d.jsx)(e.code,{children:"INVALID_ARGUMENT"}),", ",(0,d.jsx)(e.code,{children:"INTERNAL_ERROR"}),", and ",(0,d.jsx)(e.code,{children:"ALREADY_EXISTED"})]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"msg"}),(0,d.jsx)(e.td,{children:"Error message"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"If an error occurs, an error message will be returned; if no error occurs, an empty string will be returned."})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Successful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "OK",\n "msg": ""\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example of unsuccessful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "ALREADY_EXISTED",\n "msg": "instance already existed, instance_id=instance_id_deadbeef"\n}\n'})}),"\n",(0,d.jsx)(e.h2,{id:"drop_instance",children:"drop_instance"}),"\n",(0,d.jsx)(e.h3,{id:"description-2",children:"Description"}),"\n",(0,d.jsx)(e.p,{children:"This API is used to delete an existing instance. After marking it for deletion, the Recycler will asynchronously reclaim the resources."}),"\n",(0,d.jsx)(e.h3,{id:"request-2",children:"Request"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Syntax"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/drop_instance?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id": string\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsx)(e.tbody,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"instance_id"}),(0,d.jsx)(e.td,{children:"instance_id"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"Globally unique"})]})})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/drop_instance?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id": "123456"\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Returned parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"code"}),(0,d.jsx)(e.td,{children:"Response status code"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsxs)(e.td,{children:["Enumerated values, including ",(0,d.jsx)(e.code,{children:"OK"}),", ",(0,d.jsx)(e.code,{children:"INVALID_ARGUMENT"}),", ",(0,d.jsx)(e.code,{children:"INTERNAL_ERROR"}),", and ",(0,d.jsx)(e.code,{children:"ALREADY_EXISTED"})]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"msg"}),(0,d.jsx)(e.td,{children:"Error message"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"If an error occurs, an error message will be returned; if no error occurs, an empty string will be returned."})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Successful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "OK",\n "msg": ""\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example of unsuccessful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "INVALID_ARGUMENT",\n "msg": "failed to drop instance, instance has clusters"\n}\n'})}),"\n",(0,d.jsx)(e.h2,{id:"get_instance",children:"get_instance"}),"\n",(0,d.jsx)(e.h3,{id:"description-3",children:"Description"}),"\n",(0,d.jsx)(e.p,{children:"This API is used to query the details of an instance, including information of S3, compute clusters, and stages. It can be used for debugging purposes."}),"\n",(0,d.jsx)(e.h3,{id:"request-3",children:"Request"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Syntax"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:"GET /MetaService/http/get_instance?token=greedisgood9999&instance_id={instance_id} HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsx)(e.tbody,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"instance_id"}),(0,d.jsx)(e.td,{children:"instance_id"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"Globally unique"})]})})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:"GET /MetaService/http/get_instance?token=greedisgood9999&instance_id=test-instance HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Returned parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"code"}),(0,d.jsx)(e.td,{children:"Response status code"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsxs)(e.td,{children:["Enumerated values, including ",(0,d.jsx)(e.code,{children:"OK"}),", ",(0,d.jsx)(e.code,{children:"INVALID_ARGUMENT"}),", ",(0,d.jsx)(e.code,{children:"INTERNAL_ERROR"}),", and ",(0,d.jsx)(e.code,{children:"ALREADY_EXISTED"})]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"msg"}),(0,d.jsx)(e.td,{children:"Error message"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"If an error occurs, an error message will be returned; if no error occurs, an empty string will be returned."})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"result"}),(0,d.jsx)(e.td,{children:"Details of the instance"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"result.user_id"}),(0,d.jsx)(e.td,{children:"User ID used to create the instance"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"result.instance_id"}),(0,d.jsx)(e.td,{children:"instance_id passed in when creating the instance"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"result.name"}),(0,d.jsx)(e.td,{children:"User name used to create the instance"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"result.clusters"}),(0,d.jsx)(e.td,{children:"List of compute clusters within the instance"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"result.mtime"}),(0,d.jsx)(e.td,{children:"Modification time of the instance"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"result.obj_info"}),(0,d.jsx)(e.td,{children:"S3 information list associated with the instance"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"result.stages"}),(0,d.jsx)(e.td,{children:"List of stages associated with the instance"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"result.status"}),(0,d.jsx)(e.td,{children:"Instance status"}),(0,d.jsx)(e.td,{children:"Optional"}),(0,d.jsxs)(e.td,{children:["If an instance is dropped, its status will turn into ",(0,d.jsx)(e.code,{children:"DELETED"}),"."]})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Successful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n    "code": "OK",\n    "msg": "",\n    "result": {\n        "user_id": "gavin-user-id",\n        "instance_id": "regression_instance0",\n        "name": "test-instance",\n        "clusters": [\n            {\n                "cluster_id": "RESERVED_CLUSTER_ID_FOR_SQL_SERVER",\n                "cluster_name": "RESERVED_CLUSTER_NAME_FOR_SQL_SERVER",\n                "type": "SQL",\n                "nodes": [\n                    {\n                        "cloud_unique_id": "1:regression_instance0:regression-cloud-unique-id-fe-1",\n                        "ip": "127.0.0.1",\n                        "ctime": "1669260437",\n                        "mtime": "1669260437",\n                        "edit_log_port": 12103,\n                        "node_type": "FE_MASTER"\n                    }\n                ]\n            },\n            {\n                "cluster_id": "regression_test_cluster_id0",\n                "cluster_name": "regression_test_cluster_name0",\n                "type": "COMPUTE",\n                "nodes": [\n                    {\n                        "cloud_unique_id": "1:regression_instance0:regression-cloud-unique-id0",\n                        "ip": "127.0.0.1",\n                        "ctime": "1669260437",\n                        "mtime": "1669260437",\n                        "heartbeat_port": 11102\n                    }\n                ],\n                "mysql_user_name": [\n                    "root"\n                ]\n            },\n            {\n                "cluster_id": "regression_test_cluster_id1",\n                "cluster_name": "regression_test_cluster_name1",\n                "type": "COMPUTE",\n                "nodes": [\n                    {\n                        "cloud_unique_id": "1:regression_instance0:regression-cloud-unique-id0",\n                        "ip": "127.0.0.1",\n                        "ctime": "1669260437",\n                        "mtime": "1669260437",\n                        "heartbeat_port": 14102\n                    }\n                ],\n                "mysql_user_name": [\n                    "jack",\n                    "lx"\n                ]\n            },\n            {\n                "cluster_id": "regression_test_cluster_id2",\n                "cluster_name": "regression_test_cluster_name2",\n                "type": "COMPUTE",\n                "nodes": [\n                    {\n                        "cloud_unique_id": "1:regression_instance0:regression-cloud-unique-id0",\n                        "ip": "127.0.0.1",\n                        "ctime": "1669260437",\n                        "mtime": "1669260437",\n                        "heartbeat_port": 16102\n                    }\n                ]\n            }\n        ],\n        "obj_info": [\n            {\n                "ctime": "1669260437",\n                "mtime": "1669260437",\n                "id": "1",\n                "ak": "akak",\n                "sk": "sksk",\n                "bucket": "justtmp-bj-1308700295",\n                "prefix": "dx-test",\n                "endpoint": "cos.ap-beijing.myqcloud.com",\n                "region": "ap-beijing",\n                "provider": "COS",\n                "external_endpoint": ""\n            }\n        ],\n        "stages": [\n            {\n                "mysql_user_name": [\n                    "admin"\n                ],\n                "obj_info": {\n                    "id": "1",\n                    "prefix": "dx-test/stage/admin/admin"\n                },\n                "stage_id": "c56f5d01-0ae2-4719-8be2-8b52b3144f60",\n                "mysql_user_id": [\n                    "admin"\n                ]\n            },\n            {\n                "type": "EXTERNAL",\n                "name": "smoke_test_tpch",\n                "obj_info": {\n                    "ak": "akak",\n                    "sk": "sksk",\n                    "bucket": "gavin-test-bj",\n                    "prefix": "smoke-test",\n                    "endpoint": "oss-cn-beijing.aliyuncs.com",\n                    "region": "cn-beijing",\n                    "provider": "OSS"\n                },\n                "stage_id": "261c3565-7ac3-4cb5-9c82-a9bc38cff8e8",\n                "properties": {\n                    "default.file.column_separator": "|"\n                }\n            }\n        ]\n    }\n}\n'})}),"\n",(0,d.jsx)(e.h2,{id:"set_instance_status",children:"set_instance_status"}),"\n",(0,d.jsx)(e.h3,{id:"description-4",children:"Description"}),"\n",(0,d.jsxs)(e.p,{children:["This API is used to set the status of an instance to either ",(0,d.jsx)(e.code,{children:"NORMAL"})," or ",(0,d.jsx)(e.code,{children:"OVERDUE"}),"."]}),"\n",(0,d.jsx)(e.h3,{id:"request-4",children:"Request"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Syntax"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/set_instance_status?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id": string\n    "op": string\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"instance_id"}),(0,d.jsx)(e.td,{}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"op"}),(0,d.jsx)(e.td,{children:'It should be either "SET_NORMAL" or "SET_OVERDUE".'}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Request example"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'curl \'127.0.0.1:5000/MetaService/http/set_instance_status?token=greedisgood9999\' -d \'{\n    "instance_id":"test_instance",\n    "op": "SET_OVERDUE"\n}\'\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Returned parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"code"}),(0,d.jsx)(e.td,{children:"Response status code"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"msg"}),(0,d.jsx)(e.td,{children:"Error message"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Successful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n    "code": "OK",\n    "msg": ""\n}\n'})}),"\n",(0,d.jsx)(e.h2,{id:"get_obj_store_info",children:"get_obj_store_info"}),"\n",(0,d.jsx)(e.h3,{id:"description-5",children:"Description"}),"\n",(0,d.jsx)(e.p,{children:"This API is used to retrieve the S3 Access Key (AK) and Secret Key (SK) configured for a given instance. This API can be called multiple times using the same parameters."}),"\n",(0,d.jsx)(e.h3,{id:"request-5",children:"Request"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Syntax"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/get_obj_store_info?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{"cloud_unique_id": "<cloud_unique_id>"}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsx)(e.tbody,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cloud_unique_id"}),(0,d.jsx)(e.td,{children:"cloud_unique_id of node"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsxs)(e.td,{children:["The ",(0,d.jsx)(e.code,{children:"unique_id"})," of a node under an instance can be used to retrieve the S3 information configured for the entire instance."]})]})})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/get_obj_store_info?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{"cloud_unique_id": "1:regression_instance0:cloud_unique_id_compute_node1"}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Returned parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"code"}),(0,d.jsx)(e.td,{children:"Response status code"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsxs)(e.td,{children:["Enumerated values, including ",(0,d.jsx)(e.code,{children:"OK"}),", ",(0,d.jsx)(e.code,{children:"INVALID_ARGUMENT"}),", ",(0,d.jsx)(e.code,{children:"INTERNAL_ERROR"}),", and ",(0,d.jsx)(e.code,{children:"ALREADY_EXISTED"})]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"msg"}),(0,d.jsx)(e.td,{children:"Error message"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"If an error occurs, an error message will be returned; if no error occurs, an empty string will be returned."})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"result"}),(0,d.jsx)(e.td,{children:"Result objects"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Successful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n    "code": "OK",\n    "msg": "",\n    "result": {\n        "obj_info": [\n            {\n                "ctime": "1662543056",\n                "mtime": "1662543056",\n                "id": "1",\n                "ak": "xxxx",\n                "sk": "xxxxx",\n                "bucket": "doris-xxx-1308700295",\n                "prefix": "selectdb-xxxx-regression-prefix",\n                "endpoint": "cos.ap-yyy.xxxx.com",\n                "region": "ap-xxx"\n            }\n        ]\n    }\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example of unsuccessful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "INVALID_ARGUMENT",\n "msg": "empty instance_id"\n}\n'})}),"\n",(0,d.jsx)(e.h2,{id:"update_ak_sk",children:"update_ak_sk"}),"\n",(0,d.jsx)(e.h3,{id:"description-6",children:"Description"}),"\n",(0,d.jsxs)(e.p,{children:["This API is used to update the S3 and RAM_USER Access Key (AK) and Secret Key (SK) information configured for a given instance. It uses ",(0,d.jsx)(e.code,{children:"user_id"})," to identify the item to be modified. This API is typically used for AK/SK rotation, and calling it with the same parameters will result in an error."]}),"\n",(0,d.jsx)(e.h3,{id:"request-6",children:"Request"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Syntax"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/update_ak_sk?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id": string,\n    "internal_bucket_user":[\n        {\n            "user_id": string,\n            "ak": string,\n            "sk": string\n        },\n        {\n            "user_id": string,\n            "ak": string,\n            "sk": string\n        }\n    ],\n    "ram_user": {\n        "user_id": string,\n        "ak": string,\n        "sk": string\n    }\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"instance_id"}),(0,d.jsx)(e.td,{children:"instance_id"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"internal_bucket_user"}),(0,d.jsx)(e.td,{children:"bucket_user list to be modified"}),(0,d.jsx)(e.td,{children:"Either fill in internal_bucket_user or ram_user"}),(0,d.jsx)(e.td,{children:"Array"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"internal_bucket_user.user_id"}),(0,d.jsx)(e.td,{children:"The relevant user_id"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"internal_bucket_user.ak"}),(0,d.jsx)(e.td,{}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"internal_bucket_user.sk"}),(0,d.jsx)(e.td,{}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"ram_user"}),(0,d.jsx)(e.td,{children:"ram_user to be modified"}),(0,d.jsx)(e.td,{children:"Either fill in internal_bucket_user or ram_user"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"ram_user.user_id"}),(0,d.jsx)(e.td,{children:"The relevant user_id"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"ram_user.ak"}),(0,d.jsx)(e.td,{}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"ram_user.sk"}),(0,d.jsx)(e.td,{}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/update_ak_sk?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id":"test",\n    "internal_bucket_user":[\n        {\n            "user_id": "bucket_user_id_1",\n            "ak": "xxxx",\n            "sk": "xxxx"\n        },\n        {\n            "user_id": "bucket_user_id_2",\n            "ak": "xxxx",\n            "sk": "xxxx"\n        }\n    ],\n    "ram_user": {\n        "user_id": "ram_user_id",\n        "ak": "xxxx",\n        "sk": "xxxx"\n    }\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Returned parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"code"}),(0,d.jsx)(e.td,{children:"Response status code"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsxs)(e.td,{children:["Enumerated values, including ",(0,d.jsx)(e.code,{children:"OK"}),", ",(0,d.jsx)(e.code,{children:"INVALID_ARGUMENT"}),", ",(0,d.jsx)(e.code,{children:"INTERNAL_ERROR"}),", and ",(0,d.jsx)(e.code,{children:"ALREADY_EXISTED"})]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"msg"}),(0,d.jsx)(e.td,{children:"Error message"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"If an error occurs, an error message will be returned; if no error occurs, an empty string will be returned."})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Successful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "OK",\n "msg": ""\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example of unsuccessful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "INVALID_ARGUMENT",\n "msg": "ak sk eq original, please check it"\n}\n'})}),"\n",(0,d.jsx)(e.h2,{id:"legacy_update_ak_sk",children:"legacy_update_ak_sk"}),"\n",(0,d.jsx)(e.admonition,{type:"caution",children:(0,d.jsx)(e.p,{children:"This is a legacy interface and is deprecated in newer versions."})}),"\n",(0,d.jsx)(e.h3,{id:"description-7",children:"Description"}),"\n",(0,d.jsxs)(e.p,{children:["This API is used to update the S3 Access Key (AK) and Secret Key (SK) configured for an instance. It uses ",(0,d.jsx)(e.code,{children:"ID"})," to identify the item to be modified. The ",(0,d.jsx)(e.code,{children:"ID"})," can be obtained by calling ",(0,d.jsx)(e.code,{children:"get_obj_store_info"}),". Calling this API multiple times with the same parameters will result in an error."]}),"\n",(0,d.jsx)(e.h3,{id:"request-7",children:"Request"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Syntax"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/legacy_update_ak_sk?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "cloud_unique_id": string,\n    "obj": {\n        "id": string,\n        "ak": string,\n        "sk": string,\n    }\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cloud_unique_id"}),(0,d.jsx)(e.td,{children:"cloud_unique_id of node"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"obj"}),(0,d.jsx)(e.td,{children:"Object"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"S3 information object"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"obj.id"}),(0,d.jsx)(e.td,{children:"Object ID"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"ID ranges from 1 to 10"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"obj.ak"}),(0,d.jsx)(e.td,{children:"Object Access Key"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"obj.sk"}),(0,d.jsx)(e.td,{children:"Object Secret Key"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"String array"})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/legacy_update_ak_sk?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "cloud_unique_id": "1:regression_instance0:cloud_unique_id_compute_node1",\n    "obj": {\n        "id": "1",\n        "ak": "test-ak",\n        "sk": "test-sk",\n    }\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Returned parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"code"}),(0,d.jsx)(e.td,{children:"Response status code"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsxs)(e.td,{children:["Enumerated values, including ",(0,d.jsx)(e.code,{children:"OK"}),", ",(0,d.jsx)(e.code,{children:"INVALID_ARGUMENT"}),", ",(0,d.jsx)(e.code,{children:"INTERNAL_ERROR"}),", and ",(0,d.jsx)(e.code,{children:"ALREADY_EXISTED"})]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"msg"}),(0,d.jsx)(e.td,{children:"Error message"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"If an error occurs, an error message will be returned; if no error occurs, an empty string will be returned."})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Successful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "OK",\n "msg": ""\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example of unsuccessful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "INVALID_ARGUMENT",\n "msg": "ak sk eq original, please check it"\n}\n'})}),"\n",(0,d.jsx)(e.h2,{id:"add_obj_info",children:"add_obj_info"}),"\n",(0,d.jsx)(e.h3,{id:"description-8",children:"Description"}),"\n",(0,d.jsx)(e.p,{children:"This API is used to add S3 configurations for an instance. It supports a maximum of 10 S3 configurations, and each configuration must not exceed 1024 bytes in size."}),"\n",(0,d.jsx)(e.h3,{id:"request-8",children:"Request"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Syntax"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/add_obj_info?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "cloud_unique_id": string,\n    "obj": {\n        "ak": string,\n        "sk": string,\n        "bucket": string,\n        "prefix": string,\n        "endpoint": string,\n        "region": string\n    }\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cloud_unique_id"}),(0,d.jsx)(e.td,{children:"cloud_unique_id of node"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"obj"}),(0,d.jsx)(e.td,{children:"Object"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"S3 object"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"obj.ak"}),(0,d.jsx)(e.td,{children:"S3 Access Key to be added"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"obj.sk"}),(0,d.jsx)(e.td,{children:"S3 Secret Key to be added"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"obj.bucket"}),(0,d.jsx)(e.td,{children:"S3 bucket to be added"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"obj.prefix"}),(0,d.jsx)(e.td,{children:"S3 prefix to be added"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"obj.endpoint"}),(0,d.jsx)(e.td,{children:"S3 endpoint to be added"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"obj.region"}),(0,d.jsx)(e.td,{children:"S3 region to be added"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/add_obj_info?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "cloud_unique_id": "1:regression_instance0:cloud_unique_id_compute_node1",\n    "obj": {\n        "ak": "test-ak91",\n        "sk": "test-sk1",\n        "bucket": "test-bucket",\n        "prefix": "test-prefix",\n        "endpoint": "test-endpoint",\n        "region": "test-region"\n    }\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Returned parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"code"}),(0,d.jsx)(e.td,{children:"Response status code"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsxs)(e.td,{children:["Enumerated values, including ",(0,d.jsx)(e.code,{children:"OK"}),", ",(0,d.jsx)(e.code,{children:"INVALID_ARGUMENT"}),", ",(0,d.jsx)(e.code,{children:"INTERNAL_ERROR"}),", and ",(0,d.jsx)(e.code,{children:"ALREADY_EXISTED"})]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"msg"}),(0,d.jsx)(e.td,{children:"Error message"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"If an error occurs, an error message will be returned; if no error occurs, an empty string will be returned."})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Successful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "OK",\n "msg": ""\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example of unsuccessful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "INVALID_ARGUMENT",\n "msg": "s3 conf info err, please check it"\n}\n'})}),"\n",(0,d.jsx)(e.h2,{id:"add_cluster",children:"add_cluster"}),"\n",(0,d.jsx)(e.h3,{id:"description-9",children:"Description"}),"\n",(0,d.jsx)(e.p,{children:"This API is used to create a compute cluster that belongs to an instance. The compute cluster contains information about a number (greater than or equal to 0) of nodes of the same type. This API cannot be called with the same parameters."}),"\n",(0,d.jsx)(e.h3,{id:"request-9",children:"Request"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Syntax"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-SQL",children:'PUT /MetaService/http/add_cluster?token=<token HTTP/1.1\nContent-Length: <ContentLength\nContent-Type: text/plain\n\n{\n    "instance_id": string,\n    "cluster": object {\n        "cluster_name": string,\n        "cluster_id": string,\n        "type": enum,\n        "nodes": [\n            {\n                "cloud_unique_id": string,\n                "ip": string,\n                "heartbeat_port": int\n            }\n        ]\n    }\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"instance_id"}),(0,d.jsx)(e.td,{children:"instance_id"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"Globally unique"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster"}),(0,d.jsx)(e.td,{children:"Cluster object"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster.cluster_name"}),(0,d.jsx)(e.td,{children:"Cluster name"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsxs)(e.td,{children:["The FE cluster name is special. The default value of it is ",(0,d.jsx)(e.code,{children:"RESERVED_CLUSTER_NAME_FOR_SQL_SERVER"}),". This can be modified by configuring ",(0,d.jsx)(e.code,{children:"cloud_observer_cluster_name"})," in the ",(0,d.jsx)(e.code,{children:"fe.conf"})," file."]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster.cluster_id"}),(0,d.jsx)(e.td,{children:"Cluster ID"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsxs)(e.td,{children:["The FE cluster ID is special. The default value of it is ",(0,d.jsx)(e.code,{children:"RESERVED_CLUSTER_ID_FOR_SQL_SERVER"}),". This can be modified by configuring ",(0,d.jsx)(e.code,{children:"cloud_observer_cluster_id"})," in the ",(0,d.jsx)(e.code,{children:"fe.conf"})," file."]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster.type"}),(0,d.jsx)(e.td,{children:"Cluster node type"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsxs)(e.td,{children:["Two types are supported: ",(0,d.jsx)(e.code,{children:"SQL"})," and ",(0,d.jsx)(e.code,{children:"COMPUTE"}),". ",(0,d.jsx)(e.code,{children:"SQL"})," represents the SQL Service corresponding to FE, while ",(0,d.jsx)(e.code,{children:"COMPUTE"})," means that the compute nodes are corresponding to BE."]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster.nodes"}),(0,d.jsx)(e.td,{children:"Nodes in the cluster"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"Array"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster.nodes.cloud_unique_id"}),(0,d.jsx)(e.td,{children:"cloud_unique_id of nodes"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsxs)(e.td,{children:[(0,d.jsx)(e.code,{children:"cloud_unique_id"})," in ",(0,d.jsx)(e.code,{children:"fe.conf"})," and ",(0,d.jsx)(e.code,{children:"be.conf"})]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster.nodes.ip"}),(0,d.jsx)(e.td,{children:"Node IP"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"When deploying FE/BE in FQDN mode, this field should be the domain name."})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster.nodes.host"}),(0,d.jsx)(e.td,{children:"Node domain name"}),(0,d.jsx)(e.td,{children:"Optional"}),(0,d.jsx)(e.td,{children:"This field is required when deploying FE/BE in FQDN mode."})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster.nodes.heartbeat_port"}),(0,d.jsx)(e.td,{children:"Heartbeat port of BE"}),(0,d.jsx)(e.td,{children:"Required for BE"}),(0,d.jsx)(e.td,{children:"heartbeat_service_port in be.conf"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster.nodes.edit_log_port"}),(0,d.jsx)(e.td,{children:"Edit log port of FE"}),(0,d.jsx)(e.td,{children:"Required for FE"}),(0,d.jsxs)(e.td,{children:[(0,d.jsx)(e.code,{children:"edit_log_port"})," in ",(0,d.jsx)(e.code,{children:"fe.conf"})]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster.nodes.node_type"}),(0,d.jsx)(e.td,{children:"FE node type"}),(0,d.jsx)(e.td,{children:"Required for FE"}),(0,d.jsxs)(e.td,{children:["This field is required when the cluster type is ",(0,d.jsx)(e.code,{children:"SQL"}),". It can be either ",(0,d.jsx)(e.code,{children:"FE_MASTER"})," or ",(0,d.jsx)(e.code,{children:"FE_OBSERVER"}),". ",(0,d.jsx)(e.code,{children:"FE_MASTER"})," indicates that the node is of Master role, and ",(0,d.jsx)(e.code,{children:"FE_OBSERVER"})," indicates that the node is an Observer. Note that in an ",(0,d.jsx)(e.code,{children:"SQL"})," type cluster, the nodes array can only have one ",(0,d.jsx)(e.code,{children:"FE_MASTER"})," node, but it can include multiple ",(0,d.jsx)(e.code,{children:"FE_OBSERVER"})," nodes."]})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/add_cluster?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id": "123456",\n    "cluster": {\n        "cluster_name": "cluster_name1",\n        "cluster_id": "cluster_id1",\n        "type": "COMPUTE",\n        "nodes": [\n            {\n                "cloud_unique_id": "1:regression_instance0:cloud_unique_id_compute_node1",\n                "ip": "172.21.0.5",\n                "heartbeat_port": 9050\n            }\n        ]\n    }\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Returned parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"code"}),(0,d.jsx)(e.td,{children:"Response status code"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsxs)(e.td,{children:["Enumerated values, including ",(0,d.jsx)(e.code,{children:"OK"}),", ",(0,d.jsx)(e.code,{children:"INVALID_ARGUMENT"}),", ",(0,d.jsx)(e.code,{children:"INTERNAL_ERROR"}),", and ",(0,d.jsx)(e.code,{children:"ALREADY_EXISTED"})]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"msg"}),(0,d.jsx)(e.td,{children:"Error message"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"If an error occurs, an error message will be returned; if no error occurs, an empty string will be returned."})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Successful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "OK",\n "msg": ""\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example of unsuccessful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "INTERANAL_ERROR",\n "msg": "cluster is SQL type, must have only one master node, now master count: 0"\n}\n'})}),"\n",(0,d.jsx)(e.h2,{id:"get_cluster",children:"get_cluster"}),"\n",(0,d.jsx)(e.h3,{id:"description-10",children:"Description"}),"\n",(0,d.jsx)(e.p,{children:"This API is used to retrieve the information of a compute cluster. It can be called repeatedly."}),"\n",(0,d.jsx)(e.h3,{id:"request-10",children:"Request"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Syntax"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/get_cluster?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id":string,\n    "cloud_unique_id":string,\n    "cluster_name":string,\n    "cluster_id":string\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cloud_unique_id"}),(0,d.jsx)(e.td,{children:"cloud_unique_id"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsxs)(e.td,{children:["It can be used to retrieve the relevant ",(0,d.jsx)(e.code,{children:"instance_id"})]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster_name"}),(0,d.jsx)(e.td,{children:"Cluster name"}),(0,d.jsx)(e.td,{children:"Optional"}),(0,d.jsxs)(e.td,{children:["Note: One of the three parameters (",(0,d.jsx)(e.code,{children:"cluster_name"}),", ",(0,d.jsx)(e.code,{children:"cluster_id"}),", and ",(0,d.jsx)(e.code,{children:"mysql_user_name"}),") must be provided. If all three are empty, the API will return the information of all clusters under the instance."]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster_id"}),(0,d.jsx)(e.td,{children:"Cluster ID"}),(0,d.jsx)(e.td,{children:"Optional"}),(0,d.jsxs)(e.td,{children:["Note: One of the three parameters (",(0,d.jsx)(e.code,{children:"cluster_name"}),", ",(0,d.jsx)(e.code,{children:"cluster_id"}),", and ",(0,d.jsx)(e.code,{children:"mysql_user_name"}),") must be provided. If all three are empty, the API will return the information of all clusters under the instance."]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"mysql_user_name"}),(0,d.jsx)(e.td,{children:"Available cluster configured by mysql_user_name"}),(0,d.jsx)(e.td,{children:"Optional"}),(0,d.jsxs)(e.td,{children:["Note: One of the three parameters (",(0,d.jsx)(e.code,{children:"cluster_name"}),", ",(0,d.jsx)(e.code,{children:"cluster_id"}),", and ",(0,d.jsx)(e.code,{children:"mysql_user_name"}),") must be provided. If all three are empty, the API will return the information of all clusters under the instance."]})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/get_cluster?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id":"regression_instance0",\n    "cloud_unique_id":"1:regression_instance0:regression-cloud-unique-id-fe-1",\n    "cluster_name":"RESERVED_CLUSTER_NAME_FOR_SQL_SERVER",\n    "cluster_id":"RESERVED_CLUSTER_ID_FOR_SQL_SERVER"\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Returned parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"code"}),(0,d.jsx)(e.td,{children:"Response status code"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsxs)(e.td,{children:["Enumerated values, including ",(0,d.jsx)(e.code,{children:"OK"}),", ",(0,d.jsx)(e.code,{children:"INVALID_ARGUMENT"}),", ",(0,d.jsx)(e.code,{children:"INTERNAL_ERROR"}),", and ",(0,d.jsx)(e.code,{children:"ALREADY_EXISTED"})]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"msg"}),(0,d.jsx)(e.td,{children:"Error message"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"If an error occurs, an error message will be returned; if no error occurs, an empty string will be returned."})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"result"}),(0,d.jsx)(e.td,{children:"Result objects"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Successful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n    "code": "OK",\n    "msg": "",\n    "result": {\n        "cluster_id": "cluster_id1",\n        "cluster_name": "cluster_name1",\n        "type": "COMPUTE",\n        "nodes": [\n            {\n                "cloud_unique_id": "1:regression_instance0:cloud_unique_id_compute_node0",\n                "ip": "172.21.16.42",\n                "ctime": "1662695469",\n                "mtime": "1662695469",\n                "heartbeat_port": 9050\n            }\n        ]\n    }\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example of unsuccessful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "NOT_FOUND",\n "msg": "fail to get cluster with instance_id: \\"instance_id_deadbeef\\" cloud_unique_id: \\"1:regression_instance0:xxx_cloud_unique_id_compute_node0\\" cluster_name: \\"cluster_name\\" "\n}\n'})}),"\n",(0,d.jsx)(e.h2,{id:"drop_cluster",children:"drop_cluster"}),"\n",(0,d.jsx)(e.h3,{id:"description-11",children:"Description"}),"\n",(0,d.jsx)(e.p,{children:"This API is used to delete the information of a compute cluster under an instance. Calling this API multiple times with the same parameters will result in an error."}),"\n",(0,d.jsx)(e.h3,{id:"request-11",children:"Request"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Syntax"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/drop_cluster?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id":string,\n    "cluster": {\n        "cluster_name": string,\n        "cluster_id": string,\n    }\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"instance_id"}),(0,d.jsx)(e.td,{children:"instance_id"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster"}),(0,d.jsx)(e.td,{children:"Cluster object"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster.cluster_name"}),(0,d.jsx)(e.td,{children:"Name of the cluster to be deleted"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster.cluster_id"}),(0,d.jsx)(e.td,{children:"ID of the cluster to be deleted"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/drop_cluster?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id":"regression_instance0",\n    "cluster": {\n        "cluster_name": "cluster_name1",\n        "cluster_id": "cluster_id1",\n    }\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Returned parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"code"}),(0,d.jsx)(e.td,{children:"Response status code"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsxs)(e.td,{children:["Enumerated values, including ",(0,d.jsx)(e.code,{children:"OK"}),", ",(0,d.jsx)(e.code,{children:"INVALID_ARGUMENT"}),", ",(0,d.jsx)(e.code,{children:"INTERNAL_ERROR"}),", and ",(0,d.jsx)(e.code,{children:"ALREADY_EXISTED"})]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"msg"}),(0,d.jsx)(e.td,{children:"Error message"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"If an error occurs, an error message will be returned; if no error occurs, an empty string will be returned."})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Successful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "OK",\n "msg": ""\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example of unsuccessful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "INTERANAL_ERROR",\n "msg": "failed to find cluster to drop, instance_id=dx_dnstance_id_deadbeef cluster_id=11111 cluster_name=2222"\n}\n'})}),"\n",(0,d.jsx)(e.h2,{id:"rename_cluster",children:"rename_cluster"}),"\n",(0,d.jsx)(e.h3,{id:"description-12",children:"Description"}),"\n",(0,d.jsxs)(e.p,{children:["This API is used to rename a compute cluster under an instance. It searches for the corresponding cluster based on the provided ",(0,d.jsx)(e.code,{children:"cluster_id"})," and renames it accordingly. Calling this API multiple times with the same parameters will result in an error."]}),"\n",(0,d.jsx)(e.h3,{id:"request-12",children:"Request"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Syntax"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/rename_cluster?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id":string,\n    "cluster": {\n        "cluster_name": string,\n        "cluster_id": string,\n    }\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"instance_id"}),(0,d.jsx)(e.td,{children:"instance_id"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster"}),(0,d.jsx)(e.td,{children:"Cluster object"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster.cluster_name"}),(0,d.jsx)(e.td,{children:"New cluster name"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster.cluster_id"}),(0,d.jsx)(e.td,{children:"ID of the cluster to be renamed"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"Based on this, the system retrieves the corresponding cluster, and renames it accordingly."})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/rename_cluster?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id":"regression_instance0",\n    "cluster": {\n        "cluster_name": "cluster_name2",\n        "cluster_id": "cluster_id1",\n    }\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Returned parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"code"}),(0,d.jsx)(e.td,{children:"Response status code"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsxs)(e.td,{children:["Enumerated values, including ",(0,d.jsx)(e.code,{children:"OK"}),", ",(0,d.jsx)(e.code,{children:"INVALID_ARGUMENT"}),", ",(0,d.jsx)(e.code,{children:"INTERNAL_ERROR"}),", and ",(0,d.jsx)(e.code,{children:"ALREADY_EXISTED"})]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"msg"}),(0,d.jsx)(e.td,{children:"Error message"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"If an error occurs, an error message will be returned; if no error occurs, an empty string will be returned."})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Successful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "OK",\n "msg": ""\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example of unsuccessful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "INTERANAL_ERROR",\n "msg": "failed to rename cluster, name eq original name, original cluster is {\\"cluster_id\\":\\"3333333\\",\\"cluster_name\\":\\"444444\\",\\"type\\":\\"COMPUTE\\"}"\n}\n'})}),"\n",(0,d.jsx)(e.h2,{id:"add_node",children:"add_node"}),"\n",(0,d.jsx)(e.h3,{id:"description-13",children:"Description"}),"\n",(0,d.jsx)(e.p,{children:"This API is used to add nodes of the same type to a specific compute cluster under an instance. Calling this API multiple times with the same parameters will result in an error."}),"\n",(0,d.jsx)(e.p,{children:"This API can be used to add either FE or BE nodes."}),"\n",(0,d.jsx)(e.h3,{id:"request-13",children:"Request"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Syntax"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/add_node?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id": string,\n    "cluster": {\n        "cluster_name": string,\n        "cluster_id": string,\n        "type": enum,\n        "nodes": [\n            {\n                "cloud_unique_id": string,\n                "ip": string,\n                "heartbeat_port": int\n            },\n            {\n                "cloud_unique_id": string,\n                "ip": string,\n                "heartbeat_port": int\n            }\n        ]\n    }\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"instance_id"}),(0,d.jsx)(e.td,{children:"instance_id"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster"}),(0,d.jsx)(e.td,{children:"Cluster object"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster.cluster_name"}),(0,d.jsx)(e.td,{children:"Name of the target cluster"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster.cluster_id"}),(0,d.jsx)(e.td,{children:"ID of the target cluster"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster.type"}),(0,d.jsx)(e.td,{children:"Cluster node type"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsxs)(e.td,{children:["Two types are supported: ",(0,d.jsx)(e.code,{children:"SQL"})," and ",(0,d.jsx)(e.code,{children:"COMPUTE"}),". ",(0,d.jsx)(e.code,{children:"SQL"})," represents the SQL Service corresponding to FE, while ",(0,d.jsx)(e.code,{children:"COMPUTE"})," means that the compute nodes are corresponding to BE."]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster.nodes"}),(0,d.jsx)(e.td,{children:"Nodes in the cluster"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"Array"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster.nodes.cloud_unique_id"}),(0,d.jsx)(e.td,{children:"cloud_unique_id of nodes"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsxs)(e.td,{children:[(0,d.jsx)(e.code,{children:"cloud_unique_id"})," in ",(0,d.jsx)(e.code,{children:"fe.conf"})," and ",(0,d.jsx)(e.code,{children:"be.conf"})]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster.nodes.ip"}),(0,d.jsx)(e.td,{children:"Node IP"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"When deploying FE/BE in FQDN mode, this field should be the domain name."})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster.nodes.host"}),(0,d.jsx)(e.td,{children:"Node domain name"}),(0,d.jsx)(e.td,{children:"Optional"}),(0,d.jsx)(e.td,{children:"This field is required when deploying FE/BE in FQDN mode."})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster.nodes.heartbeat_port"}),(0,d.jsx)(e.td,{children:"Heartbeat port of BE"}),(0,d.jsx)(e.td,{children:"Required for BE"}),(0,d.jsxs)(e.td,{children:[(0,d.jsx)(e.code,{children:"heartbeat_service_port"})," in ",(0,d.jsx)(e.code,{children:"be.conf"})]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster.nodes.edit_log_port"}),(0,d.jsx)(e.td,{children:"Edit log port of FE"}),(0,d.jsx)(e.td,{children:"Required for FE"}),(0,d.jsxs)(e.td,{children:[(0,d.jsx)(e.code,{children:"edit_log_port"})," in ",(0,d.jsx)(e.code,{children:"fe.conf"})]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster.nodes.node_type"}),(0,d.jsx)(e.td,{children:"FE node type"}),(0,d.jsx)(e.td,{children:"Required for FE"}),(0,d.jsxs)(e.td,{children:["This field is required when the cluster type is ",(0,d.jsx)(e.code,{children:"SQL"}),". It can be either ",(0,d.jsx)(e.code,{children:"FE_MASTER"})," or ",(0,d.jsx)(e.code,{children:"FE_OBSERVER"}),". ",(0,d.jsx)(e.code,{children:"FE_MASTER"})," indicates that the node is of Master role, and ",(0,d.jsx)(e.code,{children:"FE_OBSERVER"})," indicates that the node is an Observer. Note that in an ",(0,d.jsx)(e.code,{children:"SQL"})," type cluster, the nodes array can only have one ",(0,d.jsx)(e.code,{children:"FE_MASTER"})," node, but it can include multiple ",(0,d.jsx)(e.code,{children:"FE_OBSERVER"})," nodes."]})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/add_node?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id": "instance_id_deadbeef_1",\n    "cluster": {\n        "cluster_name": "cluster_name1",\n        "cluster_id": "cluster_id1",\n        "type": "COMPUTE",\n        "nodes": [\n            {\n                "cloud_unique_id": "1:regression_instance0:cloud_unique_id_compute_node2",\n                "ip": "172.21.0.50",\n                "heartbeat_port": 9051\n            },\n            {\n                "cloud_unique_id": "1:regression_instance0:cloud_unique_id_compute_node3",\n                "ip": "172.21.0.52",\n                "heartbeat_port": 9052\n            }\n        ]\n    }\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Returned parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"code"}),(0,d.jsx)(e.td,{children:"Response status code"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsxs)(e.td,{children:["Enumerated values, including ",(0,d.jsx)(e.code,{children:"OK"}),", ",(0,d.jsx)(e.code,{children:"INVALID_ARGUMENT"}),", ",(0,d.jsx)(e.code,{children:"INTERNAL_ERROR"}),", and ",(0,d.jsx)(e.code,{children:"ALREADY_EXISTED"})]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"msg"}),(0,d.jsx)(e.td,{children:"Error message"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"If an error occurs, an error message will be returned; if no error occurs, an empty string will be returned."})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Successful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "OK",\n "msg": ""\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example of unsuccessful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "INTERANAL_ERROR",\n "msg": "cloud_unique_id is already occupied by an instance, instance_id=instance_id_deadbeef_1 cluster_name=dx_cluster_name1 cluster_id=cluster_id1 cloud_unique_id=cloud_unique_id_compute_node2"\n}\n'})}),"\n",(0,d.jsx)(e.h2,{id:"drop_node",children:"drop_node"}),"\n",(0,d.jsx)(e.h3,{id:"description-14",children:"Description"}),"\n",(0,d.jsx)(e.p,{children:"This API is used to reduce nodes of the same type for a specific compute cluster under an instance."}),"\n",(0,d.jsx)(e.h3,{id:"request-14",children:"Request"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Syntax"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/drop_node?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id": string,\n    "cluster": {\n        "cluster_name": string,\n        "cluster_id": string,\n        "type": enum,\n        "nodes": [\n            {\n                "cloud_unique_id": string,\n                "ip": string,\n                "heartbeat_port": int\n            },\n            {\n                "cloud_unique_id": string,\n                "ip": string,\n                "heartbeat_port": int\n            }\n        ]\n    }\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"instance_id"}),(0,d.jsx)(e.td,{children:"instance_id"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster"}),(0,d.jsx)(e.td,{children:"Cluster object"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster.cluster_name"}),(0,d.jsx)(e.td,{children:"Name of the target cluster"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster.cluster_id"}),(0,d.jsx)(e.td,{children:"ID of the target cluster"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster.type"}),(0,d.jsx)(e.td,{children:"Cluster node type"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster.node"}),(0,d.jsx)(e.td,{children:"Nodes in the cluster"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"Array"})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/drop_node?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id": "instance_id_deadbeef_1",\n    "cluster": {\n        "cluster_name": "cluster_name1",\n        "cluster_id": "cluster_id1",\n        "type": "COMPUTE",\n        "nodes": [\n            {\n                "cloud_unique_id": "1:instance_id_deadbeef_1:cloud_unique_id_compute_node2",\n                "ip": "172.21.0.50",\n                "heartbeat_port": 9051\n            },\n            {\n                "cloud_unique_id": "1:instance_id_deadbeef_1:cloud_unique_id_compute_node3",\n                "ip": "172.21.0.52",\n                "heartbeat_port": 9052\n            }\n        ]\n    }\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Returned parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"code"}),(0,d.jsx)(e.td,{children:"Response status code"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsxs)(e.td,{children:["Enumerated values, including ",(0,d.jsx)(e.code,{children:"OK"}),", ",(0,d.jsx)(e.code,{children:"INVALID_ARGUMENT"}),", ",(0,d.jsx)(e.code,{children:"INTERNAL_ERROR"}),", and ",(0,d.jsx)(e.code,{children:"ALREADY_EXISTED"})]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"msg"}),(0,d.jsx)(e.td,{children:"Error message"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"If an error occurs, an error message will be returned; if no error occurs, an empty string will be returned."})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Successful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "OK",\n "msg": ""\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example of unsuccessful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "INTERANAL_ERROR",\n "msg": "cloud_unique_id can not find to drop node, instance_id=instance_id_deadbeef_1 cluster_name=cluster_name1 cluster_id=cluster_id1 cloud_unique_id=cloud_unique_id_compute_node2"\n}\n'})}),"\n",(0,d.jsx)(e.h2,{id:"update_cluster_mysql_user_name",children:"update_cluster_mysql_user_name"}),"\n",(0,d.jsx)(e.h3,{id:"description-15",children:"Description"}),"\n",(0,d.jsx)(e.p,{children:"This API is used to add a user to a specific compute cluster under an instance, allowing that user to log in to the system using a MySQL Client and access the default compute cluster."}),"\n",(0,d.jsx)(e.h3,{id:"request-15",children:"Request"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Syntax"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/update_cluster_mysql_user_name?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id": string,\n    "cluster": {\n        "cluster_name": "string",\n        "cluster_id": "string",\n        "mysql_user_name": [\n            string\n        ]\n    }\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"instance_id"}),(0,d.jsx)(e.td,{children:"instance_id"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster"}),(0,d.jsx)(e.td,{children:"Cluster object"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster.cluster_name"}),(0,d.jsx)(e.td,{children:"Name of the target cluster"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster.cluster_id"}),(0,d.jsx)(e.td,{children:"ID of the target cluster"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster.mysql_user_name"}),(0,d.jsx)(e.td,{children:"mysql_user_name"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"String array"})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/update_cluster_mysql_user_name?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id": "instance_id_deadbeef",\n    "cluster": {\n        "cluster_name": "cluster_name2",\n        "cluster_id": "cluster_id1",\n        "mysql_user_name": [\n            "jack",\n            "root"\n        ]\n    }\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Returned parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"code"}),(0,d.jsx)(e.td,{children:"Response status code"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsxs)(e.td,{children:["Enumerated values, including ",(0,d.jsx)(e.code,{children:"OK"}),", ",(0,d.jsx)(e.code,{children:"INVALID_ARGUMENT"}),", ",(0,d.jsx)(e.code,{children:"INTERNAL_ERROR"}),", and ",(0,d.jsx)(e.code,{children:"ALREADY_EXISTED"})]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"msg"}),(0,d.jsx)(e.td,{children:"Error message"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"If an error occurs, an error message will be returned; if no error occurs, an empty string will be returned."})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Successful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "OK",\n "msg": ""\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example of unsuccessful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "INTERANAL_ERROR",\n "msg": "no mysql user name to change"\n}\n'})}),"\n",(0,d.jsx)(e.h2,{id:"cloud_cluster_status",children:"cloud_cluster_status"}),"\n",(0,d.jsx)(e.h3,{id:"description-16",children:"Description"}),"\n",(0,d.jsx)(e.p,{children:"This API is used to retrieve the status of Fragments running on BE nodes within the compute cluster."}),"\n",(0,d.jsx)(e.admonition,{type:"tip",children:(0,d.jsx)(e.p,{children:"This API is a request to the FE."})}),"\n",(0,d.jsx)(e.h3,{id:"request-16",children:"Request"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Syntax"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:"GET /rest/v2/manager/cluster/cluster_info/cloud_cluster_status HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"user"}),(0,d.jsx)(e.td,{children:"Username"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"Authentication information"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"password"}),(0,d.jsx)(e.td,{children:"Password"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"Authentication information"})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:"curl -u root: http://127.0.0.1:12100/rest/v2/manager/cluster/cluster_info/cloud_cluster_status\n"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Returned parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"code"}),(0,d.jsx)(e.td,{children:"Response status code"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"msg"}),(0,d.jsx)(e.td,{children:"Error message"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"data"}),(0,d.jsx)(e.td,{children:"Map returned. The Key is Cluster ID and the Value is a BE list."}),(0,d.jsx)(e.td,{}),(0,d.jsx)(e.td,{})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Successful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n    "msg": "success",\n    "code": 0,\n    "data": {\n        "regression_cluster_id2": [\n            {\n                "host": "127.0.0.1",\n                "heartbeatPort": 14102,\n                "bePort": -1,\n                "httpPort": -1,\n                "brpcPort": -1,\n                "currentFragmentNum": 0,\n                "lastFragmentUpdateTime": 0\n            }\n        ],\n        "regression_test_cluster_id0": [\n            {\n                "host": "127.0.0.1",\n                "heartbeatPort": 11102,\n                "bePort": 11100,\n                "httpPort": 11101,\n                "brpcPort": 11103,\n                "currentFragmentNum": 3,\n                "lastFragmentUpdateTime": 1684152350291\n            }\n        ]\n    },\n    "count": 0\n}\n'})}),"\n",(0,d.jsx)(e.h2,{id:"enable_instance_sse",children:"enable_instance_sse"}),"\n",(0,d.jsx)(e.h3,{id:"description-17",children:"Description"}),"\n",(0,d.jsx)(e.p,{children:"This API is used to enable server-side encryption for the instance object data."}),"\n",(0,d.jsx)(e.h3,{id:"request-17",children:"Request"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Syntax"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/enable_instance_sse?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id": string\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsx)(e.tbody,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"instance_id"}),(0,d.jsx)(e.td,{children:"instance_id"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"Globally unique"})]})})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/enable_instance_sse?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_id": "123456"\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Returned parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"code"}),(0,d.jsx)(e.td,{children:"Response status code"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsxs)(e.td,{children:["Enumerated values, including ",(0,d.jsx)(e.code,{children:"OK"}),", ",(0,d.jsx)(e.code,{children:"INVALID_ARGUMENT"}),", ",(0,d.jsx)(e.code,{children:"INTERNAL_ERROR"}),", and ",(0,d.jsx)(e.code,{children:"ALREADY_EXISTED"})]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"msg"}),(0,d.jsx)(e.td,{children:"Error message"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"If an error occurs, an error message will be returned; if no error occurs, an empty string will be returned."})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Successful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "OK",\n "msg": ""\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example of unsuccessful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n "code": "INVALID_ARGUMENT",\n "msg": "failed to enable sse, instance has enabled sse"\n}\n'})}),"\n",(0,d.jsx)(e.h2,{id:"get_cluster_status",children:"get_cluster_status"}),"\n",(0,d.jsx)(e.h3,{id:"description-18",children:"Description"}),"\n",(0,d.jsx)(e.p,{children:"This API is used to retrieve the runtime status of the compute clusters across multiple instances."}),"\n",(0,d.jsx)(e.h3,{id:"request-18",children:"Request"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Syntax"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/get_cluster_status?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "instance_ids": [string, string],\n    "status": string\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"instance_ids"}),(0,d.jsx)(e.td,{children:"IDs of the instances"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cloud_unique_ids"}),(0,d.jsx)(e.td,{children:"cloud_unique_ids"}),(0,d.jsx)(e.td,{children:"Optional"}),(0,d.jsx)(e.td,{children:"instance_ids is required while cloud_unique_ids is optional"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"status"}),(0,d.jsx)(e.td,{children:"Filtering condition"}),(0,d.jsx)(e.td,{children:"Optional"}),(0,d.jsxs)(e.td,{children:["Possible status includes ",(0,d.jsx)(e.code,{children:"NORMAL"}),", ",(0,d.jsx)(e.code,{children:"STOPPED"}),", and ",(0,d.jsx)(e.code,{children:"TO_RESUME"}),". If this parameter is not filled in, the systen will return the status of all clusters."]})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/get_cluster_status?token=greedisgood9999 HTTP/1.1\nContent-Length: 109\nContent-Type: text/plain\n{\n    "instance_ids":["regression_instance-dx-1219", "regression_instance-dx-0128"],\n    "status":"NORMAL"\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Returned parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"code"}),(0,d.jsx)(e.td,{children:"Response status code"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"msg"}),(0,d.jsx)(e.td,{children:"Error message"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"result.details"}),(0,d.jsx)(e.td,{children:"Returned status list of all compute clusters"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Successful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n    "code": "OK",\n    "msg": "",\n    "result": {\n        "details": [\n            {\n                "instance_id": "regression_instance-dx-1219",\n                "clusters": [\n                    {\n                        "cluster_id": "regression_cluster_id2",\n                        "cluster_name": "regression_cluster_name2-changed-again",\n                        "cluster_status": "NORMAL"\n                    },\n                    {\n                        "cluster_id": "regression_cluster_id3",\n                        "cluster_name": "regression_cluster_name3",\n                        "cluster_status": "NORMAL"\n                    },\n                    {\n                        "cluster_id": "regression_test_cluster_id0",\n                        "cluster_name": "regression_test_cluster_name0",\n                        "cluster_status": "NORMAL"\n                    }\n                ]\n            }\n        ]\n    }\n}\n'})}),"\n",(0,d.jsx)(e.h2,{id:"set_cluster_status",children:"set_cluster_status"}),"\n",(0,d.jsx)(e.h3,{id:"description-19",children:"Description"}),"\n",(0,d.jsx)(e.p,{children:"This API is used to set the runtime status of compute clusters."}),"\n",(0,d.jsx)(e.h3,{id:"request-19",children:"Request"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Syntax"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/set_cluster_status?token=<token> HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "cloud_unique_id": string,\n    "cluster": {\n        "cluster_id": string,\n        "cluster_status":string\n    }\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cloud_unique_id"}),(0,d.jsx)(e.td,{}),(0,d.jsx)(e.td,{children:"Optional"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"instance_id"}),(0,d.jsx)(e.td,{}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster_id"}),(0,d.jsx)(e.td,{children:"ID of the target cluster"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cluster_status"}),(0,d.jsx)(e.td,{children:"Status of the target cluster"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsxs)(e.td,{children:["Possible status includes ",(0,d.jsx)(e.code,{children:"NORMAL"}),", ",(0,d.jsx)(e.code,{children:"STOPPED"}),", and ",(0,d.jsx)(e.code,{children:"TO_RESUME"}),"."]})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'PUT /MetaService/http/set_cluster_status?token=greedisgood9999 HTTP/1.1\nContent-Length: 128\nContent-Type: text/plain\n{\n    "cloud_unique_id": "1:regression_instance0:regression-cloud-unique-id-fe-0128",\n    "cluster": {\n        "cluster_id": "test_cluster_1_id1",\n        "cluster_status":"STOPPED"\n    }\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Returned parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"code"}),(0,d.jsx)(e.td,{children:"Response status code"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"msg"}),(0,d.jsx)(e.td,{children:"Error message"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Successful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n    "code": "OK",\n    "msg": ""\n}\n'})}),"\n",(0,d.jsx)(e.p,{children:"Since this API is used by both the cloud management platform and the FE, certain rules needs to be followed. Only the following status transitions are allowed:"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.code,{children:"ClusterStatus::UNKNOWN"})," -> ",(0,d.jsx)(e.code,{children:"ClusterStatus::NORMAL"})," (When a compute cluster is created using the cloud management platform, the initial status of the cluster is directly set to ",(0,d.jsx)(e.code,{children:"NORMAL"}),". This operation is usually completed via the ",(0,d.jsx)(e.code,{children:"add_cluster"})," interface.)"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.code,{children:"ClusterStatus::NORMAL"})," -> ",(0,d.jsx)(e.code,{children:"ClusterStatus::SUSPENDED"})," (Set when the cloud management platform suspends the compute cluster)"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.code,{children:"ClusterStatus::SUSPENDED"})," -> ",(0,d.jsx)(e.code,{children:"ClusterStatus::TO_RESUME"})," (Set when the FE wakes up the compute cluster)"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.code,{children:"ClusterStatus::TO_RESUME"})," -> ",(0,d.jsx)(e.code,{children:"ClusterStatus::NORMAL"})," (Set when the cloud management platform resumes the status of the compute cluster)"]}),"\n"]}),"\n",(0,d.jsx)(e.p,{children:"Attempts to execute status transitions other than those listed above will incur errors."}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'{\n    "code": "INVALID_ARGUMENT",\n    "msg": "failed to set cluster status, original cluster is NORMAL and want set TO_RESUME"\n}\n'})}),"\n",(0,d.jsx)(e.h2,{id:"decode_key",children:"decode_key"}),"\n",(0,d.jsx)(e.h3,{id:"description-20",children:"Description"}),"\n",(0,d.jsx)(e.p,{children:"This API is used to decode the Key from the Meta Service Log for debugging purposes."}),"\n",(0,d.jsx)(e.h3,{id:"request-20",children:"Request"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Syntax"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:"GET /MetaService/http/decode_key?token=greedisgood9999&key={key} HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"key"}),(0,d.jsx)(e.td,{children:"Key to be decoded"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"unicode"}),(0,d.jsx)(e.td,{children:"Response format"}),(0,d.jsx)(e.td,{children:"Optional"}),(0,d.jsx)(e.td,{})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:"GET /MetaService/http/decode_key?token=greedisgood9999&key=0110696e7374616e636500011072656772657373696f6e5f696e7374616e6365300001 HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Successful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:"\u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 0. key space: 1\n\u2502 \u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 1. instance\n\u2502 \u2502                     \u250C\u2500 2. regression_instance0\n\u2502 \u2502                     \u2502\n\u25BC \u25BC                     \u25BC\n0110696e7374616e636500011072656772657373696f6e5f696e7374616e6365300001\n"})}),"\n",(0,d.jsx)(e.h2,{id:"get_tablet_stats",children:"get_tablet_stats"}),"\n",(0,d.jsx)(e.h3,{id:"description-21",children:"Description"}),"\n",(0,d.jsx)(e.p,{children:"This API is used to query the status of a tablet for debugging purposes."}),"\n",(0,d.jsx)(e.h3,{id:"request-21",children:"Request"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Syntax"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'POST /MetaService/http/get_tablet_stats?token=greedisgood9999 HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "cloud_unique_id": string,\n    "tablet_idx": [{\n        "table_id": int64,\n        "index_id": int64,\n        "partition_id": int64,\n        "tablet_id": int64\n    }]\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cloud_unique_id"}),(0,d.jsx)(e.td,{children:"cloud_unique_id of node"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"tablet_idx"}),(0,d.jsx)(e.td,{children:"Tablet list to query"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"Array"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"tablet_idx.table_id"}),(0,d.jsx)(e.td,{children:"table_id of the tablet to query"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"tablet_idx.index_id"}),(0,d.jsx)(e.td,{children:"index_id of the tablet to query"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"tablet_idx.partition_id"}),(0,d.jsx)(e.td,{children:"partition_id of the tablet to query"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"tablet_idx.tablet_id"}),(0,d.jsx)(e.td,{children:"tablet_id of the tablet to query"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'POST /MetaService/http/get_tablet_stats?token=greedisgood9999 HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "cloud_unique_id":"1:regression_instance0:regression-cloud-unique-id0",\n    "tablet_idx": [{\n        "table_id":113973,\n        "index_id":113974,\n        "partition_id":113966,\n        "tablet_id":114739\n    }]\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Successful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'status {\n  code: OK\n  msg: ""\n}\ntablet_stats {\n  idx {\n    table_id: 113973\n    index_id: 113974\n    partition_id: 113966\n    tablet_id: 114739\n  }\n  data_size: 0\n  num_rows: 0\n  num_rowsets: 2\n  num_segments: 0\n  base_compaction_cnt: 0\n  cumulative_compaction_cnt: 0\n  cumulative_point: 2\n}\n'})}),"\n",(0,d.jsx)(e.h2,{id:"abort_txn",children:"abort_txn"}),"\n",(0,d.jsx)(e.h3,{id:"description-22",children:"Description"}),"\n",(0,d.jsx)(e.p,{children:"This API is used to abort a transaction during debugging."}),"\n",(0,d.jsx)(e.h3,{id:"request-22",children:"Request"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Syntax"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'POST /MetaService/http/abort_txn?token=greedisgood9999 HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "cloud_unique_id": string,\n    "txn_id": int64\n}\nor\n{\n    "cloud_unique_id": string,\n    "db_id": int64,\n    "label": string\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cloud_unique_id"}),(0,d.jsx)(e.td,{children:"cloud_unique_id of node"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"txn_id"}),(0,d.jsx)(e.td,{children:"ID of the transaction to abort"}),(0,d.jsx)(e.td,{children:"Optional"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"db_id"}),(0,d.jsx)(e.td,{children:"db_id of the transaction to abort"}),(0,d.jsx)(e.td,{children:"Optional"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"label"}),(0,d.jsx)(e.td,{children:"Label of the transaction to abort"}),(0,d.jsx)(e.td,{children:"Optional"}),(0,d.jsx)(e.td,{})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'POST /MetaService/http/abort_txn?token=greedisgood9999 HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "cloud_unique_id": "1:regression_instance0:regression-cloud-unique-id0",\n    "txn_id": 869414052004864\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Successful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'status {\n  code: OK\n  msg: ""\n}\n'})}),"\n",(0,d.jsx)(e.h2,{id:"abort_tablet_job",children:"abort_tablet_job"}),"\n",(0,d.jsx)(e.h3,{id:"description-23",children:"Description"}),"\n",(0,d.jsx)(e.p,{children:"This API is used to abort a job running on a tablet. Currently, it only supports compaction jobs. It is used for debugging purposes."}),"\n",(0,d.jsx)(e.h3,{id:"request-23",children:"Request"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Syntax"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'POST /MetaService/http/abort_tablet_job?token=greedisgood9999 HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "cloud_unique_id": string,\n    "job" : {\n        "idx": {"tablet_id": int64},\n        "compaction": [{"id": string}]\n    }\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Parameter"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Parameter"}),(0,d.jsx)(e.th,{children:"Description"}),(0,d.jsx)(e.th,{children:"Required/Optional"}),(0,d.jsx)(e.th,{children:"Notes"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"cloud_unique_id"}),(0,d.jsx)(e.td,{children:"cloud_unique_id of node"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"job"}),(0,d.jsx)(e.td,{children:"Job to abort"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{children:"Currently only supports compaction jobs"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"job.idx"}),(0,d.jsx)(e.td,{children:"Index to abort"}),(0,d.jsx)(e.td,{children:"Required"}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"job.idx.tablet_id"}),(0,d.jsx)(e.td,{children:"The corresponding tablet_id to abort.idx"}),(0,d.jsx)(e.td,{}),(0,d.jsx)(e.td,{})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"job.compaction"}),(0,d.jsx)(e.td,{children:"The compaction to abort"}),(0,d.jsx)(e.td,{}),(0,d.jsx)(e.td,{children:"Array"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"job.compaction.id"}),(0,d.jsx)(e.td,{children:"ID of the compaction to abort"}),(0,d.jsx)(e.td,{}),(0,d.jsx)(e.td,{})]})]})]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Example"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-Plain",children:'POST /MetaService/http/abort_tablet_job?token=greedisgood9999 HTTP/1.1\nContent-Length: <ContentLength>\nContent-Type: text/plain\n{\n    "cloud_unique_id": "1:regression_instance0:regression-cloud-unique-id0",\n    "job" : {\n        "idx": {"tablet_id": 113973},\n        "compaction": [{"id": 113974}]\n    }\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Successful response"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'status {\n  code: OK\n  msg: ""\n}\n'})})]})}function o(n={}){let{wrapper:e}={...(0,i.a)(),...n.components};return e?(0,d.jsx)(e,{...n,children:(0,d.jsx)(a,{...n})}):a(n)}},250065:function(n,e,s){s.d(e,{Z:function(){return l},a:function(){return r}});var t=s(667294);let d={},i=t.createContext(d);function r(n){let e=t.useContext(i);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(d):n.components||d:r(n.components),t.createElement(i.Provider,{value:e},n.children)}}}]);