"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["784691"],{448109:function(n,e,i){i.r(e),i.d(e,{metadata:()=>t,contentTitle:()=>r,default:()=>h,assets:()=>a,toc:()=>c,frontMatter:()=>s});var t=JSON.parse('{"id":"install/source-install/compilation-win","title":"Compilation on Windows","description":"\x3c!--","source":"@site/versioned_docs/version-1.2/install/source-install/compilation-win.md","sourceDirName":"install/source-install","slug":"/install/source-install/compilation-win","permalink":"/docs/1.2/install/source-install/compilation-win","draft":false,"unlisted":false,"tags":[],"version":"1.2","frontMatter":{"title":"Compilation on Windows","language":"en"},"sidebar":"docs","previous":{"title":"Compilation With Arm","permalink":"/docs/1.2/install/source-install/compilation-arm"},"next":{"title":"Compilation on macOS","permalink":"/docs/1.2/install/source-install/compilation-mac"}}'),l=i("785893"),o=i("250065");let s={title:"Compilation on Windows",language:"en"},r="Compile With Windows",a={},c=[{value:"Environment Requirements",id:"environment-requirements",level:2},{value:"Steps",id:"steps",level:2},{value:"Note",id:"note",level:2}];function d(n){let e={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,o.a)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.header,{children:(0,l.jsx)(e.h1,{id:"compile-with-windows",children:"Compile With Windows"})}),"\n",(0,l.jsx)(e.p,{children:"This topic is about how to compile Doris from source with Windows."}),"\n",(0,l.jsx)(e.h2,{id:"environment-requirements",children:"Environment Requirements"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"Windows 11 or Windows 10, Version 1903, Build 18362 or newer"}),"\n",(0,l.jsx)(e.li,{children:"Normal-functioning WSL2"}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"steps",children:"Steps"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Install the Oracle Linux 7.9 distribution from the Microsoft Store"}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"You can also install other distros you want via Docker images or Github installs"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Open CMD and specify the identity to run WSL2"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-shell",children:"wsl -d OracleLinux_7_9 -u root\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Install dependencies"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-shell",children:"# Install required system packages\nsudo yum install -y byacc patch automake libtool make which file ncurses-devel gettext-devel unzip bzip2 zip util-linux wget git python2\n  \n# Install autoconf-2.69\nwget http://ftp.gnu.org/gnu/autoconf/autoconf-2.69.tar.gz && \\\n    tar zxf autoconf-2.69.tar.gz && \\\n    cd autoconf-2.69 && \\\n    ./configure && \\\n    make && \\\n    make install\n  \n# install bison-3.0.4\nwget http://ftp.gnu.org/gnu/bison/bison-3.0.4.tar.gz && \\\n    tar xzf bison-3.0.4.tar.gz && \\\n    cd bison-3.0.4 && \\\n    ./configure && \\\n    make && \\\n    make install\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Install LDB_TOOLCHAIN and other major compilation environments"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://doris-thirdparty-repo.bj.bcebos.com/thirdparty/jdk-8u131-linux-x64.tar.gz",children:"Java8"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://doris-thirdparty-repo.bj.bcebos.com/thirdparty/apache-maven-3.6.3-bin.tar.gz",children:"Apache Maven 3.6.3"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://doris-thirdparty-repo.bj.bcebos.com/thirdparty/node-v12.13.0-linux-x64.tar.gz",children:"Node v12.13.0"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/amosbird/ldb_toolchain_gen/releases/download/v0.17/ldb_toolchain_gen.sh",children:"LDB_TOOLCHAIN"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Configure environment variables"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Pull Doris source code"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{children:"git clone http://github.com/apache/doris.git\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Compile"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{children:"cd doris\nsh build.sh\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"note",children:"Note"}),"\n",(0,l.jsx)(e.p,{children:"The default data storage drive letter of WSL2 distribution is the C drive. If neccessary, you can change that to prevent the system drive letter from getting full."})]})}function h(n={}){let{wrapper:e}={...(0,o.a)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(d,{...n})}):d(n)}},250065:function(n,e,i){i.d(e,{Z:function(){return r},a:function(){return s}});var t=i(667294);let l={},o=t.createContext(l);function s(n){let e=t.useContext(o);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:s(n.components),t.createElement(o.Provider,{value:e},n.children)}}}]);