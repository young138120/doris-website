"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["223638"],{307303:function(e,n,i){i.r(n),i.d(n,{metadata:()=>t,contentTitle:()=>c,default:()=>h,assets:()=>a,toc:()=>d,frontMatter:()=>o});var t=JSON.parse('{"id":"advanced/time-zone","title":"Time zone","description":"\x3c!--","source":"@site/versioned_docs/version-1.2/advanced/time-zone.md","sourceDirName":"advanced","slug":"/advanced/time-zone","permalink":"/docs/1.2/advanced/time-zone","draft":false,"unlisted":false,"tags":[],"version":"1.2","frontMatter":{"title":"Time zone","language":"en"},"sidebar":"docs","previous":{"title":"Variable","permalink":"/docs/1.2/advanced/variables"},"next":{"title":"File Manager","permalink":"/docs/1.2/advanced/small-file-mgr"}}'),s=i("785893"),r=i("250065");let o={title:"Time zone",language:"en"},c="Time zone",a={},d=[{value:"Noun Interpretation",id:"noun-interpretation",level:2},{value:"Basic concepts",id:"basic-concepts",level:2},{value:"Specific operations",id:"specific-operations",level:2},{value:"Impact of time zone",id:"impact-of-time-zone",level:3},{value:"Restrictions",id:"restrictions",level:2},{value:"Time zone format list",id:"time-zone-format-list",level:2}];function l(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",ul:"ul",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"time-zone",children:"Time zone"})}),"\n",(0,s.jsx)(n.p,{children:"Doris supports multiple time zone settings"}),"\n",(0,s.jsx)(n.h2,{id:"noun-interpretation",children:"Noun Interpretation"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"FE: Frontend, the front-end node of Doris. Responsible for metadata management and request access."}),"\n",(0,s.jsx)(n.li,{children:"BE: Backend, Doris's back-end node. Responsible for query execution and data storage."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"basic-concepts",children:"Basic concepts"}),"\n",(0,s.jsx)(n.p,{children:"There are multiple time zone related parameters in Doris"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"system_time_zone"}),":"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"When the server starts, it will be set automatically according to the time zone set by the machine, which cannot be modified after setting."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"time_zone"}),":"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Server current time zone, set it at session level or global level."}),"\n",(0,s.jsx)(n.h2,{id:"specific-operations",children:"Specific operations"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"SHOW VARIABLES LIKE '% time_zone%'"})}),"\n",(0,s.jsx)(n.p,{children:"View the current time zone related configuration"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"SET time_zone = 'Asia/Shanghai'"})}),"\n",(0,s.jsx)(n.p,{children:"This command can set the session level time zone, which will fail after disconnection."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"SET global time_zone = 'Asia/Shanghai'"})}),"\n",(0,s.jsx)(n.p,{children:"This command can set time zone parameters at the global level. The FE will persist the parameters and will not fail when the connection is disconnected."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"impact-of-time-zone",children:"Impact of time zone"}),"\n",(0,s.jsx)(n.p,{children:"Time zone setting affects the display and storage of time zone sensitive values."}),"\n",(0,s.jsxs)(n.p,{children:["It includes the values displayed by time functions such as ",(0,s.jsx)(n.code,{children:"NOW()"})," or ",(0,s.jsx)(n.code,{children:"CURTIME()"}),", as well as the time values in ",(0,s.jsx)(n.code,{children:"SHOW LOAD"})," and ",(0,s.jsx)(n.code,{children:"SHOW BACKENDS"})," statements."]}),"\n",(0,s.jsxs)(n.p,{children:["However, it does not affect the ",(0,s.jsx)(n.code,{children:"LESS THAN VALUE"})," of the time-type partition column in the ",(0,s.jsx)(n.code,{children:"CREATE TABLE"})," statement, nor does it affect the display of values stored as ",(0,s.jsx)(n.code,{children:"DATE/DATETIME"})," type."]}),"\n",(0,s.jsx)(n.p,{children:"Functions affected by time zone:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"FROM_UNIXTIME"}),": Given a UTC timestamp, return the date and time of the specified time zone, such as ",(0,s.jsx)(n.code,{children:"FROM_UNIXTIME(0)"}),", return the CST time zone: ",(0,s.jsx)(n.code,{children:"1970-01-08:00"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"UNIX_TIMESTAMP"}),": Given a specified time zone date and time, return UTC timestamp, such as CST time zone ",(0,s.jsx)(n.code,{children:"UNIX_TIMESTAMP('1970-01 08:00:00')"}),", return ",(0,s.jsx)(n.code,{children:"0"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"CURTIME"}),": Returns the datetime of specified time zone."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"NOW"}),": Returns the specified date and time of specified time zone."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"CONVERT_TZ"}),": Converts a date and time from one specified time zone to another."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"restrictions",children:"Restrictions"}),"\n",(0,s.jsx)(n.p,{children:"Time zone values can be given in several formats, case-insensitive:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"A string representing UTC offset, such as '+10:00' or '-6:00'."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:'Standard time zone formats, such as "Asia/Shanghai", "America/Los_Angeles"'}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Abbreviated time zone formats such as MET and CTT are not supported. Because the abbreviated time zone is ambiguous in different scenarios, it is not recommended to use it."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:'In order to be compatible with Doris and support CST abbreviated time zone, CST will be internally transferred to "Asia/Shanghai", which is Chinese standard time zone.'}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"time-zone-format-list",children:"Time zone format list"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones",children:"List of TZ database time zones"})})]})}function h(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},250065:function(e,n,i){i.d(n,{Z:function(){return c},a:function(){return o}});var t=i(667294);let s={},r=t.createContext(s);function o(e){let n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);